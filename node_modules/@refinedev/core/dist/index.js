"use client"
var Mi=Object.create;var Zt=Object.defineProperty;var wi=Object.getOwnPropertyDescriptor;var Ii=Object.getOwnPropertyNames;var Si=Object.getPrototypeOf,Fi=Object.prototype.hasOwnProperty;var o=(e,t)=>Zt(e,"name",{value:t,configurable:!0});var Ai=(e,t)=>{for(var r in t)Zt(e,r,{get:t[r],enumerable:!0})},js=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ii(t))!Fi.call(e,s)&&s!==r&&Zt(e,s,{get:()=>t[s],enumerable:!(n=wi(t,s))||n.enumerable});return e};var B=(e,t,r)=>(r=e!=null?Mi(Si(e)):{},js(t||!e||!e.__esModule?Zt(r,"default",{value:e,enumerable:!0}):r,e)),ki=e=>js(Zt({},"__esModule",{value:!0}),e);var Pu={};Ai(Pu,{AccessControlContext:()=>pt,AuthPage:()=>pi,Authenticated:()=>hi,AutoSaveIndicator:()=>Ei,CanAccess:()=>bi,ErrorComponent:()=>ni,GitHubBanner:()=>Li,KeyBuilder:()=>bt,LayoutWrapper:()=>Pi,LoginPage:()=>Kr,ReadyPage:()=>vo,Refine:()=>xi,ResourceContext:()=>it,RouteChangeHandler:()=>Do,TranslationContext:()=>He,UndoableQueue:()=>Cs,WelcomePage:()=>mi,createTreeView:()=>No,file2Base64:()=>bn,flattenObjectKeys:()=>ur,generateDefaultDocumentTitle:()=>Oo,getDefaultFilter:()=>Cn,getDefaultSortOrder:()=>hn,getNextPageParam:()=>or,getPreviousPageParam:()=>sr,handleUseParams:()=>ko,importCSVMapper:()=>Jt,keys:()=>Oe,legacyResourceTransform:()=>nr,matchResourceFromRoute:()=>Bo,parseTableParams:()=>cr,parseTableParamsFromQuery:()=>Rn,pickDataProvider:()=>_,pickNotDeprecated:()=>S,propertyPathToArray:()=>jo,queryKeys:()=>Qo,routeGenerator:()=>rr,setInitialFilters:()=>lr,setInitialSorters:()=>mr,stringifyTableParams:()=>pr,unionFilters:()=>Lt,unionSorters:()=>dr,useActiveAuthProvider:()=>Y,useApiUrl:()=>Xn,useAuthenticated:()=>wn,useBack:()=>Po,useBreadcrumb:()=>su,useCan:()=>As,useCanWithoutCache:()=>eu,useCancelNotification:()=>Ze,useCheckError:()=>In,useCreate:()=>Gt,useCreateMany:()=>oo,useCustom:()=>Jn,useCustomMutation:()=>ta,useDataProvider:()=>ne,useDelete:()=>Hn,useDeleteMany:()=>jn,useExport:()=>_i,useForgotPassword:()=>Xr,useForm:()=>ji,useGetIdentity:()=>_r,useGetLocale:()=>Ua,useGetToPath:()=>gt,useGo:()=>ge,useHandleNotification:()=>pe,useImport:()=>Yi,useInfiniteList:()=>na,useInvalidate:()=>Ee,useIsAuthenticated:()=>yr,useIsExistAuthentication:()=>Yr,useLink:()=>Tt,useList:()=>Bt,useLiveMode:()=>Us,useLoadingOvertime:()=>te,useLog:()=>Ge,useLogList:()=>ou,useLogin:()=>Vt,useLogout:()=>fr,useMany:()=>Jr,useMenu:()=>si,useMeta:()=>J,useModal:()=>Ji,useMutationMode:()=>ze,useNavigation:()=>ye,useNotification:()=>Fe,useOnError:()=>ce,useOne:()=>Nt,useParse:()=>po,useParsed:()=>xe,usePermissions:()=>vn,usePublish:()=>Ke,useRedirectionAfterSubmission:()=>Is,useRefineContext:()=>se,useRegister:()=>jr,useResource:()=>O,useResourceSubscription:()=>nt,useResourceWithRoute:()=>Es,useRouterContext:()=>ue,useRouterType:()=>q,useSelect:()=>tu,useSetLocale:()=>Ea,useShow:()=>Zi,useSubscription:()=>zi,useSyncWithLocation:()=>Or,useTable:()=>ru,useTitle:()=>fn,useToPath:()=>Ba,useTranslate:()=>j,useUpdate:()=>Tr,useUpdateMany:()=>zn,useUpdatePassword:()=>Zr,useUserFriendlyName:()=>Dt,useWarnAboutChange:()=>kt,userFriendlyResourceName:()=>qt});module.exports=ki(Pu);var tt=B(require("react"));var Jo=require("@tanstack/react-query"),qo=require("@refinedev/devtools-internal");var zr=B(require("qs")),Zo=B(require("lodash/unionWith")),Yo=B(require("lodash/differenceWith")),Tn=B(require("warn-once"));var Yt=o(e=>e/1e3,"userFriendlySecond");var Xs=B(require("lodash/zip")),Zs=B(require("lodash/fromPairs"));var Jt=o((e,t=r=>r)=>{let[r,...n]=e;return n.map(s=>(0,Zs.default)((0,Xs.default)(r,s))).map((s,i,a)=>t.call(void 0,s,i,a))},"importCSVMapper");var Ao=B(require("pluralize"));var qt=o((e="",t)=>{let r=er(e);return t==="singular"?Ao.default.singular(r):Ao.default.plural(r)},"userFriendlyResourceName");var ko=o((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams");var S=o((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function rt(e,t){return e.findIndex((r,n)=>n<=e.length-t.length&&t.every((s,i)=>e[n+i]===s))}o(rt,"arrayFindIndex");function Qi(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(rt(e,["auth","login"])!==-1)return["useLogin"];if(rt(e,["auth","logout"])!==-1)return["useLogout"];if(rt(e,["auth","identity"])!==-1)return["getUserIdentity"];if(rt(e,["auth","register"])!==-1)return["useRegister"];if(rt(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(rt(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(rt(e,["auth","onError"])!==-1)return["useCheckError"];if(rt(e,["auth","permissions"])!==-1)return["usePermissions"];if(rt(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}o(Qi,"convertToLegacy");var Me=class{constructor(t=[]){this.segments=[];this.segments=t}key(){return this.segments}legacy(){return Qi(this.segments)}get(t){return t?this.legacy():this.segments}};o(Me,"BaseKeyBuilder");var Xe=class extends Me{params(t){return new Me([...this.segments,t])}};o(Xe,"ParamsKeyBuilder");var Ir=class extends Me{id(t){return new Xe([...this.segments,t?String(t):void 0])}};o(Ir,"DataIdRequiringKeyBuilder");var Sr=class extends Me{ids(...t){return new Xe([...this.segments,...t.length?[t.map(r=>String(r))]:[]])}};o(Sr,"DataIdsRequiringKeyBuilder");var Fr=class extends Me{action(t){if(t==="one")return new Ir([...this.segments,t]);if(t==="many")return new Sr([...this.segments,t]);if(["list","infinite"].includes(t))return new Xe([...this.segments,t]);throw new Error("Invalid action type")}};o(Fr,"DataResourceKeyBuilder");var Ar=class extends Me{resource(t){return new Fr([...this.segments,t])}mutation(t){return new Xe([...t==="custom"?this.segments:[this.segments[0]],t])}};o(Ar,"DataKeyBuilder");var kr=class extends Me{action(t){return new Xe([...this.segments,t])}};o(kr,"AuthKeyBuilder");var Qr=class extends Me{action(t){return new Xe([...this.segments,t])}};o(Qr,"AccessResourceKeyBuilder");var Vr=class extends Me{resource(t){return new Qr([...this.segments,t])}};o(Vr,"AccessKeyBuilder");var Br=class extends Me{action(t){return new Xe([...this.segments,t])}};o(Br,"AuditActionKeyBuilder");var Nr=class extends Me{resource(t){return new Br([...this.segments,t])}action(t){return new Xe([...this.segments,t])}};o(Nr,"AuditKeyBuilder");var bt=class extends Me{data(t){return new Ar(["data",t||"default"])}auth(){return new kr(["auth"])}access(){return new Vr(["access"])}audit(){return new Nr(["audit"])}};o(bt,"KeyBuilder");var Oe=o(()=>new bt([]),"keys");var Qo=o((e,t,r,n)=>{let s=t||"default",i={all:[s],resourceAll:[s,e||""],list:a=>[...i.resourceAll,"list",{...a,...S(r,n)||{}}],many:a=>[...i.resourceAll,"getMany",a==null?void 0:a.map(String),{...S(r,n)||{}}].filter(u=>u!==void 0),detail:a=>[...i.resourceAll,"detail",a==null?void 0:a.toString(),{...S(r,n)||{}}],logList:a=>["logList",e,a,n].filter(u=>u!==void 0)};return i},"queryKeys"),ot=o(e=>(t,r,n,s)=>{let i=r||"default";return{all:Oe().data(i).get(e),resourceAll:Oe().data(r).resource(t??"").get(e),list:u=>Oe().data(r).resource(t??"").action("list").params({...u,...S(n,s)||{}}).get(e),many:u=>Oe().data(r).resource(t??"").action("many").ids(...u??[]).params({...S(n,s)||{}}).get(e),detail:u=>Oe().data(r).resource(t??"").action("one").id(u??"").params({...S(n,s)||{}}).get(e),logList:u=>[...Oe().audit().resource(t).action("list").params(u).get(e),s].filter(p=>p!==void 0)}},"queryKeysReplacement");var Vo=o((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission");var At=o(e=>e.startsWith(":"),"isParameter");var qe=o(e=>e.split("/").filter(r=>r!==""),"splitToSegments");var Ys=o((e,t)=>{let r=qe(e),n=qe(t);return r.length===n.length},"isSegmentCountsSame");var Le=o(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes");var Js=o((e,t)=>{let r=Le(e),n=Le(t);if(!Ys(r,n))return!1;let s=qe(r);return qe(n).every((a,u)=>At(a)||a===s[u])},"checkBySegments");var qs=o((e,t,r)=>{let n=Le(r||""),s=`${n}${n?"/":""}${e}`;return t==="list"?s=`${s}`:t==="create"?s=`${s}/create`:t==="edit"?s=`${s}/edit/:id`:t==="show"?s=`${s}/show/:id`:t==="clone"&&(s=`${s}/clone/:id`),`/${s.replace(/^\//,"")}`},"getDefaultActionPath");var Ne=o((e,t)=>{var s,i;let r=S((s=e.meta)==null?void 0:s.parent,(i=e.options)==null?void 0:i.parent,e.parentName);return r?t.find(a=>(a.identifier??a.name)===r)??{name:r}:void 0},"getParentResource");var tr=o((e,t,r)=>{let n=[],s=Ne(e,t);for(;s;)n.push(s),s=Ne(s,t);if(n.length!==0)return`/${n.reverse().map(i=>{var u;let a=r?((u=i.options)==null?void 0:u.route)??i.name:i.name;return Le(a)}).join("/")}`},"getParentPrefixForResource");var ve=o((e,t,r)=>{let n=[],s=["list","show","edit","create","clone"],i=tr(e,t,r);return s.forEach(a=>{var c,d;let u=r&&a==="clone"?e.create:e[a],p;typeof u=="function"||r?p=qs(r?((c=e.meta)==null?void 0:c.route)??((d=e.options)==null?void 0:d.route)??e.name:e.name,a,r?i:void 0):typeof u=="string"?p=u:typeof u=="object"&&(p=u.path),p&&n.push({action:a,resource:e,route:`/${p.replace(/^\//,"")}`})}),n},"getActionRoutesFromResource");var en=o(e=>{var s;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(i=>({...i,splitted:qe(Le(i.route))})),r=((s=t[0])==null?void 0:s.splitted.length)??0,n=[...t];for(let i=0;i<r;i++){let a=n.filter(u=>!At(u.splitted[i]));if(a.length!==0){if(a.length===1){n=a;break}n=a}}return n[0]},"pickMatchedRoute");var Bo=o((e,t)=>{let n=t.flatMap(i=>ve(i,t)).filter(i=>Js(e,i.route)),s=en(n);return{found:!!s,resource:s==null?void 0:s.resource,action:s==null?void 0:s.action,matchedRoute:s==null?void 0:s.route}},"matchResourceFromRoute");var rr=o((e,t)=>{var s;let r,n=tr(e,t,!0);if(n){let i=S(e.meta,e.options);r=`${n}/${(i==null?void 0:i.route)??e.name}`}else r=((s=e.options)==null?void 0:s.route)??e.name;return`/${r.replace(/^\//,"")}`},"routeGenerator");var No=o(e=>{var a;let t=[],r={},n={},s,i;for(let u=0;u<e.length;u++){s=e[u];let p=s.route??((a=S(s==null?void 0:s.meta,s.options))==null?void 0:a.route)??"";r[p]=s,r[p].children=[],n[s.name]=s,n[s.name].children=[]}for(let u in r)Object.hasOwn(r,u)&&(i=r[u],i.parentName&&n[i.parentName]?n[i.parentName].children.push(i):t.push(i));return t},"createTreeView");var er=o(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString");var Ho=B(require("react")),Go=B(require("pluralize"));var tn=B(require("react"));var Ko=o(({children:e})=>tn.default.createElement("div",null,e),"DefaultLayout");var we={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:er,plural:Go.default.plural,singular:Go.default.singular},disableServerSideValidation:!1},Ie=Ho.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Ko,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:we}),rn=o(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,undoableTimeout:s,children:i,DashboardPage:a,Title:u,Layout:p=Ko,Header:c,Sider:d,Footer:m,OffLayoutArea:T,LoginPage:g=Kr,catchAll:x,liveMode:E="off",onLiveEvent:U,options:f})=>Ho.default.createElement(Ie.Provider,{value:{__initialized:!0,hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,Title:u,undoableTimeout:s,Layout:p,Header:c,Sider:d,Footer:m,OffLayoutArea:T,DashboardPage:a,LoginPage:g,catchAll:x,liveMode:E,onLiveEvent:U,options:f}},i),"RefineContextProvider");var $o=o(({options:e,disableTelemetry:t,liveMode:r,mutationMode:n,reactQueryClientConfig:s,reactQueryDevtoolConfig:i,syncWithLocation:a,undoableTimeout:u,warnWhenUnsavedChanges:p}={})=>{var T,g,x,E,U,f,P,M;let c={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??n??we.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??we.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??a??we.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??p??we.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??we.liveMode,redirect:{afterCreate:((T=e==null?void 0:e.redirect)==null?void 0:T.afterCreate)??we.redirect.afterCreate,afterClone:((g=e==null?void 0:e.redirect)==null?void 0:g.afterClone)??we.redirect.afterClone,afterEdit:((x=e==null?void 0:e.redirect)==null?void 0:x.afterEdit)??we.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??we.overtime,textTransformers:{humanize:((E=e==null?void 0:e.textTransformers)==null?void 0:E.humanize)??we.textTransformers.humanize,plural:((U=e==null?void 0:e.textTransformers)==null?void 0:U.plural)??we.textTransformers.plural,singular:((f=e==null?void 0:e.textTransformers)==null?void 0:f.singular)??we.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??we.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},d=(e==null?void 0:e.disableTelemetry)??t??!1,m={clientConfig:((P=e==null?void 0:e.reactQuery)==null?void 0:P.clientConfig)??s??{},devtoolConfig:((M=e==null?void 0:e.reactQuery)==null?void 0:M.devtoolConfig)??i??{}};return{optionsWithDefaults:c,disableTelemetryWithDefault:d,reactQueryWithDefaults:m}},"handleRefineOptions");var Wo=o(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage");var Gr=o(async(e,t,r)=>{let n=[];for(let[s,i]of e.entries())try{let a=await i();n.push(t(a,s))}catch(a){n.push(r(a,s))}return n},"sequentialPromises");var Te=o((e,t=[],r=!1)=>{if(!e)return;if(r){let s=t.find(a=>Le(a.route??"")===Le(e));return s||t.find(a=>a.name===e)}let n=t.find(s=>s.identifier===e);return n||(n=t.find(s=>s.name===e)),n},"pickResource");var _=o((e,t,r)=>{if(t)return t;let n=Te(e,r),s=S(n==null?void 0:n.meta,n==null?void 0:n.options);return s!=null&&s.dataProviderName?s.dataProviderName:"default"},"pickDataProvider");var st=o(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple");var or=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let n=(t==null?void 0:t.current)||1,s=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/s);return n<i?Number(n)+1:void 0},"getNextPageParam"),sr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let n=(t==null?void 0:t.current)||1;return n===1?void 0:n-1},"getPreviousPageParam");var nr=o(e=>{let t=[];return e.forEach(r=>{var n,s;t.push({...r,label:((n=r.meta)==null?void 0:n.label)??((s=r.options)==null?void 0:s.label),route:rr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform");var on=o(e=>qe(Le(e)).flatMap(r=>At(r)?[r.slice(1)]:[]),"pickRouteParams");var sn=o((e,t={})=>e.reduce((r,n)=>{let s=t[n];return typeof s<"u"&&(r[n]=s),r},{}),"prepareRouteParams");var Se=o((e,t={},r={},n={})=>{let s=on(e),i=sn(s,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...n});return e.replace(/:([^\/]+)/g,(a,u)=>{let p=i[u];return typeof p<"u"?`${p}`:a})},"composeRoute");var vt=B(require("react"));var nn=vt.default.createContext({}),an=o(({children:e,isProvided:t,...r})=>{let{replace:n}=ye(),s=o(async p=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,p))}catch(d){return Promise.reject(d)}},"loginFunc"),i=o(async p=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,p))}catch(d){return Promise.reject(d)}},"registerFunc"),a=o(async p=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,p))}catch(d){return Promise.reject(d)}},"logoutFunc"),u=o(async p=>{var c;try{return await((c=r.checkAuth)==null?void 0:c.call(r,p)),Promise.resolve()}catch(d){return d!=null&&d.redirectPath&&n(d.redirectPath),Promise.reject(d)}},"checkAuthFunc");return vt.default.createElement(nn.Provider,{value:{...r,login:s,logout:a,checkAuth:u,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),un=vt.default.createContext({}),cn=o(({children:e,isProvided:t,...r})=>{let n=o(async c=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,c))}catch(m){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleLogin"),s=o(async c=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,c))}catch(m){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleRegister"),i=o(async c=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,c))}catch(m){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleLogout"),a=o(async c=>{var d;try{let m=await((d=r.check)==null?void 0:d.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleCheck"),u=o(async c=>{var d;try{let m=await((d=r.forgotPassword)==null?void 0:d.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleForgotPassword"),p=o(async c=>{var d;try{let m=await((d=r.updatePassword)==null?void 0:d.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleUpdatePassword");return vt.default.createElement(un.Provider,{value:{...r,login:n,logout:i,check:a,register:s,forgotPassword:u,updatePassword:p,isProvided:t}},e)},"AuthBindingsContextProvider"),le=o(()=>vt.default.useContext(nn),"useLegacyAuthContext"),Re=o(()=>vt.default.useContext(un),"useAuthBindingsContext");var Y=o(()=>{let e=le(),t=Re();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider");var ar=o(({hasPagination:e,pagination:t,configPagination:r}={})=>{let n=e===!1?"off":"server",s=(t==null?void 0:t.mode)??n,i=S(t==null?void 0:t.current,r==null?void 0:r.current)??1,a=S(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:a,mode:s}},"handlePaginationParams");var Hr=require("react");var $r=o(e=>{let[t,r]=(0,Hr.useState)(!1);return(0,Hr.useEffect)(()=>{let n=window.matchMedia(e);n.matches!==t&&r(n.matches);let s=o(()=>r(n.matches),"listener");return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[t,e]),t},"useMediaQuery");var Wr=o((e,t,r,n)=>{let s=n?e(t,n,r):e(t,r),i=r??t;return s===t||typeof s>"u"?i:s},"safeTranslate");function Oo(e,t,r,n,s){var T;let i={create:"Create new ",clone:`#${n??""} Clone `,edit:`#${n??""} Edit `,show:`#${n??""} Show `,list:""},a=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),u=(t==null?void 0:t.label)??((T=t==null?void 0:t.meta)==null?void 0:T.label)??qt(a,r==="list"?"plural":"singular"),p=s??u,c=Wr(e,"documentTitle.default","refine"),d=Wr(e,"documentTitle.suffix"," | refine"),m=c;return r&&a&&(m=Wr(e,`documentTitle.${a}.${r}`,`${i[r]??""}${p}${d}`,{id:n})),m}o(Oo,"generateDefaultDocumentTitle");var pn=require("react");var ze=o(()=>{let{mutationMode:e,undoableTimeout:t}=(0,pn.useContext)(Ie);return{mutationMode:e,undoableTimeout:t}},"useMutationMode");var _o=require("react");var ir=B(require("react"));var zo=ir.default.createContext({}),dn=o(({children:e})=>{let[t,r]=(0,ir.useState)(!1);return ir.default.createElement(zo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider");var kt=o(()=>{let{warnWhenUnsavedChanges:e}=(0,_o.useContext)(Ie),{warnWhen:t,setWarnWhen:r}=(0,_o.useContext)(zo);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange");var ln=require("react");var Or=o(()=>{let{syncWithLocation:e}=(0,ln.useContext)(Ie);return{syncWithLocation:e}},"useSyncWithLocation");var mn=require("react");var fn=o(()=>{let{Title:e}=(0,mn.useContext)(Ie);return e},"useTitle");var yn=require("react");var se=o(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:s,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:p,undoableTimeout:c,warnWhenUnsavedChanges:d,DashboardPage:m,LoginPage:T,catchAll:g,options:x,__initialized:E}=(0,yn.useContext)(Ie);return{__initialized:E,Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:s,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:p,undoableTimeout:c,warnWhenUnsavedChanges:d,DashboardPage:m,LoginPage:T,catchAll:g,options:x}},"useRefineContext");var Dt=o(()=>{let{options:{textTransformers:e}}=se();return o((r="",n)=>{let s=e.humanize(r);return n==="singular"?e.singular(s):e.plural(s)},"getFriendlyName")},"useUserFriendlyName");var gn=o(e=>typeof e=="object"&&e!==null,"isNested"),Vi=o(e=>Array.isArray(e),"isArray"),ur=o((e,t="")=>gn(e)?Object.keys(e).reduce((r,n)=>{let s=t.length?`${t}.`:"";return gn(e[n])&&Object.keys(e[n]).length&&(Vi(e[n])&&e[n].length?e[n].forEach((i,a)=>{Object.assign(r,ur(i,`${s+n}.${a}`))}):Object.assign(r,ur(e[n],s+n))),r[s+n]=e[n],r},{}):{[t]:e},"flattenObjectKeys");var jo=o(e=>e.split(".").map(t=>Number.isNaN(Number(t))?t:Number(t)),"propertyPathToArray");var Xo=o((e,t,r)=>{if(typeof window>"u")return;let n=new Blob([t],{type:r}),s=document.createElement("a");s.setAttribute("visibility","hidden"),s.download=e;let i=URL.createObjectURL(n);s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout(()=>{URL.revokeObjectURL(i)})},"downloadInBrowser");var cr=o(e=>{let{current:t,pageSize:r,sorter:n,sorters:s,filters:i}=zr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:S(s,n)??[],parsedFilters:i??[]}},"parseTableParams"),Rn=o(e=>{let t=zr.default.stringify(e);return cr(`/${t}`)},"parseTableParamsFromQuery"),pr=o(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:n,sorters:s,filters:i,...a}=e;return zr.default.stringify({...a,...r||{},sorters:S(s,n),filters:i},t)},"stringifyTableParams"),xn=o((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)===("field"in t?t.field:void 0)&&e.operator===t.operator:("key"in e?e.key:void 0)===("key"in t?t.key:void 0)&&e.operator===t.operator,"compareFilters"),Pn=o((e,t)=>e.field===t.field,"compareSorters"),Lt=o((e,t,r=[])=>(t.filter(s=>(s.operator==="or"||s.operator==="and")&&!s.key).length>1&&(0,Tn.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Zo.default)(e,t,r,xn).filter(s=>s.value!==void 0&&s.value!==null&&(s.operator!=="or"||s.operator==="or"&&s.value.length!==0)&&(s.operator!=="and"||s.operator==="and"&&s.value.length!==0))),"unionFilters"),dr=o((e,t)=>(0,Zo.default)(e,t,Pn).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),lr=o((e,t)=>[...(0,Yo.default)(t,e,xn),...e],"setInitialFilters"),mr=o((e,t)=>[...(0,Yo.default)(t,e,Pn),...e],"setInitialSorters"),hn=o((e,t)=>{if(!t)return;let r=t.find(n=>n.field===e);if(r)return r.order},"getDefaultSortOrder"),Cn=o((e,t,r="eq")=>{let n=t==null?void 0:t.find(s=>{if(s.operator!=="or"&&s.operator!=="and"&&"field"in s){let{operator:i,field:a}=s;return a===e&&i===r}});if(n)return n.value||[]},"getDefaultFilter");var bn=o(e=>new Promise((t,r)=>{let n=new FileReader,s=o(()=>{n.result&&(n.removeEventListener("load",s,!1),t(n.result))},"resultHandler");n.addEventListener("load",s,!1),n.readAsDataURL(e.originFileObj),n.onerror=i=>(n.removeEventListener("load",s,!1),r(i))}),"file2Base64");var z=o(()=>{let{options:{useNewQueryKeys:e}}=se();return{keys:Oe,preferLegacyKeys:!e}},"useKeys");function vn({v3LegacyAuthProviderCompatible:e=!1,options:t,params:r}={}){let{getPermissions:n}=le(),{getPermissions:s}=Re(),{keys:i,preferLegacyKeys:a}=z(),u=(0,Jo.useQuery)({queryKey:i().auth().action("permissions").get(a),queryFn:s?()=>s(r):()=>Promise.resolve(void 0),enabled:!e&&!!s,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,qo.getXRay)("usePermissions",a)}}),p=(0,Jo.useQuery)({queryKey:[...i().auth().action("permissions").get(a),"v3LegacyAuthProviderCompatible"],queryFn:n?()=>n(r):()=>Promise.resolve(void 0),enabled:e&&!!n,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,qo.getXRay)("usePermissions",a)}});return e?p:u}o(vn,"usePermissions");var es=require("@tanstack/react-query"),ts=require("@refinedev/devtools-internal");function _r({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=le(),{getIdentity:n}=Re(),{keys:s,preferLegacyKeys:i}=z(),a=(0,es.useQuery)({queryKey:s().auth().action("identity").get(i),queryFn:n??(()=>Promise.resolve({})),enabled:!e&&!!n,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ts.getXRay)("useGetIdentity",i)}}),u=(0,es.useQuery)({queryKey:[...s().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve({})),enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ts.getXRay)("useGetIdentity",i)}});return e?u:a}o(_r,"useGetIdentity");var os=require("@tanstack/react-query"),ss=require("@refinedev/devtools-internal");var Dn=require("@tanstack/react-query");var Qt=o(()=>{let e=(0,Dn.useQueryClient)(),{keys:t,preferLegacyKeys:r}=z();return o(async()=>{await Promise.all(["check","identity","permissions"].map(s=>e.invalidateQueries(t().auth().action(s).get(r))))},"invalidate")},"useInvalidateAuthStore");function fr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Qt(),n=q(),s=ge(),{push:i}=ye(),{open:a,close:u}=Fe(),{logout:p}=le(),{logout:c}=Re(),{keys:d,preferLegacyKeys:m}=z(),T=(0,os.useMutation)({mutationKey:d().auth().action("logout").get(m),mutationFn:c,onSuccess:async(x,E)=>{let{success:U,error:f,redirectTo:P,successNotification:M}=x,{redirectPath:I}=E??{},R=I??P;U&&(u==null||u("useLogout-error"),M&&(a==null||a(Bi(M)))),(f||!U)&&(a==null||a(rs(f))),R!==!1&&(n==="legacy"?i(R??"/login"):R&&s({to:R})),await r()},onError:x=>{a==null||a(rs(x))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ss.getXRay)("useLogout",m)}}),g=(0,os.useMutation)({mutationKey:[...d().auth().action("logout").get(m),"v3LegacyAuthProviderCompatible"],mutationFn:p,onSuccess:async(x,E)=>{let U=(E==null?void 0:E.redirectPath)??x;if(U!==!1){if(U){n==="legacy"?i(U):s({to:U});return}n==="legacy"?i("/login"):s({to:"/login"}),await r()}},onError:x=>{a==null||a(rs(x))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ss.getXRay)("useLogout",m)}});return e?g:T}o(fr,"useLogout");var rs=o(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Bi=o(e=>({message:e.message,description:e.description,key:"logout-success",type:"success"}),"buildSuccessNotification");var Ln=B(require("react")),as=require("@tanstack/react-query"),is=require("@refinedev/devtools-internal"),En=B(require("qs"));function Vt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Qt(),n=q(),s=ge(),{replace:i}=ye(),a=xe(),{useLocation:u}=ue(),{search:p}=u(),{close:c,open:d}=Fe(),{login:m}=le(),{login:T}=Re(),{keys:g,preferLegacyKeys:x}=z(),E=Ln.default.useMemo(()=>{var P;return n==="legacy"?En.default.parse(p,{ignoreQueryPrefix:!0}).to:(P=a.params)==null?void 0:P.to},[n,a.params,p]),U=(0,as.useMutation)({mutationKey:g().auth().action("login").get(x),mutationFn:T,onSuccess:async({success:P,redirectTo:M,error:I,successNotification:R})=>{P&&(c==null||c("login-error"),R&&(d==null||d(Ni(R)))),(I||!P)&&(d==null||d(ns(I))),E&&P?n==="legacy"?i(E):s({to:E,type:"replace"}):M?n==="legacy"?i(M):s({to:M,type:"replace"}):n==="legacy"&&i("/"),await r()},onError:P=>{d==null||d(ns(P))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,is.getXRay)("useLogin",x)}}),f=(0,as.useMutation)({mutationKey:[...g().auth().action("login").get(x),"v3LegacyAuthProviderCompatible"],mutationFn:m,onSuccess:async P=>{E&&i(E),P!==!1&&!E&&(typeof P=="string"?n==="legacy"?i(P):s({to:P,type:"replace"}):n==="legacy"?i("/"):s({to:"/",type:"replace"})),await r(),c==null||c("login-error")},onError:P=>{d==null||d(ns(P))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,is.getXRay)("useLogin",x)}});return e?f:U}o(Vt,"useLogin");var ns=o(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Ni=o(e=>({message:e.message,description:e.description,key:"login-success",type:"success"}),"buildSuccessNotification");var cs=require("@tanstack/react-query"),ps=require("@refinedev/devtools-internal");function jr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Qt(),n=q(),s=ge(),{replace:i}=ye(),{register:a}=le(),{register:u}=Re(),{close:p,open:c}=Fe(),{keys:d,preferLegacyKeys:m}=z(),T=(0,cs.useMutation)({mutationKey:d().auth().action("register").get(m),mutationFn:u,onSuccess:async({success:x,redirectTo:E,error:U,successNotification:f})=>{x&&(p==null||p("register-error"),f&&(c==null||c(Ki(f)))),(U||!x)&&(c==null||c(us(U))),E?n==="legacy"?i(E):s({to:E,type:"replace"}):n==="legacy"&&i("/"),await r()},onError:x=>{c==null||c(us(x))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ps.getXRay)("useRegister",m)}}),g=(0,cs.useMutation)({mutationKey:[...d().auth().action("register").get(m),"v3LegacyAuthProviderCompatible"],mutationFn:a,onSuccess:async x=>{x!==!1&&(x?n==="legacy"?i(x):s({to:x,type:"replace"}):n==="legacy"?i("/"):s({to:"/",type:"replace"}),await r(),p==null||p("register-error"))},onError:x=>{c==null||c(us(x))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ps.getXRay)("useRegister",m)}});return e?g:T}o(jr,"useRegister");var us=o(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),Ki=o(e=>({message:e.message,description:e.description,key:"register-success",type:"success"}),"buildSuccessNotification");var ls=require("@tanstack/react-query"),ms=require("@refinedev/devtools-internal");function Xr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=q(),n=ge(),{replace:s}=ye(),{forgotPassword:i}=le(),{forgotPassword:a}=Re(),{close:u,open:p}=Fe(),{keys:c,preferLegacyKeys:d}=z(),m=(0,ls.useMutation)({mutationKey:c().auth().action("forgotPassword").get(d),mutationFn:a,onSuccess:({success:g,redirectTo:x,error:E,successNotification:U})=>{g&&(u==null||u("forgot-password-error"),U&&(p==null||p(Gi(U)))),(E||!g)&&(p==null||p(ds(E))),x&&(r==="legacy"?s(x):n({to:x,type:"replace"}))},onError:g=>{p==null||p(ds(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ms.getXRay)("useForgotPassword",d)}}),T=(0,ls.useMutation)({mutationKey:[...c().auth().action("forgotPassword").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:i,onSuccess:g=>{g!==!1&&g&&(r==="legacy"?s(g):n({to:g,type:"replace"})),u==null||u("forgot-password-error")},onError:g=>{p==null||p(ds(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ms.getXRay)("useForgotPassword",d)}});return e?T:m}o(Xr,"useForgotPassword");var ds=o(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),Gi=o(e=>({message:e.message,description:e.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification");var Un=B(require("react")),ys=require("@tanstack/react-query"),gs=require("@refinedev/devtools-internal"),Mn=B(require("qs"));function Zr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=q(),n=ge(),{replace:s}=ye(),{updatePassword:i}=le(),{updatePassword:a}=Re(),{close:u,open:p}=Fe(),{keys:c,preferLegacyKeys:d}=z(),m=xe(),{useLocation:T}=ue(),{search:g}=T(),x=Un.default.useMemo(()=>r==="legacy"?Mn.default.parse(g,{ignoreQueryPrefix:!0})??{}:m.params??{},[g,m,r]),E=(0,ys.useMutation)({mutationKey:c().auth().action("updatePassword").get(d),mutationFn:async f=>a==null?void 0:a({...x,...f}),onSuccess:({success:f,redirectTo:P,error:M,successNotification:I})=>{f&&(u==null||u("update-password-error"),I&&(p==null||p(Hi(I)))),(M||!f)&&(p==null||p(fs(M))),P&&(r==="legacy"?s(P):n({to:P,type:"replace"}))},onError:f=>{p==null||p(fs(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,gs.getXRay)("useUpdatePassword",d)}}),U=(0,ys.useMutation)({mutationKey:[...c().auth().action("updatePassword").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:async f=>i==null?void 0:i({...x,...f}),onSuccess:f=>{f!==!1&&f&&(r==="legacy"?s(f):n({to:f,type:"replace"})),u==null||u("update-password-error")},onError:f=>{p==null||p(fs(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,gs.getXRay)("useUpdatePassword",d)}});return e?U:E}o(Zr,"useUpdatePassword");var fs=o(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Hi=o(e=>({message:e.message,description:e.description,key:"update-password-success",type:"success"}),"buildSuccessNotification");var Ts=require("@tanstack/react-query"),Rs=require("@refinedev/devtools-internal");function yr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=le(),{check:n}=Re(),{keys:s,preferLegacyKeys:i}=z(),a=(0,Ts.useQuery)({queryKey:s().auth().action("check").params(t).get(i),queryFn:async()=>await(n==null?void 0:n(t))??{},retry:!1,enabled:!e,meta:{...(0,Rs.getXRay)("useIsAuthenticated",i)}}),u=(0,Ts.useQuery)({queryKey:[...s().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(r==null?void 0:r(t))??{},retry:!1,enabled:e,meta:{...(0,Rs.getXRay)("useIsAuthenticated",i)}});return e?u:a}o(yr,"useIsAuthenticated");var wn=yr;var xs=require("@tanstack/react-query"),Ps=require("@refinedev/devtools-internal");function ce({v3LegacyAuthProviderCompatible:e=!1}={}){let t=q(),r=ge(),{replace:n}=ye(),{checkError:s}=le(),{onError:i}=Re(),{keys:a,preferLegacyKeys:u}=z(),{mutate:p}=fr({v3LegacyAuthProviderCompatible:!!e}),{mutate:c}=fr({v3LegacyAuthProviderCompatible:!!e}),d=(0,xs.useMutation)({mutationKey:a().auth().action("onError").get(u),mutationFn:i,onSuccess:({logout:T,redirectTo:g})=>{if(T){c({redirectPath:g});return}if(g){t==="legacy"?n(g):r({to:g,type:"replace"});return}},meta:{...(0,Ps.getXRay)("useOnError",u)}}),m=(0,xs.useMutation)({mutationKey:[...a().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],mutationFn:s,onError:T=>{p({redirectPath:T})},meta:{...(0,Ps.getXRay)("useOnError",u)}});return e?m:d}o(ce,"useOnError");var In=ce;var Yr=o(()=>{let{isProvided:e}=le(),{isProvided:t}=Re();return!!(t||e)},"useIsExistAuthentication");var Sn=require("@refinedev/devtools-internal"),Fn=require("@tanstack/react-query");var gr=require("react");var te=o(({isLoading:e,interval:t,onInterval:r})=>{let[n,s]=(0,gr.useState)(void 0),{options:i}=se(),{overtime:a}=i,u=t??a.interval,p=r??(a==null?void 0:a.onInterval);return(0,gr.useEffect)(()=>{let c;return e&&(c=setInterval(()=>{s(d=>d===void 0?u:d+u)},u)),()=>{clearInterval(c),s(void 0)}},[e,u]),(0,gr.useEffect)(()=>{p&&n&&p(n)},[n]),{elapsedTime:n}},"useLoadingOvertime");var Bt=o(({resource:e,config:t,filters:r,hasPagination:n,pagination:s,sorters:i,queryOptions:a,successNotification:u,errorNotification:p,meta:c,metaData:d,liveMode:m,onLiveEvent:T,liveParams:g,dataProviderName:x,overtimeOptions:E}={})=>{let{resources:U,resource:f,identifier:P}=O(e),M=ne(),I=j(),R=Y(),{mutate:y}=ce({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),l=pe(),D=J(),{keys:b,preferLegacyKeys:C}=z(),w=_(P,x,U),h=S(c,d),v=S(r,t==null?void 0:t.filters),F=S(i,t==null?void 0:t.sort),L=S(n,t==null?void 0:t.hasPagination),Q=ar({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:L}),A=Q.mode==="server",H=D({resource:f,meta:h}),K={meta:H,metaData:H,filters:v,hasPagination:A,pagination:Q,sorters:F,config:{...t,sort:F}},$=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,{getList:X}=M(w);nt({resource:P,types:["*"],params:{meta:H,metaData:H,pagination:Q,hasPagination:A,sort:F,sorters:F,filters:v,subscriptionType:"useList",...g},channel:`resources/${f==null?void 0:f.name}`,enabled:$,liveMode:m,onLiveEvent:T,dataProviderName:w,meta:{...c,dataProviderName:x}});let N=(0,Fn.useQuery)({queryKey:b().data(w).resource(P??"").action("list").params({...h||{},filters:v,hasPagination:A,...A&&{pagination:Q},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(C),queryFn:({queryKey:V,pageParam:W,signal:Z})=>X({resource:(f==null?void 0:f.name)??"",pagination:Q,hasPagination:A,filters:v,sort:F,sorters:F,meta:{...H,queryContext:{queryKey:V,pageParam:W,signal:Z}},metaData:{...H,queryContext:{queryKey:V,pageParam:W,signal:Z}}}),...a,enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:!!(f!=null&&f.name),select:V=>{var Ce;let W=V,{current:Z,mode:oe,pageSize:ie}=Q;return oe==="client"&&(W={...W,data:W.data.slice((Z-1)*ie,Z*ie),total:W.total}),a!=null&&a.select?(Ce=a==null?void 0:a.select)==null?void 0:Ce.call(a,W):W},onSuccess:V=>{var Z;(Z=a==null?void 0:a.onSuccess)==null||Z.call(a,V);let W=typeof u=="function"?u(V,K,P):u;l(W)},onError:V=>{var Z;y(V),(Z=a==null?void 0:a.onError)==null||Z.call(a,V);let W=typeof p=="function"?p(V,K,P):p;l(W,{key:`${P}-useList-notification`,message:I("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Sn.getXRay)("useList",C)}}),{elapsedTime:G}=te({isLoading:N.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...N,overtime:{elapsedTime:G}}},"useList");var An=require("@refinedev/devtools-internal"),kn=require("@tanstack/react-query");var Nt=o(({resource:e,id:t,queryOptions:r,successNotification:n,errorNotification:s,meta:i,metaData:a,liveMode:u,onLiveEvent:p,liveParams:c,dataProviderName:d,overtimeOptions:m})=>{let{resources:T,resource:g,identifier:x}=O(e),E=ne(),U=j(),f=Y(),{mutate:P}=ce({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),M=pe(),I=J(),{keys:R,preferLegacyKeys:y}=z(),l=S(i,a),D=_(x,d,T),{getOne:b}=E(D),C=I({resource:g,meta:l});nt({resource:x,types:["*"],channel:`resources/${g==null?void 0:g.name}`,params:{ids:t?[t]:[],id:t,meta:C,metaData:C,subscriptionType:"useOne",...c},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(g==null?void 0:g.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:p,dataProviderName:D,meta:{...i,dataProviderName:d}});let w=(0,kn.useQuery)({queryKey:R().data(D).resource(x??"").action("one").id(t??"").params({...l||{}}).get(y),queryFn:({queryKey:v,pageParam:F,signal:L})=>b({resource:(g==null?void 0:g.name)??"",id:t,meta:{...C,queryContext:{queryKey:v,pageParam:F,signal:L}},metaData:{...C,queryContext:{queryKey:v,pageParam:F,signal:L}}}),...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:v=>{var L;(L=r==null?void 0:r.onSuccess)==null||L.call(r,v);let F=typeof n=="function"?n(v,{id:t,...C},x):n;M(F)},onError:v=>{var L;P(v),(L=r==null?void 0:r.onError)==null||L.call(r,v);let F=typeof s=="function"?s(v,{id:t,...C},x):s;M(F,{key:`${t}-${x}-getOne-notification`,message:U("notifications.error",{statusCode:v.statusCode},`Error (status code: ${v.statusCode})`),description:v.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,An.getXRay)("useOne",y)}}),{elapsedTime:h}=te({isLoading:w.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...w,overtime:{elapsedTime:h}}},"useOne");var Qn=require("@refinedev/devtools-internal"),Vn=require("@tanstack/react-query");var Jr=o(({resource:e,ids:t,queryOptions:r,successNotification:n,errorNotification:s,meta:i,metaData:a,liveMode:u,onLiveEvent:p,liveParams:c,dataProviderName:d,overtimeOptions:m})=>{let{resources:T,resource:g,identifier:x}=O(e),E=ne(),U=j(),f=Y(),{mutate:P}=ce({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),M=pe(),I=J(),{keys:R,preferLegacyKeys:y}=z(),l=S(i,a),D=_(x,d,T),b=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:C,getOne:w}=E(D),h=I({resource:g,meta:l});nt({resource:x,types:["*"],params:{ids:t,meta:h,metaData:h,subscriptionType:"useMany",...c},channel:`resources/${g.name}`,enabled:b,liveMode:u,onLiveEvent:p,dataProviderName:D,meta:{...i,dataProviderName:d}});let v=(0,Vn.useQuery)({queryKey:R().data(D).resource(x).action("many").ids(...t).params({...l||{}}).get(y),queryFn:({queryKey:L,pageParam:Q,signal:A})=>C?C({resource:g==null?void 0:g.name,ids:t,meta:{...h,queryContext:{queryKey:L,pageParam:Q,signal:A}},metaData:{...h,queryContext:{queryKey:L,pageParam:Q,signal:A}}}):st(t.map(H=>w({resource:g==null?void 0:g.name,id:H,meta:{...h,queryContext:{queryKey:L,pageParam:Q,signal:A}},metaData:{...h,queryContext:{queryKey:L,pageParam:Q,signal:A}}}))),...r,onSuccess:L=>{var A;(A=r==null?void 0:r.onSuccess)==null||A.call(r,L);let Q=typeof n=="function"?n(L,t,x):n;M(Q)},onError:L=>{var A;P(L),(A=r==null?void 0:r.onError)==null||A.call(r,L);let Q=typeof s=="function"?s(L,t,x):s;M(Q,{key:`${t[0]}-${x}-getMany-notification`,message:U("notifications.error",{statusCode:L.statusCode},`Error (status code: ${L.statusCode})`),description:L.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Qn.getXRay)("useMany",y)}}),{elapsedTime:F}=te({isLoading:v.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...v,overtime:{elapsedTime:F}}},"useMany");var Bn=require("@refinedev/devtools-internal"),to=require("@tanstack/react-query");var Kt=B(require("react")),qr=B(require("lodash/isEqual"));var eo=Kt.default.createContext({notifications:[],notificationDispatch:()=>!1}),$i=[],Wi=o((e,t)=>{switch(t.type){case"ADD":return[...e.filter(n=>!((0,qr.default)(n.id,t.payload.id)&&n.resource===t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,qr.default)(r.id,t.payload.id)&&r.resource===t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,qr.default)(r.id,t.payload.id)&&r.resource===t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),hs=o(({children:e})=>{let[t,r]=(0,Kt.useReducer)(Wi,$i),n={notifications:t,notificationDispatch:r};return Kt.default.createElement(eo.Provider,{value:n},e,typeof window<"u"&&t.map(s=>Kt.default.createElement(Cs,{key:`${s.id}-${s.resource}-queue`,notification:s})))},"UndoableQueueContextProvider");var Tr=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:n}=O(),s=(0,to.useQueryClient)(),i=ne(),{mutationMode:a,undoableTimeout:u}=ze(),p=j(),c=Y(),{mutate:d}=ce({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),m=Ke(),{log:T}=Ge(),{notificationDispatch:g}=Ze(),x=pe(),E=Ee(),U=J(),{options:{textTransformers:f}}=se(),{keys:P,preferLegacyKeys:M}=z(),I=(0,to.useMutation)({mutationFn:({id:y,values:l,resource:D,mutationMode:b,undoableTimeout:C,onCancel:w,meta:h,metaData:v,dataProviderName:F})=>{let{resource:L,identifier:Q}=n(D),A=U({resource:L,meta:S(h,v)}),H=b??a,K=C??u;return H!=="undoable"?i(_(Q,F,r)).update({resource:L.name,id:y,variables:l,meta:A,metaData:A}):new Promise((X,N)=>{let G=o(()=>{i(_(Q,F,r)).update({resource:L.name,id:y,variables:l,meta:A,metaData:A}).then(W=>X(W)).catch(W=>N(W))},"doMutation"),V=o(()=>{N({message:"mutationCancelled"})},"cancelMutation");w&&w(V),g({type:"ADD",payload:{id:y,resource:Q,cancelMutation:V,doMutation:G,seconds:K,isSilent:!!w}})})},onMutate:async({resource:y,id:l,mutationMode:D,values:b,dataProviderName:C,meta:w,metaData:h,optimisticUpdateMap:v={list:!0,many:!0,detail:!0}})=>{let{identifier:F}=n(y),{gqlMutation:L,gqlQuery:Q,...A}=S(w,h)??{},H=ot(M)(F,_(F,C,r),A),K=P().data(_(F,C,r)).resource(F),$=s.getQueriesData(K.get(M)),X=D??a;return await s.cancelQueries(K.get(M),void 0,{silent:!0}),X!=="pessimistic"&&(v.list&&s.setQueriesData(K.action("list").params(A??{}).get(M),N=>{if(typeof v.list=="function")return v.list(N,b,l);if(!N)return null;let G=N.data.map(V=>{var W;return((W=V.id)==null?void 0:W.toString())===(l==null?void 0:l.toString())?{id:l,...V,...b}:V});return{...N,data:G}}),v.many&&s.setQueriesData(K.action("many").get(M),N=>{if(typeof v.many=="function")return v.many(N,b,l);if(!N)return null;let G=N.data.map(V=>{var W;return((W=V.id)==null?void 0:W.toString())===(l==null?void 0:l.toString())&&(V={id:l,...V,...b}),V});return{...N,data:G}}),v.detail&&s.setQueriesData(K.action("one").id(l).params(A??{}).get(M),N=>typeof v.detail=="function"?v.detail(N,b,l):N?{...N,data:{...N.data,...b}}:null)),{previousQueries:$,queryKey:H}},onSettled:(y,l,{id:D,resource:b,dataProviderName:C,invalidates:w=["list","many","detail"]})=>{let{identifier:h}=n(b);E({resource:h,dataProviderName:_(h,C,r),invalidates:w,id:D}),g({type:"REMOVE",payload:{id:D,resource:h}})},onSuccess:(y,{id:l,resource:D,successNotification:b,dataProviderName:C,values:w,meta:h,metaData:v},F)=>{var Z;let{resource:L,identifier:Q}=n(D),A=f.singular(Q),H=_(Q,C,r),K=U({resource:L,meta:S(h,v)}),$=typeof b=="function"?b(y,{id:l,values:w},Q):b;x($,{key:`${l}-${Q}-notification`,description:p("notifications.success","Successful"),message:p("notifications.editSuccess",{resource:p(`${Q}.${Q}`,A)},`Successfully updated ${A}`),type:"success"}),m==null||m({channel:`resources/${L.name}`,type:"updated",payload:{ids:(Z=y.data)!=null&&Z.id?[y.data.id]:void 0},date:new Date,meta:{...K,dataProviderName:H}});let X;if(F){let oe=s.getQueryData(F.queryKey.detail(l));X=Object.keys(w||{}).reduce((ie,Ce)=>{var ee;return ie[Ce]=(ee=oe==null?void 0:oe.data)==null?void 0:ee[Ce],ie},{})}let{fields:N,operation:G,variables:V,...W}=K||{};T==null||T.mutate({action:"update",resource:L.name,data:w,previousData:X,meta:{id:l,dataProviderName:H,...W}})},onError:(y,{id:l,resource:D,errorNotification:b,values:C},w)=>{let{identifier:h}=n(D);if(w)for(let v of w.previousQueries)s.setQueryData(v[0],v[1]);if(y.message!=="mutationCancelled"){d==null||d(y);let v=f.singular(h),F=typeof b=="function"?b(y,{id:l,values:C},h):b;x(F,{key:`${l}-${h}-notification`,message:p("notifications.editError",{resource:p(`${h}.${h}`,v),statusCode:y.statusCode},`Error when updating ${v} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:P().data().mutation("update").get(M),...e,meta:{...e==null?void 0:e.meta,...(0,Bn.getXRay)("useUpdate",M)}}),{elapsedTime:R}=te({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:R}}},"useUpdate");var Nn=require("@refinedev/devtools-internal"),Kn=require("@tanstack/react-query");var Gt=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Y(),{mutate:n}=ce({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=ne(),i=Ee(),{resources:a,select:u}=O(),p=j(),c=Ke(),{log:d}=Ge(),m=pe(),T=J(),{options:{textTransformers:g}}=se(),{keys:x,preferLegacyKeys:E}=z(),U=(0,Kn.useMutation)({mutationFn:({resource:P,values:M,meta:I,metaData:R,dataProviderName:y})=>{let{resource:l,identifier:D}=u(P),b=T({resource:l,meta:S(I,R)});return s(_(D,y,a)).create({resource:l.name,variables:M,meta:b,metaData:b})},onSuccess:(P,{resource:M,successNotification:I,dataProviderName:R,invalidates:y=["list","many"],values:l,meta:D,metaData:b})=>{var $,X;let{resource:C,identifier:w}=u(M),h=g.singular(w),v=_(w,R,a),F=T({resource:C,meta:S(D,b)}),L=typeof I=="function"?I(P,l,w):I;m(L,{key:`create-${w}-notification`,message:p("notifications.createSuccess",{resource:p(`${w}.${w}`,h)},`Successfully created ${h}`),description:p("notifications.success","Success"),type:"success"}),i({resource:w,dataProviderName:v,invalidates:y}),c==null||c({channel:`resources/${C.name}`,type:"created",payload:{ids:($=P==null?void 0:P.data)!=null&&$.id?[P.data.id]:void 0},date:new Date,meta:{...F,dataProviderName:v}});let{fields:Q,operation:A,variables:H,...K}=F||{};d==null||d.mutate({action:"create",resource:C.name,data:l,meta:{dataProviderName:v,id:((X=P==null?void 0:P.data)==null?void 0:X.id)??void 0,...K}})},onError:(P,{resource:M,errorNotification:I,values:R})=>{n(P);let{identifier:y}=u(M),l=g.singular(y),D=typeof I=="function"?I(P,R,y):I;m(D,{key:`create-${y}-notification`,description:P.message,message:p("notifications.createError",{resource:p(`${y}.${y}`,l),statusCode:P.statusCode},`There was an error creating ${l} (status code: ${P.statusCode})`),type:"error"})},mutationKey:x().data().mutation("create").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,Nn.getXRay)("useCreate",E)}}),{elapsedTime:f}=te({isLoading:U.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...U,overtime:{elapsedTime:f}}},"useCreate");var Gn=require("@refinedev/devtools-internal"),ro=require("@tanstack/react-query");var Hn=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Y(),{mutate:n}=ce({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=ne(),{resources:i,select:a}=O(),u=(0,ro.useQueryClient)(),{mutationMode:p,undoableTimeout:c}=ze(),{notificationDispatch:d}=Ze(),m=j(),T=Ke(),{log:g}=Ge(),x=pe(),E=Ee(),U=J(),{options:{textTransformers:f}}=se(),{keys:P,preferLegacyKeys:M}=z(),I=(0,ro.useMutation)({mutationFn:({id:y,mutationMode:l,undoableTimeout:D,resource:b,onCancel:C,meta:w,metaData:h,dataProviderName:v,values:F})=>{let{resource:L,identifier:Q}=a(b),A=U({resource:L,meta:S(w,h)}),H=l??p,K=D??c;return H!=="undoable"?s(_(Q,v,i)).deleteOne({resource:L.name,id:y,meta:A,metaData:A,variables:F}):new Promise((X,N)=>{let G=o(()=>{s(_(Q,v,i)).deleteOne({resource:L.name,id:y,meta:A,metaData:A,variables:F}).then(W=>X(W)).catch(W=>N(W))},"doMutation"),V=o(()=>{N({message:"mutationCancelled"})},"cancelMutation");C&&C(V),d({type:"ADD",payload:{id:y,resource:Q,cancelMutation:V,doMutation:G,seconds:K,isSilent:!!C}})})},onMutate:async({id:y,resource:l,mutationMode:D,dataProviderName:b,meta:C,metaData:w})=>{let{identifier:h}=a(l),{gqlMutation:v,gqlQuery:F,...L}=S(C,w)??{},Q=ot(M)(h,_(h,b,i),L),A=P().data(_(h,b,i)).resource(h),H=D??p;await u.cancelQueries(A.get(M),void 0,{silent:!0});let K=u.getQueriesData(A.get(M));return H!=="pessimistic"&&(u.setQueriesData(A.action("list").params(L??{}).get(M),$=>$?{data:$.data.filter(N=>{var G;return((G=N.id)==null?void 0:G.toString())!==y.toString()}),total:$.total-1}:null),u.setQueriesData(A.action("many").get(M),$=>{if(!$)return null;let X=$.data.filter(N=>{var G;return((G=N.id)==null?void 0:G.toString())!==(y==null?void 0:y.toString())});return{...$,data:X}})),{previousQueries:K,queryKey:Q}},onSettled:(y,l,{id:D,resource:b,dataProviderName:C,invalidates:w=["list","many"]})=>{let{identifier:h}=a(b);E({resource:h,dataProviderName:_(h,C,i),invalidates:w}),d({type:"REMOVE",payload:{id:D,resource:h}})},onSuccess:(y,{id:l,resource:D,successNotification:b,dataProviderName:C,meta:w,metaData:h},v)=>{let{resource:F,identifier:L}=a(D),Q=f.singular(L),A=_(L,C,i),H=U({resource:F,meta:S(w,h)});u.removeQueries(v==null?void 0:v.queryKey.detail(l));let K=typeof b=="function"?b(y,l,L):b;x(K,{key:`${l}-${L}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${L}.${L}`,Q)},`Successfully deleted a ${Q}`),type:"success"}),T==null||T({channel:`resources/${F.name}`,type:"deleted",payload:{ids:[l]},date:new Date,meta:{...H,dataProviderName:A}});let{fields:$,operation:X,variables:N,...G}=H||{};g==null||g.mutate({action:"delete",resource:F.name,meta:{id:l,dataProviderName:A,...G}}),u.removeQueries(v==null?void 0:v.queryKey.detail(l))},onError:(y,{id:l,resource:D,errorNotification:b},C)=>{let{identifier:w}=a(D);if(C)for(let h of C.previousQueries)u.setQueryData(h[0],h[1]);if(y.message!=="mutationCancelled"){n(y);let h=f.singular(w),v=typeof b=="function"?b(y,l,w):b;x(v,{key:`${l}-${w}-notification`,message:m("notifications.deleteError",{resource:h,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:P().data().mutation("delete").get(M),...e,meta:{...e==null?void 0:e.meta,...(0,Gn.getXRay)("useDelete",M)}}),{elapsedTime:R}=te({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:R}}},"useDelete");var $n=require("@refinedev/devtools-internal"),Wn=require("@tanstack/react-query");var oo=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ne(),{resources:n,select:s}=O(),i=j(),a=Ke(),u=pe(),p=Ee(),{log:c}=Ge(),d=J(),{options:{textTransformers:m}}=se(),{keys:T,preferLegacyKeys:g}=z(),x=(0,Wn.useMutation)({mutationFn:({resource:U,values:f,meta:P,metaData:M,dataProviderName:I})=>{let{resource:R,identifier:y}=s(U),l=d({resource:R,meta:S(P,M)}),D=r(_(y,I,n));return D.createMany?D.createMany({resource:R.name,variables:f,meta:l,metaData:l}):st(f.map(b=>D.create({resource:R.name,variables:b,meta:l,metaData:l})))},onSuccess:(U,{resource:f,successNotification:P,dataProviderName:M,invalidates:I=["list","many"],values:R,meta:y,metaData:l})=>{let{resource:D,identifier:b}=s(f),C=m.plural(b),w=_(b,M,n),h=d({resource:D,meta:S(y,l)}),v=typeof P=="function"?P(U,R,b):P;u(v,{key:`createMany-${b}-notification`,message:i("notifications.createSuccess",{resource:i(`${b}.${b}`,b)},`Successfully created ${C}`),description:i("notifications.success","Success"),type:"success"}),p({resource:b,dataProviderName:w,invalidates:I});let F=U==null?void 0:U.data.filter(K=>(K==null?void 0:K.id)!==void 0).map(K=>K.id);a==null||a({channel:`resources/${D.name}`,type:"created",payload:{ids:F},date:new Date,meta:{...h,dataProviderName:w}});let{fields:L,operation:Q,variables:A,...H}=h||{};c==null||c.mutate({action:"createMany",resource:D.name,data:R,meta:{dataProviderName:w,ids:F,...H}})},onError:(U,{resource:f,errorNotification:P,values:M})=>{let{identifier:I}=s(f),R=typeof P=="function"?P(U,M,I):P;u(R,{key:`createMany-${I}-notification`,description:U.message,message:i("notifications.createError",{resource:i(`${I}.${I}`,I),statusCode:U.statusCode},`There was an error creating ${I} (status code: ${U.statusCode}`),type:"error"})},mutationKey:T().data().mutation("createMany").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,$n.getXRay)("useCreateMany",g)}}),{elapsedTime:E}=te({isLoading:x.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...x,overtime:{elapsedTime:E}}},"useCreateMany");var On=require("@refinedev/devtools-internal"),so=require("@tanstack/react-query");var zn=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:n}=O(),s=(0,so.useQueryClient)(),i=ne(),a=j(),{mutationMode:u,undoableTimeout:p}=ze(),c=Y(),{mutate:d}=ce({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),{notificationDispatch:m}=Ze(),T=Ke(),g=pe(),x=Ee(),{log:E}=Ge(),U=J(),{options:{textTransformers:f}}=se(),{keys:P,preferLegacyKeys:M}=z(),I=(0,so.useMutation)({mutationFn:({ids:y,values:l,resource:D,onCancel:b,mutationMode:C,undoableTimeout:w,meta:h,metaData:v,dataProviderName:F})=>{let{resource:L,identifier:Q}=n(D),A=U({resource:L,meta:S(h,v)}),H=C??u,K=w??p,$=i(_(Q,F,r)),X=o(()=>$.updateMany?$.updateMany({resource:L.name,ids:y,variables:l,meta:A,metaData:A}):st(y.map(G=>$.update({resource:L.name,id:G,variables:l,meta:A,metaData:A}))),"mutationFn");return H!=="undoable"?X():new Promise((G,V)=>{let W=o(()=>{X().then(oe=>G(oe)).catch(oe=>V(oe))},"doMutation"),Z=o(()=>{V({message:"mutationCancelled"})},"cancelMutation");b&&b(Z),m({type:"ADD",payload:{id:y,resource:Q,cancelMutation:Z,doMutation:W,seconds:K,isSilent:!!b}})})},onMutate:async({resource:y,ids:l,values:D,mutationMode:b,dataProviderName:C,meta:w,metaData:h,optimisticUpdateMap:v={list:!0,many:!0,detail:!0}})=>{let{identifier:F}=n(y),{gqlMutation:L,gqlQuery:Q,...A}=S(w,h)??{},H=ot(M)(F,_(F,C,r),A),K=P().data(_(F,C,r)).resource(F),$=b??u;await s.cancelQueries(K.get(M),void 0,{silent:!0});let X=s.getQueriesData(K.get(M));if($!=="pessimistic"&&(v.list&&s.setQueriesData(K.action("list").params(A??{}).get(M),N=>{if(typeof v.list=="function")return v.list(N,D,l);if(!N)return null;let G=N.data.map(V=>V.id!==void 0&&l.filter(W=>W!==void 0).map(String).includes(V.id.toString())?{...V,...D}:V);return{...N,data:G}}),v.many&&s.setQueriesData(K.action("many").get(M),N=>{if(typeof v.many=="function")return v.many(N,D,l);if(!N)return null;let G=N.data.map(V=>V.id!==void 0&&l.filter(W=>W!==void 0).map(String).includes(V.id.toString())?{...V,...D}:V);return{...N,data:G}}),v.detail))for(let N of l)s.setQueriesData(K.action("one").id(N).params(A??{}).get(M),G=>{if(typeof v.detail=="function")return v.detail(G,D,N);if(!G)return null;let V={...G.data,...D};return{...G,data:V}});return{previousQueries:X,queryKey:H}},onSettled:(y,l,{ids:D,resource:b,dataProviderName:C})=>{let{identifier:w}=n(b);x({resource:w,invalidates:["list","many"],dataProviderName:_(w,C,r)}),D.forEach(h=>x({resource:w,invalidates:["detail"],dataProviderName:_(w,C,r),id:h})),m({type:"REMOVE",payload:{id:D,resource:w}})},onSuccess:(y,{ids:l,resource:D,meta:b,metaData:C,dataProviderName:w,successNotification:h,values:v},F)=>{let{resource:L,identifier:Q}=n(D),A=f.singular(Q),H=_(Q,w,r),K=U({resource:L,meta:S(b,C)}),$=typeof h=="function"?h(y,{ids:l,values:v},Q):h;g($,{key:`${l}-${Q}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${Q}.${Q}`,Q)},`Successfully updated ${A}`),type:"success"}),T==null||T({channel:`resources/${L.name}`,type:"updated",payload:{ids:l.map(String)},date:new Date,meta:{...K,dataProviderName:H}});let X=[];F&&l.forEach(Z=>{let oe=s.getQueryData(F.queryKey.detail(Z));X.push(Object.keys(v||{}).reduce((ie,Ce)=>{var ee;return ie[Ce]=(ee=oe==null?void 0:oe.data)==null?void 0:ee[Ce],ie},{}))});let{fields:N,operation:G,variables:V,...W}=K||{};E==null||E.mutate({action:"updateMany",resource:L.name,data:v,previousData:X,meta:{ids:l,dataProviderName:H,...W}})},onError:(y,{ids:l,resource:D,errorNotification:b,values:C},w)=>{let{identifier:h}=n(D);if(w)for(let v of w.previousQueries)s.setQueryData(v[0],v[1]);if(y.message!=="mutationCancelled"){d==null||d(y);let v=f.singular(h),F=typeof b=="function"?b(y,{ids:l,values:C},h):b;g(F,{key:`${l}-${h}-updateMany-error-notification`,message:a("notifications.editError",{resource:v,statusCode:y.statusCode},`Error when updating ${v} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:P().data().mutation("updateMany").get(M),...e,meta:{...e==null?void 0:e.meta,...(0,On.getXRay)("useUpdateMany",M)}}),{elapsedTime:R}=te({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:R}}},"useUpdateMany");var _n=require("@refinedev/devtools-internal"),no=require("@tanstack/react-query");var jn=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Y(),{mutate:n}=ce({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:s,undoableTimeout:i}=ze(),a=ne(),{notificationDispatch:u}=Ze(),p=j(),c=Ke(),d=pe(),m=Ee(),{log:T}=Ge(),{resources:g,select:x}=O(),E=(0,no.useQueryClient)(),U=J(),{options:{textTransformers:f}}=se(),{keys:P,preferLegacyKeys:M}=z(),I=(0,no.useMutation)({mutationFn:({resource:y,ids:l,mutationMode:D,undoableTimeout:b,onCancel:C,meta:w,metaData:h,dataProviderName:v,values:F})=>{let{resource:L,identifier:Q}=x(y),A=U({resource:L,meta:S(w,h)}),H=D??s,K=b??i,$=a(_(Q,v,g)),X=o(()=>$.deleteMany?$.deleteMany({resource:L.name,ids:l,meta:A,metaData:A,variables:F}):st(l.map(G=>$.deleteOne({resource:L.name,id:G,meta:A,metaData:A,variables:F}))),"mutationFn");return H!=="undoable"?X():new Promise((G,V)=>{let W=o(()=>{X().then(oe=>G(oe)).catch(oe=>V(oe))},"doMutation"),Z=o(()=>{V({message:"mutationCancelled"})},"cancelMutation");C&&C(Z),u({type:"ADD",payload:{id:l,resource:Q,cancelMutation:Z,doMutation:W,seconds:K,isSilent:!!C}})})},onMutate:async({ids:y,resource:l,mutationMode:D,dataProviderName:b,meta:C,metaData:w})=>{let{identifier:h}=x(l),{gqlMutation:v,gqlQuery:F,...L}=S(C,w)??{},Q=ot(M)(h,_(h,b,g),L),A=P().data(_(h,b,g)).resource(h),H=D??s;await E.cancelQueries(A.get(M),void 0,{silent:!0});let K=E.getQueriesData(A.get(M));if(H!=="pessimistic"){E.setQueriesData(A.action("list").params(L??{}).get(M),$=>$?{data:$.data.filter(N=>N.id&&!y.map(String).includes(N.id.toString())),total:$.total-1}:null),E.setQueriesData(A.action("many").get(M),$=>{if(!$)return null;let X=$.data.filter(N=>N.id?!y.map(String).includes(N.id.toString()):!1);return{...$,data:X}});for(let $ of y)E.setQueriesData(A.action("one").id($).params(L).get(M),X=>!X||X.data.id===$?null:{...X})}return{previousQueries:K,queryKey:Q}},onSettled:(y,l,{resource:D,ids:b,dataProviderName:C,invalidates:w=["list","many"]})=>{let{identifier:h}=x(D);m({resource:h,dataProviderName:_(h,C,g),invalidates:w}),u({type:"REMOVE",payload:{id:b,resource:h}})},onSuccess:(y,{ids:l,resource:D,meta:b,metaData:C,dataProviderName:w,successNotification:h},v)=>{let{resource:F,identifier:L}=x(D),Q=_(L,w,g),A=U({resource:F,meta:S(b,C)});l.forEach(G=>E.removeQueries(v==null?void 0:v.queryKey.detail(G)));let H=typeof h=="function"?h(y,l,L):h;d(H,{key:`${l}-${L}-notification`,description:p("notifications.success","Success"),message:p("notifications.deleteSuccess",{resource:p(`${L}.${L}`,L)},`Successfully deleted ${L}`),type:"success"}),c==null||c({channel:`resources/${F.name}`,type:"deleted",payload:{ids:l},date:new Date,meta:{...A,dataProviderName:Q}});let{fields:K,operation:$,variables:X,...N}=A||{};T==null||T.mutate({action:"deleteMany",resource:F.name,meta:{ids:l,dataProviderName:Q,...N}}),l.forEach(G=>E.removeQueries(v==null?void 0:v.queryKey.detail(G)))},onError:(y,{ids:l,resource:D,errorNotification:b},C)=>{let{identifier:w}=x(D);if(C)for(let h of C.previousQueries)E.setQueryData(h[0],h[1]);if(y.message!=="mutationCancelled"){n(y);let h=f.singular(w),v=typeof b=="function"?b(y,l,w):b;d(v,{key:`${l}-${w}-notification`,message:p("notifications.deleteError",{resource:h,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:P().data().mutation("deleteMany").get(M),...e,meta:{...e==null?void 0:e.meta,...(0,_n.getXRay)("useDeleteMany",M)}}),{elapsedTime:R}=te({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:R}}},"useDeleteMany");var Xn=o(e=>{var s;let t=ne(),{resource:r}=O(),{getApiUrl:n}=t(e??((s=S(r==null?void 0:r.meta,r==null?void 0:r.options))==null?void 0:s.dataProviderName));return n()},"useApiUrl");var Zn=require("@tanstack/react-query"),Yn=require("@refinedev/devtools-internal");var Jn=o(({url:e,method:t,config:r,queryOptions:n,successNotification:s,errorNotification:i,meta:a,metaData:u,dataProviderName:p,overtimeOptions:c})=>{let d=ne(),m=Y(),{mutate:T}=ce({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),g=j(),x=pe(),E=J(),{keys:U,preferLegacyKeys:f}=z(),P=S(a,u),{custom:M}=d(p),I=E({meta:P});if(M){let R=(0,Zn.useQuery)({queryKey:U().data(p).mutation("custom").params({method:t,url:e,...r,...P||{}}).get(f),queryFn:({queryKey:l,pageParam:D,signal:b})=>M({url:e,method:t,...r,meta:{...I,queryContext:{queryKey:l,pageParam:D,signal:b}},metaData:{...I,queryContext:{queryKey:l,pageParam:D,signal:b}}}),...n,onSuccess:l=>{var b;(b=n==null?void 0:n.onSuccess)==null||b.call(n,l);let D=typeof s=="function"?s(l,{...r,...I}):s;x(D)},onError:l=>{var b;T(l),(b=n==null?void 0:n.onError)==null||b.call(n,l);let D=typeof i=="function"?i(l,{...r,...I}):i;x(D,{key:`${t}-notification`,message:g("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},meta:{...n==null?void 0:n.meta,...(0,Yn.getXRay)("useCustom",f)}}),{elapsedTime:y}=te({isLoading:R.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...R,overtime:{elapsedTime:y}}}throw Error("Not implemented custom on data provider.")},"useCustom");var qn=require("@tanstack/react-query"),ea=require("@refinedev/devtools-internal");var ta=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Y(),{mutate:n}=ce({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=pe(),i=ne(),a=j(),u=J(),{keys:p,preferLegacyKeys:c}=z(),d=(0,qn.useMutation)(({url:T,method:g,values:x,meta:E,metaData:U,dataProviderName:f,config:P})=>{let M=u({meta:S(E,U)}),{custom:I}=i(f);if(I)return I({url:T,method:g,payload:x,meta:M,metaData:M,headers:{...P==null?void 0:P.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(T,{successNotification:g,config:x,meta:E,metaData:U})=>{let f=typeof g=="function"?g(T,{...x,...S(E,U)||{}}):g;s(f)},onError:(T,{errorNotification:g,method:x,config:E,meta:U,metaData:f})=>{n(T);let P=typeof g=="function"?g(T,{...E,...S(U,f)||{}}):g;s(P,{key:`${x}-notification`,message:a("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})},mutationKey:p().data().mutation("customMutation").get(c),...e,meta:{...e==null?void 0:e.meta,...(0,ea.getXRay)("useCustomMutation",c)}}),{elapsedTime:m}=te({isLoading:d.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...d,overtime:{elapsedTime:m}}},"useCustomMutation");var ao=require("react");var bs=B(require("react"));var Oi=o(()=>({}),"defaultDataProvider"),Rr=bs.default.createContext(Oi()),ra=o(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},bs.default.createElement(Rr.Provider,{value:r},e)},"DataContextProvider");var ne=o(()=>{let e=(0,ao.useContext)(Rr);return(0,ao.useCallback)(r=>{if(r){if(!(e==null?void 0:e[r]))throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider");var oa=require("@refinedev/devtools-internal"),sa=require("@tanstack/react-query");var na=o(({resource:e,config:t,filters:r,hasPagination:n,pagination:s,sorters:i,queryOptions:a,successNotification:u,errorNotification:p,meta:c,metaData:d,liveMode:m,onLiveEvent:T,liveParams:g,dataProviderName:x,overtimeOptions:E})=>{let{resources:U,resource:f,identifier:P}=O(e),M=ne(),I=j(),R=Y(),{mutate:y}=ce({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),l=pe(),D=J(),{keys:b,preferLegacyKeys:C}=z(),w=_(P,x,U),h=S(c,d),v=S(r,t==null?void 0:t.filters),F=S(i,t==null?void 0:t.sort),L=S(n,t==null?void 0:t.hasPagination),Q=ar({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:L}),A=Q.mode==="server",H={meta:h,metaData:h,filters:v,hasPagination:A,pagination:Q,sorters:F,config:{...t,sort:F}},K=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,$=D({resource:f,meta:h}),{getList:X}=M(w);nt({resource:P,types:["*"],params:{meta:$,metaData:$,pagination:Q,hasPagination:A,sort:F,sorters:F,filters:v,subscriptionType:"useList",...g},channel:`resources/${f.name}`,enabled:K,liveMode:m,onLiveEvent:T,dataProviderName:w,meta:{...$,dataProviderName:x}});let N=(0,sa.useInfiniteQuery)({queryKey:b().data(w).resource(P).action("infinite").params({...h||{},filters:v,hasPagination:A,...A&&{pagination:Q},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(C),queryFn:({queryKey:V,pageParam:W,signal:Z})=>{let oe={...Q,current:W};return X({resource:f.name,pagination:oe,hasPagination:A,filters:v,sort:F,sorters:F,meta:{...$,queryContext:{queryKey:V,pageParam:W,signal:Z}},metaData:{...$,queryContext:{queryKey:V,pageParam:W,signal:Z}}}).then(({data:ie,total:Ce,...ee})=>({data:ie,total:Ce,pagination:oe,...ee}))},getNextPageParam:V=>or(V),getPreviousPageParam:V=>sr(V),...a,onSuccess:V=>{var Z;(Z=a==null?void 0:a.onSuccess)==null||Z.call(a,V);let W=typeof u=="function"?u(V,H,P):u;l(W)},onError:V=>{var Z;y(V),(Z=a==null?void 0:a.onError)==null||Z.call(a,V);let W=typeof p=="function"?p(V,H,P):p;l(W,{key:`${P}-useInfiniteList-notification`,message:I("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,oa.getXRay)("useInfiniteList",C)}}),{elapsedTime:G}=te({isLoading:N.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...N,overtime:{elapsedTime:G}}},"useInfiniteList");var vs=B(require("react"));var at=vs.default.createContext(void 0),aa=o(({liveProvider:e,children:t})=>vs.default.createElement(at.Provider,{value:e},t),"LiveContextProvider");var Ra=require("react"),xa=require("@tanstack/react-query");var Ta=require("react");var Ds=B(require("react"));var pa=require("react");var ia=require("react"),ua=B(require("lodash/isEqual"));var ca=o(e=>{let t=(0,ia.useRef)(e);return(0,ua.default)(t.current,e)||(t.current=e),t.current},"useMemoized");var io=o((e,t)=>{let r=ca(t);return(0,pa.useMemo)(e,r)},"useDeepMemo");var it=Ds.default.createContext({resources:[]}),da=o(({resources:e,children:t})=>{let r=io(()=>nr(e??[]),[e]);return Ds.default.createElement(it.Provider,{value:{resources:r}},t)},"ResourceContextProvider");var Ls=B(require("react"));var la=Ls.default.createContext("new"),ma=la.Provider,q=o(()=>Ls.default.useContext(la),"useRouterType");var ga=B(require("react"));var uo=B(require("react"));var fa={},ut=(0,uo.createContext)(fa),ya=o(({children:e,router:t})=>uo.default.createElement(ut.Provider,{value:t??fa},e),"RouterBindingsProvider");var co=B(require("react"));var po=o(()=>{let e=(0,co.useContext)(ut);return co.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse");var xe=o(()=>{let e=po();return ga.default.useMemo(()=>e(),[e])},"useParsed");function O(e){let{resources:t}=(0,Ta.useContext)(it),r=q(),n=xe(),s={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=o((m,T=!0)=>{let x=Te(m,t,r==="legacy");if(x)return{resource:x,identifier:x.identifier??x.name};if(T){let E={name:m,identifier:m},U=E.identifier??E.name;return{resource:E,identifier:U}}},"select"),a=Es(),{useParams:u}=ue(),p=u();if(r==="legacy"){let m=s.resourceNameOrRouteName?s.resourceNameOrRouteName:p.resource,T=m?a(m):void 0,g=(s==null?void 0:s.recordItemId)??p.id,x=p.action,E=(s==null?void 0:s.resourceName)??(T==null?void 0:T.name),U=(T==null?void 0:T.identifier)??(T==null?void 0:T.name);return{resources:t,resource:T,resourceName:E,id:g,action:x,select:i,identifier:U}}let c,d=typeof e=="string"?e:s==null?void 0:s.resourceNameOrRouteName;if(d){let m=Te(d,t);m?c=m:c={name:d}}else n!=null&&n.resource&&(c=n.resource);return{resources:t,resource:c,resourceName:c==null?void 0:c.name,id:n.id,action:n.action,select:i,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}o(O,"useResource");var lo=require("react");var Es=o(()=>{let{resources:e}=(0,lo.useContext)(it);return(0,lo.useCallback)(r=>{let n=Te(r,e,!0);return n||{name:r,route:r}},[e])},"useResourceWithRoute");var Ee=o(()=>{let{resources:e}=O(),t=(0,xa.useQueryClient)(),{keys:r,preferLegacyKeys:n}=z();return(0,Ra.useCallback)(async({resource:i,dataProviderName:a,invalidates:u,id:p,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(u===!1)return;let m=_(i,a,e),T=r().data(m).resource(i??"");await Promise.all(u.map(g=>{switch(g){case"all":return t.invalidateQueries(r().data(m).get(n),c,d);case"list":return t.invalidateQueries(T.action("list").get(n),c,d);case"many":return t.invalidateQueries(T.action("many").get(n),c,d);case"resourceAll":return t.invalidateQueries(T.get(n),c,d);case"detail":return t.invalidateQueries(T.action("one").id(p||"").get(n),c,d);default:return}}))},[])},"useInvalidate");var xr=require("react");var nt=o(({resource:e,params:t,channel:r,types:n,enabled:s=!0,liveMode:i,onLiveEvent:a,dataProviderName:u,meta:p})=>{var f;let{resource:c,identifier:d}=O(e),m=(0,xr.useContext)(at),{liveMode:T,onLiveEvent:g}=(0,xr.useContext)(Ie),x=i??T,E=Ee(),U=u??(p==null?void 0:p.dataProviderName)??((f=c==null?void 0:c.meta)==null?void 0:f.dataProviderName);(0,xr.useEffect)(()=>{let P,M=o(I=>{x==="auto"&&E({resource:d,dataProviderName:U,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),a==null||a(I),g==null||g(I)},"callback");return x&&x!=="off"&&s&&(P=m==null?void 0:m.subscribe({channel:r,params:{resource:c==null?void 0:c.name,...t},types:n,callback:M,dataProviderName:U,meta:{...p,dataProviderName:U}})),()=>{P&&(m==null||m.unsubscribe(P))}},[s])},"useResourceSubscription");var Pa=require("react");var Us=o(e=>{let{liveMode:t}=(0,Pa.useContext)(Ie);return e??t},"useLiveMode");var mo=require("react");var zi=o(({params:e,channel:t,types:r=["*"],enabled:n=!0,onLiveEvent:s,dataProviderName:i="default",meta:a})=>{let u=(0,mo.useContext)(at);(0,mo.useEffect)(()=>{let p;return n&&(p=u==null?void 0:u.subscribe({channel:t,params:e,types:r,callback:s,dataProviderName:i,meta:{...a,dataProviderName:i}})),()=>{p&&(u==null||u.unsubscribe(p))}},[n])},"useSubscription");var ha=require("react");var Ke=o(()=>{let e=(0,ha.useContext)(at);return e==null?void 0:e.publish},"usePublish");var Ca=require("react");var Ze=o(()=>{let{notifications:e,notificationDispatch:t}=(0,Ca.useContext)(eo);return{notifications:e,notificationDispatch:t}},"useCancelNotification");var va=require("react");var fo=B(require("react"));var Pr=(0,fo.createContext)({}),ba=o(({open:e,close:t,children:r})=>fo.default.createElement(Pr.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider");var Fe=o(()=>{let{open:e,close:t}=(0,va.useContext)(Pr);return{open:e,close:t}},"useNotification");var Da=require("react");var pe=o(()=>{let{open:e}=Fe();return(0,Da.useCallback)((r,n)=>{r!==!1&&(r?e==null||e(r):n&&(e==null||e(n)))},[])},"useHandleNotification");var yo=require("react");var Ms=B(require("react"));var He=Ms.default.createContext({}),La=o(({children:e,i18nProvider:t})=>Ms.default.createElement(He.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider");var Ea=o(()=>{let{i18nProvider:e}=(0,yo.useContext)(He);return(0,yo.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale");var go=require("react");var j=o(()=>{let{i18nProvider:e}=(0,go.useContext)(He);return(0,go.useMemo)(()=>{function r(n,s,i){return(e==null?void 0:e.translate(n,s,i))??i??(typeof s=="string"&&typeof i>"u"?s:n)}return o(r,"translate"),r},[e])},"useTranslate");var To=require("react");var Ua=o(()=>{let{i18nProvider:e}=(0,To.useContext)(He);return(0,To.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale");var Ma=require("react"),wa=require("papaparse"),ws=B(require("warn-once"));var _i=o(({resourceName:e,resource:t,sorter:r,sorters:n,filters:s,maxItemCount:i,pageSize:a=20,mapData:u=o(E=>E,"mapData"),exportOptions:p,unparseConfig:c,meta:d,metaData:m,dataProviderName:T,onError:g,download:x}={})=>{let[E,U]=(0,Ma.useState)(!1),f=ne(),P=J(),{resource:M,resources:I,identifier:R}=O(S(t,e)),l=`${Dt()(R,"plural")}-${new Date().toLocaleString()}`,{getList:D}=f(_(R,T,I)),b=P({resource:M,meta:S(d,m)});return{isLoading:E,triggerExport:o(async()=>{U(!0);let w=[],h=1,v=!0;for(;v;)try{let{data:A,total:H}=await D({resource:(M==null?void 0:M.name)??"",filters:s,sort:S(n,r),sorters:S(n,r),pagination:{current:h,pageSize:a,mode:"server"},meta:b,metaData:b});h++,w.push(...A),i&&w.length>=i&&(w=w.slice(0,i),v=!1),H===w.length&&(v=!1)}catch(A){U(!1),v=!1,g==null||g(A);return}let F=typeof c<"u"&&c!==null;(0,ws.default)(F&&typeof p<"u"&&p!==null,`[useExport]: resource: "${R}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let L={filename:l,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...p};(0,ws.default)((p==null?void 0:p.decimalSeparator)!==void 0,`[useExport]: resource: "${R}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),F?c={quotes:!0,...c}:c={columns:L.useKeysAsHeaders?void 0:L.headers,delimiter:L.fieldSeparator,header:L.showLabels||L.useKeysAsHeaders,quoteChar:L.quoteStrings,quotes:!0};let Q=(0,wa.unparse)(w.map(u),c);if(L.showTitle&&(Q=`${L.title}\r

${Q}`),typeof window<"u"&&Q.length>0&&(x??!0)){let A=L.useTextFile?".txt":".csv",H=`text/${L.useTextFile?"plain":"csv"};charset=utf8;`,K=`${(L.filename??"download").replace(/ /g,"_")}${A}`;Xo(K,`${L!=null&&L.useBom?"\uFEFF":""}${Q}`,H)}return U(!1),Q},"triggerExport")}},"useExport");var Ro=B(require("react")),Ia=B(require("warn-once")),Sa=B(require("lodash/debounce"));var ji=o(({resource:e,action:t,id:r,onMutationSuccess:n,onMutationError:s,redirect:i,successNotification:a,errorNotification:u,meta:p,metaData:c,queryMeta:d,mutationMeta:m,mutationMode:T,liveMode:g,onLiveEvent:x,liveParams:E,undoableTimeout:U,dataProviderName:f,invalidates:P,queryOptions:M,createMutationOptions:I,updateMutationOptions:R,overtimeOptions:y,autoSave:l,optimisticUpdateMap:D}={})=>{let b=Ee(),{options:C}=se(),w=J(),{resource:h,id:v,action:F,identifier:L}=O(e),{identifier:Q}=O(),H=o(()=>{let Pe=r??v;return e&&e!==Q?r:Pe},"getDefaultId")(),[K,$]=Ro.default.useState(H);Ro.default.useEffect(()=>{$(H)},[H]);let N=o(()=>t||(F==="edit"||F==="clone"?F:"create"),"getAction")(),G=w({resource:h,meta:S(p,c)}),{mutationMode:V}=ze(),W=T??V,Z=N==="create",oe=N==="edit",ie=N==="clone";(0,Ia.default)((ie||oe)&&!!e&&!r&&(M==null?void 0:M.enabled)!==!1,`[useForm]: action: "${N}", resource: "${L}", id: ${K} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let Ce=Wo({redirectFromProps:i,action:N,redirectOptions:C.redirect}),De=Nt({resource:L,id:K??"",queryOptions:{enabled:K!==void 0&&(oe||ie),...M},liveMode:g,onLiveEvent:x,liveParams:E,meta:{...G,...d},metaData:{...G,...d},dataProviderName:f}),{isFetching:xt}=De,Pt=Gt({mutationOptions:I}),{mutate:Mt,isLoading:wt}=Pt,It=Tr({mutationOptions:R}),{mutate:Ur,isLoading:Mo}=It,Je=Tr({}),{setWarnWhen:_t}=kt(),_e=Is(),Mr=o(async Pe=>{_t(!1);let We=o(Be=>{_e({redirect:Ce,resource:h,id:Be,meta:S(p,c)})},"onSuccess");return W!=="pessimistic"&&setTimeout(()=>{We()}),new Promise((Be,mt)=>{if(W!=="pessimistic"&&Be(),!!h)return Mt({values:Pe,resource:L??h.name,successNotification:a,errorNotification:u,meta:{...G,...m},metaData:{...G,...m},dataProviderName:f,invalidates:P},{onSuccess:(Ue,ft,yt)=>{var Xt;n&&n(Ue,Pe,yt);let Ct=(Xt=Ue==null?void 0:Ue.data)==null?void 0:Xt.id;We(Ct),Be(Ue)},onError:(Ue,ft,yt)=>{if(s)return s(Ue,Pe,yt);mt()}})})},"onFinishCreate");Ro.default.useEffect(()=>()=>{l!=null&&l.invalidateOnUnmount&&Je.status==="success"&&b({id:K,invalidates:P||["list","many","detail"],dataProviderName:f,resource:L})},[l==null?void 0:l.invalidateOnUnmount,Je.status]);let ht=o(Pe=>{if(!h||!oe)return;let We={id:K??"",values:Pe,resource:L??h.name,successNotification:!1,errorNotification:!1,meta:{...G,...m},metaData:{...G,...m},dataProviderName:f,invalidates:[],mutationMode:"pessimistic"};return Je.mutate(We,{onSuccess:(Be,mt,Ue)=>{n&&n(Be,Pe,Ue,!0)},onError:(Be,mt,Ue)=>{if(s)return s(Be,Pe,Ue,!0)}})},"onFinishAutoSaveMutation"),St=(0,Sa.default)(Pe=>ht(Pe),(l==null?void 0:l.debounce)||1e3),jt=Z||ie?{formLoading:xt||wt,mutationResult:Pt,onFinish:Mr}:{formLoading:xt||Mo,mutationResult:It,onFinish:o(async Pe=>{if(_t(!1),!h)return;let We={id:K??"",values:Pe,resource:L??h.name,mutationMode:W,undoableTimeout:U,successNotification:a,errorNotification:u,meta:{...G,...m},metaData:{...G,...m},dataProviderName:f,invalidates:P,optimisticUpdateMap:D},Be=o(()=>{_e({redirect:Ce,resource:h,id:K,meta:S(p,c)})},"onSuccess");return W!=="pessimistic"&&setTimeout(()=>{Be()}),new Promise((mt,Ue)=>(W!=="pessimistic"&&mt(),setTimeout(()=>{Ur(We,{onSuccess:(ft,yt,Ct)=>{n&&n(ft,Pe,Ct),W==="pessimistic"&&Be(),mt(ft)},onError:(ft,yt,Ct)=>{if(s)return s(ft,Pe,Ct);Ue()}})})))},"onFinishUpdate")},{elapsedTime:wr}=te({isLoading:jt.mutationResult.isLoading||De.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{...jt,queryResult:De,onFinishAutoSave:St,autoSaveProps:{status:Je.status,data:Je.data,error:Je.error},id:K,setId:$,redirect:(Pe,We)=>{_e({redirect:Pe!==void 0?Pe:oe?"list":"edit",resource:h,id:We??K,meta:S(p,c)})},overtime:{elapsedTime:wr}}},"useForm");var Fa=require("react");var Is=o(()=>{let{show:e,edit:t,list:r,create:n}=ye();return(0,Fa.useCallback)(({redirect:i,resource:a,id:u,meta:p={}})=>{if(i&&a)return a.show&&i==="show"&&u?e(a,u,void 0,p):a.edit&&i==="edit"&&u?t(a,u,void 0,p):a.create&&i==="create"?n(a,void 0,p):r(a,"push",p)},[])},"useRedirectionAfterSubmission");var Ht=B(require("react"));var Aa=B(require("react"));var gt=o(()=>{let e=q(),{resource:t,resources:r}=O(),n=xe();return Aa.default.useCallback(({resource:i,action:a,meta:u})=>{var T;let p=i||t;if(!p)return;let d=(T=ve(p,r,e==="legacy").find(g=>g.action===a))==null?void 0:T.route;return d?Se(d,p==null?void 0:p.meta,n,u):void 0},[r,t,n])},"useGetToPath");var ge=o(()=>{let e=(0,Ht.useContext)(ut),{select:t}=O(),r=gt(),s=Ht.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Ht.useCallback)(a=>{if(typeof a.to!="object")return s({...a,to:a.to});let{resource:u}=t(a.to.resource);Xi(a.to,u);let p=r({resource:u,action:a.to.action,meta:{id:a.to.id,...a.to.meta}});return s({...a,to:p})},[t,s])},"useGo"),Xi=o((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors");var xo=B(require("react"));var Po=o(()=>{let e=(0,xo.useContext)(ut);return xo.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack");var ye=o(()=>{let{resources:e}=O(),t=q(),{useHistory:r}=ue(),n=r(),s=xe(),i=ge(),a=Po(),u=o((R,y="push")=>{t==="legacy"?n[y](R):i({to:R,type:y})},"handleUrl"),p=o((R,y={})=>{var b;if(t==="legacy"){let C=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,w=ve(C,e,!0).find(h=>h.action==="create");return w?Se(w.route,C==null?void 0:C.meta,s,y):""}let l=typeof R=="string"?Te(R,e)??{name:R}:R,D=(b=ve(l,e).find(C=>C.action==="create"))==null?void 0:b.route;return D?i({to:Se(D,l==null?void 0:l.meta,s,y),type:"path"}):""},"createUrl"),c=o((R,y,l={})=>{var w;let D=encodeURIComponent(y);if(t==="legacy"){let h=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,v=ve(h,e,!0).find(F=>F.action==="edit");return v?Se(v.route,h==null?void 0:h.meta,s,{...l,id:D}):""}let b=typeof R=="string"?Te(R,e)??{name:R}:R,C=(w=ve(b,e).find(h=>h.action==="edit"))==null?void 0:w.route;return C?i({to:Se(C,b==null?void 0:b.meta,s,{...l,id:D}),type:"path"}):""},"editUrl"),d=o((R,y,l={})=>{var w;let D=encodeURIComponent(y);if(t==="legacy"){let h=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,v=ve(h,e,!0).find(F=>F.action==="clone");return v?Se(v.route,h==null?void 0:h.meta,s,{...l,id:D}):""}let b=typeof R=="string"?Te(R,e)??{name:R}:R,C=(w=ve(b,e).find(h=>h.action==="clone"))==null?void 0:w.route;return C?i({to:Se(C,b==null?void 0:b.meta,s,{...l,id:D}),type:"path"}):""},"cloneUrl"),m=o((R,y,l={})=>{var w;let D=encodeURIComponent(y);if(t==="legacy"){let h=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,v=ve(h,e,!0).find(F=>F.action==="show");return v?Se(v.route,h==null?void 0:h.meta,s,{...l,id:D}):""}let b=typeof R=="string"?Te(R,e)??{name:R}:R,C=(w=ve(b,e).find(h=>h.action==="show"))==null?void 0:w.route;return C?i({to:Se(C,b==null?void 0:b.meta,s,{...l,id:D}),type:"path"}):""},"showUrl"),T=o((R,y={})=>{var b;if(t==="legacy"){let C=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,w=ve(C,e,!0).find(h=>h.action==="list");return w?Se(w.route,C==null?void 0:C.meta,s,y):""}let l=typeof R=="string"?Te(R,e)??{name:R}:R,D=(b=ve(l,e).find(C=>C.action==="list"))==null?void 0:b.route;return D?i({to:Se(D,l==null?void 0:l.meta,s,y),type:"path"}):""},"listUrl");return{create:o((R,y="push",l={})=>{u(p(R,l),y)},"create"),createUrl:p,edit:o((R,y,l="push",D={})=>{u(c(R,y,D),l)},"edit"),editUrl:c,clone:o((R,y,l="push",D={})=>{u(d(R,y,D),l)},"clone"),cloneUrl:d,show:o((R,y,l="push",D={})=>{u(m(R,y,D),l)},"show"),showUrl:m,list:o((R,y="push",l={})=>{u(T(R,l),y)},"list"),listUrl:T,push:o((R,...y)=>{t==="legacy"?n.push(R,...y):i({to:R,type:"push"})},"push"),replace:o((R,...y)=>{t==="legacy"?n.replace(R,...y):i({to:R,type:"replace"})},"replace"),goBack:o(()=>{t==="legacy"?n.goBack():a()},"goBack")}},"useNavigation");var ho=B(require("react")),ka=B(require("warn-once"));var Zi=o(({resource:e,id:t,successNotification:r,errorNotification:n,meta:s,metaData:i,liveMode:a,onLiveEvent:u,dataProviderName:p,queryOptions:c,overtimeOptions:d}={})=>{let{resource:m,id:T,identifier:g}=O(e),{identifier:x}=O(),E=J(),f=o(()=>{let l=t??T;return e&&e!==x?t:l},"getDefaultId")(),[P,M]=(0,ho.useState)(f);ho.default.useEffect(()=>{M(f)},[f]);let I=E({resource:m,meta:S(s,i)});(0,ka.default)(!!e&&!t,`[useShow]: resource: "${g}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let R=Nt({resource:g,id:P??"",queryOptions:{enabled:P!==void 0,...c},successNotification:r,errorNotification:n,meta:I,metaData:I,liveMode:a,onLiveEvent:u,dataProviderName:p}),{elapsedTime:y}=te({isLoading:R.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{queryResult:R,showId:P,setShowId:M,overtime:{elapsedTime:y}}},"useShow");var $t=require("react"),Qa=require("papaparse"),Va=B(require("lodash/chunk"));var Yi=o(({resourceName:e,resource:t,mapData:r=o(d=>d,"mapData"),paparseOptions:n,batchSize:s=Number.MAX_SAFE_INTEGER,onFinish:i,meta:a,metaData:u,onProgress:p,dataProviderName:c}={})=>{let[d,m]=(0,$t.useState)(0),[T,g]=(0,$t.useState)(0),[x,E]=(0,$t.useState)(!1),{resource:U,identifier:f}=O(t??e),P=J(),M=oo(),I=Gt(),R=P({resource:U,meta:S(a,u)}),y;s===1?y=I:y=M;let l=o(()=>{g(0),m(0),E(!1)},"handleCleanup"),D=o(C=>{let w={succeeded:C.filter(h=>h.type==="success"),errored:C.filter(h=>h.type==="error")};i==null||i(w),E(!1)},"handleFinish");(0,$t.useEffect)(()=>{p==null||p({totalAmount:T,processedAmount:d})},[T,d]);let b=o(({file:C})=>(l(),new Promise(w=>{E(!0),(0,Qa.parse)(C,{complete:async({data:h})=>{let v=Jt(h,r);if(g(v.length),s===1){let F=v.map(Q=>o(async()=>({response:await I.mutateAsync({resource:f??"",values:Q,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:R,metaData:R}),value:Q}),"fn")),L=await Gr(F,({response:Q,value:A})=>(m(H=>H+1),{response:[Q.data],type:"success",request:[A]}),(Q,A)=>({response:[Q],type:"error",request:[v[A]]}));w(L)}else{let F=(0,Va.default)(v,s),L=F.map(A=>o(async()=>({response:await M.mutateAsync({resource:f??"",values:A,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:R,metaData:R}),value:A,currentBatchLength:A.length}),"fn")),Q=await Gr(L,({response:A,currentBatchLength:H,value:K})=>(m($=>$+H),{response:A.data,type:"success",request:K}),(A,H)=>({response:[A],type:"error",request:F[H]}));w(Q)}},...n})}).then(w=>(D(w),w))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:C=>{C.target.files&&C.target.files.length>0&&b({file:C.target.files[0]})}},mutationResult:y,isLoading:x,handleChange:b}},"useImport");var hr=require("react");var Ji=o(({defaultVisible:e=!1}={})=>{let[t,r]=(0,hr.useState)(e),n=(0,hr.useCallback)(()=>r(!0),[t]),s=(0,hr.useCallback)(()=>r(!1),[t]);return{visible:t,show:n,close:s}},"useModal");var Ba=o(({resource:e,action:t,meta:r,legacy:n})=>gt()({resource:e,action:t,meta:r,legacy:n}),"useToPath");var Co=B(require("react"));var Tt=o(()=>{let e=(0,Co.useContext)(ut);return e!=null&&e.Link?e.Link:o(({to:r,...n})=>Co.default.createElement("a",{href:r,...n}),"FallbackLink")},"useLink");var Ka=require("react");var Ss=B(require("react"));var ct={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},qi=Ss.default.createContext(ct),Cr=qi,Na=o(({children:e,useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:i,routes:a})=>Ss.default.createElement(Cr.Provider,{value:{useHistory:t??ct.useHistory,useLocation:r??ct.useLocation,useParams:n??ct.useParams,Prompt:s??ct.Prompt,Link:i??ct.Link,routes:a??ct.routes}},e),"LegacyRouterContextProvider");var ue=o(()=>{let e=(0,Ka.useContext)(Cr),{useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:i,routes:a}=e??ct;return{useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:i,routes:a}},"useRouterContext");var Ha=require("@tanstack/react-query"),$a=require("react");var Fs=B(require("react"));var pt=Fs.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}});var Ga=o(({can:e,children:t,options:r})=>Fs.default.createElement(pt.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},t),"AccessControlContextProvider");var Wt=o(e=>{if(!e)return;let{icon:t,list:r,edit:n,create:s,show:i,clone:a,children:u,meta:p,options:c,...d}=e,{icon:m,...T}=p??{},{icon:g,...x}=c??{};return{...d,...p?{meta:T}:{},...c?{options:x}:{}}},"sanitizeResource");var Wa=require("@refinedev/devtools-internal");var As=o(({action:e,resource:t,params:r,queryOptions:n})=>{let{can:s,options:i}=(0,$a.useContext)(pt),{keys:a,preferLegacyKeys:u}=z(),{queryOptions:p}=i||{},c={...p,...n},{resource:d,...m}=r??{},T=Wt(d),g=(0,Ha.useQuery)({queryKey:a().access().resource(t).action(e).params({params:{...m,resource:T},enabled:c==null?void 0:c.enabled}).get(u),queryFn:()=>(s==null?void 0:s({action:e,resource:t,params:{...m,resource:T}}))??Promise.resolve({can:!0}),enabled:typeof s<"u",...c,meta:{...c==null?void 0:c.meta,...(0,Wa.getXRay)("useCan",u)},retry:!1});return typeof s>"u"?{data:{can:!0}}:g},"useCan");var ks=B(require("react"));var eu=o(()=>{let{can:e}=ks.default.useContext(pt);return{can:ks.default.useMemo(()=>e?o(async({params:n,...s})=>{let i=n!=null&&n.resource?Wt(n.resource):void 0;return e({...s,...n?{params:{...n,resource:i}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache");var Ye=require("react"),Oa=B(require("lodash/uniqBy")),za=B(require("lodash/debounce")),Qs=B(require("lodash/get"));var tu=o(e=>{let[t,r]=(0,Ye.useState)([]),[n,s]=(0,Ye.useState)([]),[i,a]=(0,Ye.useState)([]),{resource:u,sort:p,sorters:c,filters:d=[],optionLabel:m="title",optionValue:T="id",searchField:g=typeof m=="string"?m:"title",debounce:x=300,successNotification:E,errorNotification:U,defaultValueQueryOptions:f,queryOptions:P,fetchSize:M,pagination:I,hasPagination:R=!1,liveMode:y,defaultValue:l=[],onLiveEvent:D,onSearch:b,liveParams:C,meta:w,metaData:h,dataProviderName:v,overtimeOptions:F}=e,L=(0,Ye.useCallback)(ee=>typeof m=="string"?(0,Qs.default)(ee,m):m(ee),[m]),Q=(0,Ye.useCallback)(ee=>typeof T=="string"?(0,Qs.default)(ee,T):T(ee),[T]),{resource:A,identifier:H}=O(u),$=J()({resource:A,meta:S(w,h)}),X=Array.isArray(l)?l:[l],N=(0,Ye.useCallback)(ee=>{a(ee.data.map(De=>({label:L(De),value:Q(De)})))},[m,T]),G=f??P,V=Jr({resource:H,ids:X,queryOptions:{...G,enabled:X.length>0&&((G==null?void 0:G.enabled)??!0),onSuccess:ee=>{var De;N(ee),(De=G==null?void 0:G.onSuccess)==null||De.call(G,ee)}},meta:$,metaData:$,liveMode:"off",dataProviderName:v}),W=(0,Ye.useCallback)(ee=>{s(ee.data.map(De=>({label:L(De),value:Q(De)})))},[m,T]),Z=Bt({resource:H,sorters:S(c,p),filters:d.concat(t),pagination:{current:I==null?void 0:I.current,pageSize:(I==null?void 0:I.pageSize)??M,mode:I==null?void 0:I.mode},hasPagination:R,queryOptions:{...P,onSuccess:ee=>{var De;W(ee),(De=P==null?void 0:P.onSuccess)==null||De.call(P,ee)}},successNotification:E,errorNotification:U,meta:$,metaData:$,liveMode:y,liveParams:C,onLiveEvent:D,dataProviderName:v}),oe=o(ee=>{if(b){r(b(ee));return}if(!ee){r([]);return}r([{field:g,operator:"contains",value:ee}])},"onSearch"),{elapsedTime:ie}=te({isLoading:Z.isFetching||V.isFetching,interval:F==null?void 0:F.interval,onInterval:F==null?void 0:F.onInterval}),Ce=(0,Ye.useMemo)(()=>(0,Oa.default)([...n,...i],"value"),[n,i]);return{queryResult:Z,defaultValueQueryResult:V,options:Ce,onSearch:(0,za.default)(oe,x),overtime:{elapsedTime:ie}}},"useSelect");var et=B(require("react")),Vs=B(require("qs")),br=B(require("lodash/differenceWith")),vr=B(require("lodash/isEqual")),Xa=B(require("warn-once"));var _a=[],ja=[];function ru({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:n,initialSorter:s,permanentSorter:i=ja,defaultSetFilterBehavior:a,initialFilter:u,permanentFilter:p=_a,filters:c,sorters:d,syncWithLocation:m,resource:T,successNotification:g,errorNotification:x,queryOptions:E,liveMode:U,onLiveEvent:f,liveParams:P,meta:M,metaData:I,dataProviderName:R,overtimeOptions:y}={}){var Xt,$s,Ws,Os,zs;let{syncWithLocation:l}=Or(),D=m??l,b=Us(U),C=q(),{useLocation:w}=ue(),{search:h,pathname:v}=w(),F=J(),L=xe(),Q=((c==null?void 0:c.mode)||"server")==="server",A=((d==null?void 0:d.mode)||"server")==="server",H=r===!1?"off":"server",K=((n==null?void 0:n.mode)??H)!=="off",$=S(n==null?void 0:n.current,e),X=S(n==null?void 0:n.pageSize,t),N=S(M,I),{parsedCurrent:G,parsedPageSize:V,parsedSorter:W,parsedFilters:Z}=cr(h??"?"),oe=S(c==null?void 0:c.initial,u),ie=S(c==null?void 0:c.permanent,p)??_a,Ce=S(d==null?void 0:d.initial,s),ee=S(d==null?void 0:d.permanent,i)??ja,De=S(c==null?void 0:c.defaultBehavior,a)??"merge",xt,Pt,Mt,wt;D?(xt=((Xt=L==null?void 0:L.params)==null?void 0:Xt.current)||G||$||1,Pt=(($s=L==null?void 0:L.params)==null?void 0:$s.pageSize)||V||X||10,Mt=((Ws=L==null?void 0:L.params)==null?void 0:Ws.sorters)||(W.length?W:Ce),wt=((Os=L==null?void 0:L.params)==null?void 0:Os.filters)||(Z.length?Z:oe)):(xt=$||1,Pt=X||10,Mt=Ce,wt=oe);let{replace:It}=ye(),Ur=ge(),{resource:Mo,identifier:Je}=O(T),_t=F({resource:Mo,meta:N});et.default.useEffect(()=>{(0,Xa.default)(typeof Je>"u","useTable: `resource` is not defined.")},[Je]);let[_e,Mr]=(0,et.useState)(mr(ee,Mt??[])),[ht,St]=(0,et.useState)(lr(ie,wt??[])),[Ft,wo]=(0,et.useState)(xt),[lt,jt]=(0,et.useState)(Pt),wr=o(()=>{if(C==="new"){let{sorters:_s,filters:hu,pageSize:Cu,current:bu,...Ui}=(L==null?void 0:L.params)??{};return Ui}let{sorter:be,filters:je,pageSize:Io,current:So,...Fo}=Vs.default.parse(h,{ignoreQueryPrefix:!0});return Fo},"getCurrentQueryParams"),Pe=o(({pagination:{current:be,pageSize:je},sorter:Io,filters:So})=>{if(C==="new")return Ur({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...K?{current:be,pageSize:je}:{},sorters:Io,filters:So,...wr()}})??"";let Fo=Vs.default.parse(h==null?void 0:h.substring(1)),_s=pr({pagination:{pageSize:je,current:be},sorters:_e??Io,filters:So,...Fo});return`${v??""}?${_s??""}`},"createLinkForSyncWithLocation");(0,et.useEffect)(()=>{h===""&&(wo(xt),jt(Pt),Mr(mr(ee,Mt??[])),St(lr(ie,wt??[])))},[h]),(0,et.useEffect)(()=>{if(D){let be=wr();if(C==="new")Ur({type:"replace",options:{keepQuery:!0},query:{...K?{pageSize:lt,current:Ft}:{},sorters:(0,br.default)(_e,ee,vr.default),filters:(0,br.default)(ht,ie,vr.default)}});else{let je=pr({...K?{pagination:{pageSize:lt,current:Ft}}:{},sorters:(0,br.default)(_e,ee,vr.default),filters:(0,br.default)(ht,ie,vr.default),...be});return It==null?void 0:It(`${v}?${je}`,void 0,{shallow:!0})}}},[D,Ft,lt,_e,ht]);let We=Bt({resource:Je,hasPagination:r,pagination:{current:Ft,pageSize:lt,mode:n==null?void 0:n.mode},filters:Q?Lt(ie,ht):void 0,sorters:A?dr(ee,_e):void 0,queryOptions:E,successNotification:g,errorNotification:x,meta:_t,metaData:_t,liveMode:b,liveParams:P,onLiveEvent:f,dataProviderName:R}),Be=o(be=>{St(je=>Lt(ie,be,je))},"setFiltersAsMerge"),mt=o(be=>{St(Lt(ie,be))},"setFiltersAsReplace"),Ue=o(be=>{St(je=>Lt(ie,be(je)))},"setFiltersWithSetter"),ft=o((be,je=De)=>{typeof be=="function"?Ue(be):je==="replace"?mt(be):Be(be)},"setFiltersFn"),yt=o(be=>{Mr(()=>dr(ee,be))},"setSortWithUnion"),{elapsedTime:Ct}=te({isLoading:We.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{tableQueryResult:We,sorters:_e,setSorters:yt,sorter:_e,setSorter:yt,filters:ht,setFilters:ft,current:Ft,setCurrent:wo,pageSize:lt,setPageSize:jt,pageCount:lt?Math.ceil((((zs=We.data)==null?void 0:zs.total)??0)/lt):1,createLinkForSyncWithLocation:Pe,overtime:{elapsedTime:Ct}}}o(ru,"useTable");var Ns=require("react"),Dr=require("@tanstack/react-query");var Bs=B(require("react"));var Et=Bs.default.createContext({}),Za=o(({create:e,get:t,update:r,children:n})=>Bs.default.createElement(Et.Provider,{value:{create:e,get:t,update:r}},n),"AuditLogContextProvider");var Ks=require("@refinedev/devtools-internal");var Ge=o(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Dr.useQueryClient)(),n=(0,Ns.useContext)(Et),{keys:s,preferLegacyKeys:i}=z(),a=Y(),{resources:u}=(0,Ns.useContext)(it),{data:p,refetch:c,isLoading:d}=_r({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy),queryOptions:{enabled:!!(n!=null&&n.create)}}),m=(0,Dr.useMutation)(async g=>{var f,P,M,I,R;let x=Te(g.resource,u),E=S((f=x==null?void 0:x.meta)==null?void 0:f.audit,(P=x==null?void 0:x.options)==null?void 0:P.audit,(I=(M=x==null?void 0:x.options)==null?void 0:M.auditLog)==null?void 0:I.permissions);if(E&&!Vo(E,g.action))return;let U;return d&&(n!=null&&n.create)&&(U=await c()),await((R=n.create)==null?void 0:R.call(n,{...g,author:p??(U==null?void 0:U.data)}))},{mutationKey:s().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,Ks.getXRay)("useLog",i)}}),T=(0,Dr.useMutation)(async g=>{var x;return await((x=n.update)==null?void 0:x.call(n,g))},{onSuccess:g=>{g!=null&&g.resource&&r.invalidateQueries(s().audit().resource((g==null?void 0:g.resource)??"").action("list").get(i))},mutationKey:s().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,Ks.getXRay)("useLog",i)}});return{log:m,rename:T}},"useLog");var Ya=require("react"),Ja=require("@tanstack/react-query");var qa=require("@refinedev/devtools-internal");var ou=o(({resource:e,action:t,meta:r,author:n,metaData:s,queryOptions:i})=>{let{get:a}=(0,Ya.useContext)(Et),{keys:u,preferLegacyKeys:p}=z();return(0,Ja.useQuery)({queryKey:u().audit().resource(e).action("list").params(r).get(p),queryFn:()=>(a==null?void 0:a({resource:e,action:t,author:n,meta:r,metaData:s}))??Promise.resolve([]),enabled:typeof a<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...(0,qa.getXRay)("useLogList",p)}})},"useLogList");var ei=require("react"),ti=B(require("warn-once"));var su=o(({meta:e={}}={})=>{let t=q(),{i18nProvider:r}=(0,ei.useContext)(He),n=xe(),s=j(),{resources:i,resource:a,action:u}=O(),{options:{textTransformers:p}}=se(),c=[];if(!(a!=null&&a.name))return{breadcrumbs:c};let d=o(m=>{var g,x,E,U,f,P;let T=typeof m=="string"?Te(m,i,t==="legacy")??{name:m}:m;if(T){let M=S((g=T==null?void 0:T.meta)==null?void 0:g.parent,T==null?void 0:T.parentName);M&&d(M);let I=ve(T,i,t==="legacy").find(l=>l.action==="list"),R=(x=I==null?void 0:I.resource)!=null&&x.list?I==null?void 0:I.route:void 0,y=R?t==="legacy"?R:Se(R,T==null?void 0:T.meta,n,e):void 0;c.push({label:S((E=T.meta)==null?void 0:E.label,(U=T.options)==null?void 0:U.label)??s(`${T.name}.${T.name}`,p.humanize(T.name)),href:y,icon:S((f=T.meta)==null?void 0:f.icon,(P=T.options)==null?void 0:P.icon,T.icon)})}},"addBreadcrumb");if(d(a),u&&u!=="list"){let m=`actions.${u}`,T=s(m);typeof r<"u"&&T===m?((0,ti.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:s(`buttons.${u}`,p.humanize(u))})):c.push({label:s(m,p.humanize(u))})}return{breadcrumbs:c}},"useBreadcrumb");var bo=B(require("react"));var Ot=o((e,t,r=!1)=>{let n=[],s=Ne(e,t);for(;s;)n.push(s),s=Ne(s,t);return n.reverse(),`/${[...n,e].map(a=>Le((r?a.route:void 0)??a.identifier??a.name)).join("/").replace(/^\//,"")}`},"createResourceKey");var ri=o((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(s=>{let i=[],a=Ne(s,e);for(;a;)i.push(a),a=Ne(a,e);i.reverse();let u=r;i.forEach(c=>{let d=(t?c.route:void 0)??c.identifier??c.name;u.children[d]||(u.children[d]={item:c,children:{}}),u=u.children[d]});let p=(t?s.route:void 0)??s.identifier??s.name;u.children[p]||(u.children[p]={item:s,children:{}})});let n=o(s=>{let i=[];return Object.keys(s.children).forEach(a=>{let u=Ot(s.children[a].item,e,t),p={...s.children[a].item,key:u,children:n(s.children[a])};i.push(p)}),i},"flatten");return n(r)},"createTree");var oi=o(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),si=o(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=j(),n=gt(),s=q(),{resource:i,resources:a}=O(),{pathname:u}=xe(),{useLocation:p}=ue(),{pathname:c}=p(),d=Dt(),T=`/${((s==="legacy"?oi(c):u?oi(u):void 0)??"").replace(/^\//,"")}`,g=i?Ot(i,a,s==="legacy"):T??"",x=bo.default.useMemo(()=>{if(!i)return[];let f=Ne(i,a),P=[Ot(i,a)];for(;f;)P.push(Ot(f,a)),f=Ne(f,a);return P},[]),E=bo.default.useCallback(f=>{var M,I,R,y,l,D;if((((M=f==null?void 0:f.meta)==null?void 0:M.hide)??((I=f==null?void 0:f.options)==null?void 0:I.hide))||!(f!=null&&f.list)&&f.children.length===0)return;let P=f.list?n({resource:f,action:"list",legacy:s==="legacy",meta:e}):void 0;if(!(t&&P&&P.match(/(\/|^):(.+?)(\/|$){1}/)))return{...f,route:P,icon:S((R=f.meta)==null?void 0:R.icon,(y=f.options)==null?void 0:y.icon,f.icon),label:S((l=f==null?void 0:f.meta)==null?void 0:l.label,(D=f==null?void 0:f.options)==null?void 0:D.label)??r(`${f.name}.${f.name}`,d(f.name,"plural"))}},[s,e,n,r,t]),U=bo.default.useMemo(()=>{let f=ri(a,s==="legacy"),P=o(M=>M.flatMap(I=>{let R=P(I.children),y=E({...I,children:R});return y?[y]:[]}),"prepare");return P(f)},[a,s,E]);return{defaultOpenKeys:x,selectedKey:g,menuItems:U}},"useMenu");var J=o(()=>{let{params:e}=xe();return o(({resource:r,meta:n}={})=>{let{meta:s}=Wt(r)??{meta:{}},{filters:i,sorters:a,current:u,pageSize:p,...c}=e??{};return{...s,...c,...n}},"getMetaFn")},"useMeta");var ni=o(()=>{let[e,t]=(0,tt.useState)(),r=j(),{push:n}=ye(),s=ge(),i=q(),{resource:a,action:u}=O();return(0,tt.useEffect)(()=>{a&&u&&t(r("pages.error.info",{action:u,resource:a.name},`You may have forgotten to add the "${u}" component to "${a.name}" resource.`))},[a,u]),tt.default.createElement(tt.default.Fragment,null,tt.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&tt.default.createElement("p",null,e),tt.default.createElement("button",{onClick:()=>{i==="legacy"?n("/"):s({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");var he=B(require("react"));var Kr=o(()=>{let[e,t]=(0,he.useState)(""),[r,n]=(0,he.useState)(""),s=j(),i=Y(),{mutate:a}=Vt({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return he.default.createElement(he.default.Fragment,null,he.default.createElement("h1",null,s("pages.login.title","Sign in your account")),he.default.createElement("form",{onSubmit:u=>{u.preventDefault(),a({username:e,password:r})}},he.default.createElement("table",null,he.default.createElement("tbody",null,he.default.createElement("tr",null,he.default.createElement("td",null,s("pages.login.username",void 0,"username"),":"),he.default.createElement("td",null,he.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),he.default.createElement("tr",null,he.default.createElement("td",null,s("pages.login.password",void 0,"password"),":"),he.default.createElement("td",null,he.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>n(u.target.value)}))))),he.default.createElement("br",null),he.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage");var Ut=B(require("react"));var ae=B(require("react"));var ai=o(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:s,wrapperProps:i,renderContent:a,formProps:u,title:p=void 0,hideForm:c})=>{let d=q(),m=Tt(),{Link:T}=ue(),g=d==="legacy"?T:m,[x,E]=(0,ae.useState)(""),[U,f]=(0,ae.useState)(""),[P,M]=(0,ae.useState)(!1),I=j(),R=Y(),{mutate:y}=Vt({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),l=o((C,w)=>ae.default.createElement(g,{to:C},w),"renderLink"),D=o(()=>e?e.map(C=>ae.default.createElement("div",{key:C.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ae.default.createElement("button",{onClick:()=>y({providerName:C.name}),style:{display:"flex",alignItems:"center"}},C==null?void 0:C.icon,C.label??ae.default.createElement("label",null,C.label)))):null,"renderProviders"),b=ae.default.createElement("div",{...s},ae.default.createElement("h1",{style:{textAlign:"center"}},I("pages.login.title","Sign in to your account")),D(),!c&&ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("hr",null),ae.default.createElement("form",{onSubmit:C=>{C.preventDefault(),y({email:x,password:U,remember:P})},...u},ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ae.default.createElement("label",{htmlFor:"email-input"},I("pages.login.fields.email","Email")),ae.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:C=>E(C.target.value)}),ae.default.createElement("label",{htmlFor:"password-input"},I("pages.login.fields.password","Password")),ae.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:U,onChange:C=>f(C.target.value)}),n??ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("label",{htmlFor:"remember-me-input"},I("pages.login.buttons.rememberMe","Remember me"),ae.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:P,value:P.toString(),onChange:()=>{M(!P)}}))),ae.default.createElement("br",null),r??l("/forgot-password",I("pages.login.buttons.forgotPassword","Forgot password?")),ae.default.createElement("input",{type:"submit",value:I("pages.login.signin","Sign in")}),t??ae.default.createElement("span",null,I("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",I("pages.login.register","Sign up")))))),t!==!1&&c&&ae.default.createElement("div",{style:{textAlign:"center"}},I("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",I("pages.login.register","Sign up"))));return ae.default.createElement("div",{...i},a?a(b,p):b)},"LoginPage");var de=B(require("react"));var ii=o(({providers:e,loginLink:t,wrapperProps:r,contentProps:n,renderContent:s,formProps:i,title:a=void 0,hideForm:u})=>{let p=q(),c=Tt(),{Link:d}=ue(),m=p==="legacy"?d:c,[T,g]=(0,de.useState)(""),[x,E]=(0,de.useState)(""),U=j(),f=Y(),{mutate:P,isLoading:M}=jr({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),I=o((l,D)=>de.default.createElement(m,{to:l},D),"renderLink"),R=o(()=>e?e.map(l=>de.default.createElement("div",{key:l.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},de.default.createElement("button",{onClick:()=>P({providerName:l.name}),style:{display:"flex",alignItems:"center"}},l==null?void 0:l.icon,l.label??de.default.createElement("label",null,l.label)))):null,"renderProviders"),y=de.default.createElement("div",{...n},de.default.createElement("h1",{style:{textAlign:"center"}},U("pages.register.title","Sign up for your account")),R(),!u&&de.default.createElement(de.default.Fragment,null,de.default.createElement("hr",null),de.default.createElement("form",{onSubmit:l=>{l.preventDefault(),P({email:T,password:x})},...i},de.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},de.default.createElement("label",{htmlFor:"email-input"},U("pages.register.fields.email","Email")),de.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:T,onChange:l=>g(l.target.value)}),de.default.createElement("label",{htmlFor:"password-input"},U("pages.register.fields.password","Password")),de.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:x,onChange:l=>E(l.target.value)}),de.default.createElement("input",{type:"submit",value:U("pages.register.buttons.submit","Sign up"),disabled:M}),t??de.default.createElement(de.default.Fragment,null,de.default.createElement("span",null,U("pages.login.buttons.haveAccount","Have an account?")," ",I("/login",U("pages.login.signin","Sign in"))))))),t!==!1&&u&&de.default.createElement("div",{style:{textAlign:"center"}},U("pages.login.buttons.haveAccount","Have an account?")," ",I("/login",U("pages.login.signin","Sign in"))));return de.default.createElement("div",{...r},s?s(y,a):y)},"RegisterPage");var Ae=B(require("react"));var ui=o(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:n,formProps:s,title:i=void 0})=>{let a=j(),u=q(),p=Tt(),{Link:c}=ue(),d=u==="legacy"?c:p,[m,T]=(0,Ae.useState)(""),{mutate:g,isLoading:x}=Xr(),E=o((f,P)=>Ae.default.createElement(d,{to:f},P),"renderLink"),U=Ae.default.createElement("div",{...r},Ae.default.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),Ae.default.createElement("hr",null),Ae.default.createElement("form",{onSubmit:f=>{f.preventDefault(),g({email:m})},...s},Ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ae.default.createElement("label",{htmlFor:"email-input"},a("pages.forgotPassword.fields.email","Email")),Ae.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:f=>T(f.target.value)}),Ae.default.createElement("input",{type:"submit",disabled:x,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),Ae.default.createElement("br",null),e??Ae.default.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",E("/login",a("pages.login.signin","Sign in"))))));return Ae.default.createElement("div",{...t},n?n(U,i):U)},"ForgotPasswordPage");var ke=B(require("react"));var ci=o(({wrapperProps:e,contentProps:t,renderContent:r,formProps:n,title:s=void 0})=>{let i=j(),a=Y(),{mutate:u,isLoading:p}=Zr({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),[c,d]=(0,ke.useState)(""),[m,T]=(0,ke.useState)(""),g=ke.default.createElement("div",{...t},ke.default.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),ke.default.createElement("hr",null),ke.default.createElement("form",{onSubmit:x=>{x.preventDefault(),u({password:c,confirmPassword:m})},...n},ke.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ke.default.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),ke.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:x=>d(x.target.value)}),ke.default.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),ke.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:m,onChange:x=>T(x.target.value)}),ke.default.createElement("input",{type:"submit",disabled:p,value:i("pages.updatePassword.buttons.submit","Update")}))));return ke.default.createElement("div",{...e},r?r(g,s):g)},"UpdatePasswordPage");var pi=o(e=>{let{type:t}=e;return Ut.default.createElement(Ut.default.Fragment,null,o(()=>{switch(t){case"register":return Ut.default.createElement(ii,{...e});case"forgotPassword":return Ut.default.createElement(ui,{...e});case"updatePassword":return Ut.default.createElement(ci,{...e});default:return Ut.default.createElement(ai,{...e})}},"renderView")())},"AuthPage");var Qe=B(require("react"));var vo=o(()=>Qe.default.createElement(Qe.default.Fragment,null,Qe.default.createElement("h1",null,"Welcome on board"),Qe.default.createElement("p",null,"Your configuration is completed."),Qe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Qe.default.createElement("code",null,"`resources`")," property of ",Qe.default.createElement("code",null,"`<Refine>`")),Qe.default.createElement("div",{style:{display:"flex",gap:8}},Qe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Qe.default.createElement("button",null,"Documentation")),Qe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Qe.default.createElement("button",null,"Examples")),Qe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Qe.default.createElement("button",null,"Community")))),"ReadyPage");var Lr=B(require("react"));var me=B(require("react"));var nu=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],di=o(()=>{let e=$r("(max-width: 1010px)"),t=$r("(max-width: 650px)"),r=o(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),n=o(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),s=o(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return me.default.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},me.default.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},me.default.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),me.default.createElement("div",{style:{height:t?"40px":"80px"}}),me.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},me.default.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),me.default.createElement("div",{style:{height:t?"120px":e?"200px":"30vh",minHeight:t?"120px":"200px"}}),me.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},me.default.createElement("h1",{style:{fontSize:n(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),me.default.createElement("h4",{style:{fontSize:s(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),me.default.createElement("div",{style:{height:"64px"}}),me.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},nu.map(i=>me.default.createElement(au,{key:`welcome-page-${i.title}`,card:i})))))},"ConfigSuccessPage"),au=o(({card:e})=>{let{title:t,description:r,iconUrl:n,link:s}=e,[i,a]=(0,me.useState)(!1);return me.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},me.default.createElement("div",{style:{display:"flex",alignItems:"center"}},me.default.createElement("a",{onPointerEnter:()=>a(!0),onPointerLeave:()=>a(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:s},me.default.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`}}),me.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),me.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},me.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),me.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card");var k=B(require("react"));var li=o(()=>k.default.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},k.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},k.default.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},k.default.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},k.default.createElement(uu,{style:{position:"absolute",left:0,top:0}}),k.default.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},k.default.createElement(cu,null),k.default.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),k.default.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},k.default.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},k.default.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),k.default.createElement("div",null,k.default.createElement(iu,null)))))),"ConfigErrorPage"),iu=o(()=>k.default.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},k.default.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage"," ","}"," ",k.default.createElement("span",{style:{color:"#FF7B72"}},"from")," ",k.default.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,k.default.createElement("span",{style:{color:"#FF7B72"}},"export")," ",k.default.createElement("span",{style:{color:"#FF7B72"}},"default")," ",k.default.createElement("span",null,k.default.createElement("span",{style:{color:"#FF7B72"}},"function")," ",k.default.createElement("span",{style:{color:"#FFA657"}},"App"),"(",k.default.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",k.default.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",k.default.createElement("span",null,k.default.createElement("span",{style:{color:"#79C0FF"}},"<",k.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",k.default.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",k.default.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",k.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",k.default.createElement("span",{style:{color:"#79C0FF"}},"<",k.default.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",k.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",k.default.createElement("span",{style:{color:"#79C0FF"}},"</",k.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),uu=o(e=>k.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...e},k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),k.default.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),k.default.createElement("defs",null,k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),k.default.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},k.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),k.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),cu=o(e=>k.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},k.default.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),k.default.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon");var mi=o(()=>{let{__initialized:e}=se();return Lr.default.createElement(Lr.default.Fragment,null,Lr.default.createElement(di,null),!e&&Lr.default.createElement(li,null))},"WelcomePage");var fe=B(require("react")),Er=require("@tanstack/react-query"),Ri=require("@refinedev/devtools-internal");var Gs=B(require("react"));var Rt=require("react");var pu="4.48.0",fi=o(()=>{var P;let e=Yr(),t=(0,Rt.useContext)(Et),r=(0,Rt.useContext)(at),n=(0,Rt.useContext)(Cr),s=(0,Rt.useContext)(Rr),{i18nProvider:i}=(0,Rt.useContext)(He),a=(0,Rt.useContext)(Pr),u=(0,Rt.useContext)(pt),{resources:p}=O(),c=se(),d=!!t.create||!!t.get||!!t.update,m=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),T=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,g=!!s,x=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),E=!!a.close||!!a.open,U=!!u.can,f=(P=c==null?void 0:c.options)==null?void 0:P.projectId;return{providers:{auth:e,auditLog:d,live:m,router:T,data:g,i18n:x,notification:E,accessControl:U},version:pu,resourceCount:p.length,projectId:f}},"useTelemetryData");var du=o(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),lu=o(e=>{let t=new Image;t.src=e},"throughImage"),mu=o(e=>{fetch(e)},"throughFetch"),fu=o(e=>{typeof Image<"u"?lu(e):typeof fetch<"u"&&mu(e)},"transport"),yi=o(()=>{let e=fi(),t=Gs.default.useRef(!1);return Gs.default.useEffect(()=>{if(t.current)return;let r=du(e);r&&(fu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry");var gi=o(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(s=>!t.includes(s));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse");var Hs=B(require("react"));var Ti=o(e=>{let t=Hs.default.useRef(!1);Hs.default.useEffect(()=>{t.current===!1&&e&&gi(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning");var xi=o(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:n,routerProvider:s,notificationProvider:i,accessControlProvider:a,auditLogProvider:u,resources:p,DashboardPage:c,ReadyPage:d,LoginPage:m,catchAll:T,children:g,liveProvider:x,i18nProvider:E,Title:U,Layout:f,Sider:P,Header:M,Footer:I,OffLayoutArea:R,onLiveEvent:y,options:l})=>{let{optionsWithDefaults:D,disableTelemetryWithDefault:b,reactQueryWithDefaults:C}=$o({options:l}),w=io(()=>{var L;return C.clientConfig instanceof Er.QueryClient?C.clientConfig:new Er.QueryClient({...C.clientConfig,defaultOptions:{...C.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(L=C.clientConfig.defaultOptions)==null?void 0:L.queries}}})},[C.clientConfig]);(0,Ri.useQuerySubscription)(w);let v=fe.default.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(Ti(s),n&&!s&&(p??[]).length===0)return d?fe.default.createElement(d,null):fe.default.createElement(vo,null);let{RouterComponent:F=fe.default.Fragment}=s?{}:n??{};return fe.default.createElement(Er.QueryClientProvider,{client:w},fe.default.createElement(ba,{...v},fe.default.createElement(an,{...e??{},isProvided:!!e},fe.default.createElement(cn,{...t??{},isProvided:!!t},fe.default.createElement(ra,{...r},fe.default.createElement(aa,{liveProvider:x},fe.default.createElement(ma,{value:n&&!s?"legacy":"new"},fe.default.createElement(ya,{router:s},fe.default.createElement(Na,{...n},fe.default.createElement(da,{resources:p??[]},fe.default.createElement(La,{i18nProvider:E},fe.default.createElement(Ga,{...a??{}},fe.default.createElement(Za,{...u??{}},fe.default.createElement(hs,null,fe.default.createElement(rn,{mutationMode:D.mutationMode,warnWhenUnsavedChanges:D.warnWhenUnsavedChanges,syncWithLocation:D.syncWithLocation,Title:U,undoableTimeout:D.undoableTimeout,catchAll:T,DashboardPage:c,LoginPage:m,Layout:f,Sider:P,Footer:I,Header:M,OffLayoutArea:R,hasDashboard:!!c,liveMode:D.liveMode,onLiveEvent:y,options:D},fe.default.createElement(dn,null,fe.default.createElement(F,null,g,!b&&fe.default.createElement(yi,null),fe.default.createElement(Do,null))))))))))))))))))},"Refine");var Lo=require("react");var Cs=o(({notification:e})=>{let t=j(),{notificationDispatch:r}=Ze(),{open:n}=Fe(),[s,i]=(0,Lo.useState)(),a=o(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||n==null||n({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Yt(e.seconds)},`You have ${Yt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Yt(e.seconds)}),e.seconds>0)){s&&clearTimeout(s);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(u)}},"cancelNotification");return(0,Lo.useEffect)(()=>{a()},[e]),null},"UndoableQueue");var zt=B(require("react"));var Pi=o(({children:e,Layout:t,Sider:r,Header:n,Title:s,Footer:i,OffLayoutArea:a})=>{let{Layout:u,Footer:p,Header:c,Sider:d,Title:m,OffLayoutArea:T}=se();return zt.default.createElement(t??u,{Sider:r??d,Header:n??c,Footer:i??p,Title:s??m,OffLayoutArea:a??T},e,zt.default.createElement(yu,null))},"LayoutWrapper"),yu=o(()=>{let{Prompt:e}=ue(),t=j(),{warnWhen:r,setWarnWhen:n}=kt(),s=o(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return(0,zt.useEffect)(()=>(r&&window.addEventListener("beforeunload",s),window.removeEventListener("beforeunload",s)),[r]),zt.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})},"UnsavedPrompt");var $e=B(require("react"));function hi({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:n,loading:s}){var R;let i=Y(),a=q(),u=!!(i!=null&&i.isProvided),p=!!(i!=null&&i.isLegacy),c=a==="legacy",d=xe(),m=ge(),{useLocation:T}=ue(),g=T(),{isFetching:x,isSuccess:E,data:{authenticated:U,redirectTo:f}={}}=yr({v3LegacyAuthProviderCompatible:p}),P=u?p?E:U:!0;if(!u)return $e.default.createElement($e.default.Fragment,null,r??null);if(x)return $e.default.createElement($e.default.Fragment,null,s??null);if(P)return $e.default.createElement($e.default.Fragment,null,r??null);if(typeof n<"u")return $e.default.createElement($e.default.Fragment,null,n??null);let M=p?typeof e=="string"?e:"/login":typeof e=="string"?e:f,I=`${c?g==null?void 0:g.pathname:d.pathname}`.replace(/(\?.*|#.*)$/,"");if(M){if(c){let y=t?`?to=${encodeURIComponent(I)}`:"";return $e.default.createElement(Tu,{to:`${M}${y}`})}return $e.default.createElement(gu,{config:{to:M,query:t?{to:(R=d.params)!=null&&R.to?d.params.to:m({to:I,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}})}return null}o(hi,"Authenticated");var gu=o(({config:e})=>{let t=ge();return $e.default.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),Tu=o(({to:e})=>{let{replace:t}=ye();return $e.default.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy");var Ci=require("react");var Do=o(()=>{let{useLocation:e}=ue(),{checkAuth:t}=le(),r=e();return(0,Ci.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler");var dt=B(require("react"));var bi=o(({resource:e,action:t,params:r,fallback:n,onUnauthorized:s,children:i,queryOptions:a,...u})=>{let{resource:p,id:c,action:d}=O(e),{identifier:m}=O(),g=o(()=>{let P=(r==null?void 0:r.id)??c;return e&&e!==m?r==null?void 0:r.id:P},"getDefaultId")(),x=e??(p==null?void 0:p.name),E=t??d??"",U=r??{id:g,resource:p},{data:f}=As({resource:x,action:E,params:U,queryOptions:a});return(0,dt.useEffect)(()=>{s&&(f==null?void 0:f.can)===!1&&s({resource:x,action:E,reason:f==null?void 0:f.reason,params:U})},[f==null?void 0:f.can]),f!=null&&f.can?dt.default.isValidElement(i)?dt.default.cloneElement(i,u):dt.default.createElement(dt.default.Fragment,null,i):(f==null?void 0:f.can)===!1?dt.default.createElement(dt.default.Fragment,null,n??null):null},"CanAccess");var re=B(require("react"));var vi=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `];var Ru="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",Li=o(()=>((0,re.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),vi.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),re.default.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},re.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},re.default.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},re.default.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},re.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},re.default.createElement(Eo,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),re.default.createElement(Eo,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),re.default.createElement(Di,{style:{position:"absolute",right:"10px"},id:"3"})),re.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},re.default.createElement(Eo,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),re.default.createElement(Eo,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),re.default.createElement(Di,{style:{position:"absolute",right:"-70px"},id:"6"})))),re.default.createElement(xu,{text:Ru})))),"GitHubBanner"),xu=o(({text:e})=>re.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},re.default.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},re.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),re.default.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),re.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),Eo=o(({style:e,...t})=>re.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},re.default.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),re.default.createElement("defs",null,re.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},re.default.createElement("stop",{stopColor:"#47EBEB"}),re.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),Di=o(({style:e,...t})=>re.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},re.default.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),re.default.createElement("defs",null,re.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},re.default.createElement("stop",{stopColor:"#47EBEB"}),re.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig");var Ve=B(require("react"));var Ei=o(({status:e,elements:{success:t=Ve.default.createElement(Uo,{key:"autoSave.success",defaultMessage:"saved"}),error:r=Ve.default.createElement(Uo,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:n=Ve.default.createElement(Uo,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:s=Ve.default.createElement(Uo,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return Ve.default.createElement(Ve.default.Fragment,null,t);case"error":return Ve.default.createElement(Ve.default.Fragment,null,r);case"loading":return Ve.default.createElement(Ve.default.Fragment,null,n);default:return Ve.default.createElement(Ve.default.Fragment,null,s)}},"AutoSaveIndicator"),Uo=o(({key:e,defaultMessage:t})=>{let r=j();return Ve.default.createElement("span",null,r(e,t))},"Message");
//# sourceMappingURL=index.js.map