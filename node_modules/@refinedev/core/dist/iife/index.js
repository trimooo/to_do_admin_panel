"use client"
(()=>{var Ci=Object.create;var Lo=Object.defineProperty;var vi=Object.getOwnPropertyDescriptor;var bi=Object.getOwnPropertyNames;var Di=Object.getPrototypeOf,Li=Object.prototype.hasOwnProperty;var o=(e,t)=>Lo(e,"name",{value:t,configurable:!0}),C=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var $s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ei=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bi(t))!Li.call(e,s)&&s!==r&&Lo(e,s,{get:()=>t[s],enumerable:!(n=vi(t,s))||n.enumerable});return e};var Q=(e,t,r)=>(r=e!=null?Ci(Di(e)):{},Ei(t||!e||!e.__esModule?Lo(r,"default",{value:e,enumerable:!0}):r,e));var Pr=$s((sc,Js)=>{"use client";var Ui=Object.create,Rr=Object.defineProperty,Mi=Object.getOwnPropertyDescriptor,wi=Object.getOwnPropertyNames,Ii=Object.getPrototypeOf,Si=Object.prototype.hasOwnProperty,Fi=o((e,t)=>{for(var r in t)Rr(e,r,{get:t[r],enumerable:!0})},"N"),Ws=o((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wi(t))!Si.call(e,s)&&s!==r&&Rr(e,s,{get:()=>t[s],enumerable:!(n=Mi(t,s))||n.enumerable});return e},"E"),Ai=o((e,t,r)=>(r=e!=null?Ui(Ii(e)):{},Ws(t||!e||!e.__esModule?Rr(r,"default",{value:e,enumerable:!0}):r,e)),"A"),ki=o(e=>Ws(Rr({},"__esModule",{value:!0}),e),"V"),_s={};Fi(_s,{DevToolsContext:()=>Ys,DevToolsContextProvider:()=>Vi,DevtoolsEvent:()=>zs,hooksByScope:()=>Qi,receive:()=>Zs,scopes:()=>js,send:()=>Xs});Js.exports=ki(_s);var zs=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(zs||{}),js={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},Qi=Object.entries(js).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),Ft=Ai(C("react"));async function Xs(e,t,r){if(e.readyState!==e.OPEN){await new Promise(n=>{let s=o(()=>{e.send(JSON.stringify({event:t,payload:r})),n(),e.removeEventListener("open",s)},"a");e.addEventListener("open",s)});return}e.send(JSON.stringify({event:t,payload:r}))}o(Xs,"d");function Zs(e,t,r){let n=o(s=>{let{event:i,payload:a}=JSON.parse(s.data);t===i&&r(a)},"s");return e.addEventListener("message",n),()=>{e.removeEventListener("message",n)}}o(Zs,"c");var Ys=Ft.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Vi=o(({__devtools:e,port:t,children:r})=>{let[n,s]=Ft.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[i,a]=Ft.default.useState(null);Ft.default.useEffect(()=>{let d=new WebSocket(`${n.secure?"wss":"ws"}://localhost:${n.port}`),c=Zs(d,"devtools:handshake",p=>{s(m=>({...m,devtoolsUrl:p.url})),c()});return d.addEventListener("open",()=>{n.__devtools||Xs(d,"devtools:init",{url:window.location.origin})}),a(d),()=>{c(),d.close(1e3,window.location.origin)}},[]);let u=Ft.default.useMemo(()=>({...n,ws:i}),[n,i]);return Ft.default.createElement(Ys.Provider,{value:u},r)},"S")});var ue=$s((cc,sn)=>{"use client";var Ni=Object.create,xr=Object.defineProperty,Bi=Object.getOwnPropertyDescriptor,Ki=Object.getOwnPropertyNames,Gi=Object.getPrototypeOf,Hi=Object.prototype.hasOwnProperty,Oi=o((e,t)=>{for(var r in t)xr(e,r,{get:t[r],enumerable:!0})},"L"),qs=o((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ki(t))!Hi.call(e,s)&&s!==r&&xr(e,s,{get:()=>t[s],enumerable:!(n=Bi(t,s))||n.enumerable});return e},"d"),en=o((e,t,r)=>(r=e!=null?Ni(Gi(e)):{},qs(t||!e||!e.__esModule?xr(r,"default",{value:e,enumerable:!0}):r,e)),"E"),$i=o(e=>qs(xr({},"__esModule",{value:!0}),e),"M"),tn={};Oi(tn,{getTrace:()=>on,getXRay:()=>Yi,useQuerySubscription:()=>Ji});sn.exports=$i(tn);var Wi=en(C("error-stack-parser")),_i="renderWithHooks",zi=o(e=>{let t=e.findIndex(r=>r.functionName===_i);return t!==-1?e.slice(0,t):e},"T"),rn=/node_modules\/refinedev\/(?<name>.*?)\//,ji=o(e=>e?!!e.match(rn):!1,"_"),Xi=o(e=>{var t;if(!e)return;let r=e.match(rn),n=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(n)return`@refinedev/${n}`},"R");function on(){return[];try{let e=new Error,t=Wi.default.parse(e);return zi(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:ji(r.fileName),packageName:Xi(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}o(on,"l");var Eo=Pr(),Zi=o((e,t)=>{if(Eo.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(Eo.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(Eo.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function Yi(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}o(Yi,"I");var ac=Pr(),ic=en(C("react")),uc=Pr(),Ji=()=>({})});var ot=Q(C("react"));var Ho=C("@tanstack/react-query"),Oo=Q(ue());var Gr=Q(C("qs")),Ko=Q(C("lodash-es/unionWith")),Go=Q(C("lodash-es/differenceWith")),Sn=Q(C("warn-once"));var jt=o(e=>e/1e3,"userFriendlySecond");var nn=Q(C("lodash-es/zip")),an=Q(C("lodash-es/fromPairs"));var hr=o((e,t=r=>r)=>{let[r,...n]=e;return n.map(s=>(0,an.default)((0,nn.default)(r,s))).map((s,i,a)=>t.call(void 0,s,i,a))},"importCSVMapper");var Uo=Q(C("pluralize"));var Cr=o((e="",t)=>{let r=Xt(e);return t==="singular"?Uo.default.singular(r):Uo.default.plural(r)},"userFriendlyResourceName");var un=o((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams");var F=o((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function st(e,t){return e.findIndex((r,n)=>n<=e.length-t.length&&t.every((s,i)=>e[n+i]===s))}o(st,"arrayFindIndex");function qi(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(st(e,["auth","login"])!==-1)return["useLogin"];if(st(e,["auth","logout"])!==-1)return["useLogout"];if(st(e,["auth","identity"])!==-1)return["getUserIdentity"];if(st(e,["auth","register"])!==-1)return["useRegister"];if(st(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(st(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(st(e,["auth","onError"])!==-1)return["useCheckError"];if(st(e,["auth","permissions"])!==-1)return["usePermissions"];if(st(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}o(qi,"convertToLegacy");var Ie=class{constructor(t=[]){this.segments=[];this.segments=t}key(){return this.segments}legacy(){return qi(this.segments)}get(t){return t?this.legacy():this.segments}};o(Ie,"BaseKeyBuilder");var Xe=class extends Ie{params(t){return new Ie([...this.segments,t])}};o(Xe,"ParamsKeyBuilder");var vr=class extends Ie{id(t){return new Xe([...this.segments,t?String(t):void 0])}};o(vr,"DataIdRequiringKeyBuilder");var br=class extends Ie{ids(...t){return new Xe([...this.segments,...t.length?[t.map(r=>String(r))]:[]])}};o(br,"DataIdsRequiringKeyBuilder");var Dr=class extends Ie{action(t){if(t==="one")return new vr([...this.segments,t]);if(t==="many")return new br([...this.segments,t]);if(["list","infinite"].includes(t))return new Xe([...this.segments,t]);throw new Error("Invalid action type")}};o(Dr,"DataResourceKeyBuilder");var Lr=class extends Ie{resource(t){return new Dr([...this.segments,t])}mutation(t){return new Xe([...t==="custom"?this.segments:[this.segments[0]],t])}};o(Lr,"DataKeyBuilder");var Er=class extends Ie{action(t){return new Xe([...this.segments,t])}};o(Er,"AuthKeyBuilder");var Ur=class extends Ie{action(t){return new Xe([...this.segments,t])}};o(Ur,"AccessResourceKeyBuilder");var Mr=class extends Ie{resource(t){return new Ur([...this.segments,t])}};o(Mr,"AccessKeyBuilder");var wr=class extends Ie{action(t){return new Xe([...this.segments,t])}};o(wr,"AuditActionKeyBuilder");var Ir=class extends Ie{resource(t){return new wr([...this.segments,t])}action(t){return new Xe([...this.segments,t])}};o(Ir,"AuditKeyBuilder");var At=class extends Ie{data(t){return new Lr(["data",t||"default"])}auth(){return new Er(["auth"])}access(){return new Mr(["access"])}audit(){return new Ir(["audit"])}};o(At,"KeyBuilder");var Ze=o(()=>new At([]),"keys");var cn=o((e,t,r,n)=>{let s=t||"default",i={all:[s],resourceAll:[s,e||""],list:a=>[...i.resourceAll,"list",{...a,...F(r,n)||{}}],many:a=>[...i.resourceAll,"getMany",a==null?void 0:a.map(String),{...F(r,n)||{}}].filter(u=>u!==void 0),detail:a=>[...i.resourceAll,"detail",a==null?void 0:a.toString(),{...F(r,n)||{}}],logList:a=>["logList",e,a,n].filter(u=>u!==void 0)};return i},"queryKeys"),nt=o(e=>(t,r,n,s)=>{let i=r||"default";return{all:Ze().data(i).get(e),resourceAll:Ze().data(r).resource(t??"").get(e),list:u=>Ze().data(r).resource(t??"").action("list").params({...u,...F(n,s)||{}}).get(e),many:u=>Ze().data(r).resource(t??"").action("many").ids(...u??[]).params({...F(n,s)||{}}).get(e),detail:u=>Ze().data(r).resource(t??"").action("one").id(u??"").params({...F(n,s)||{}}).get(e),logList:u=>[...Ze().audit().resource(t).action("list").params(u).get(e),s].filter(d=>d!==void 0)}},"queryKeysReplacement");var Mo=o((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission");var kt=o(e=>e.startsWith(":"),"isParameter");var et=o(e=>e.split("/").filter(r=>r!==""),"splitToSegments");var dn=o((e,t)=>{let r=et(e),n=et(t);return r.length===n.length},"isSegmentCountsSame");var Ue=o(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes");var pn=o((e,t)=>{let r=Ue(e),n=Ue(t);if(!dn(r,n))return!1;let s=et(r);return et(n).every((a,u)=>kt(a)||a===s[u])},"checkBySegments");var ln=o((e,t,r)=>{let n=Ue(r||""),s=`${n}${n?"/":""}${e}`;return t==="list"?s=`${s}`:t==="create"?s=`${s}/create`:t==="edit"?s=`${s}/edit/:id`:t==="show"?s=`${s}/show/:id`:t==="clone"&&(s=`${s}/clone/:id`),`/${s.replace(/^\//,"")}`},"getDefaultActionPath");var Ge=o((e,t)=>{var s,i;let r=F((s=e.meta)==null?void 0:s.parent,(i=e.options)==null?void 0:i.parent,e.parentName);return r?t.find(a=>(a.identifier??a.name)===r)??{name:r}:void 0},"getParentResource");var Zt=o((e,t,r)=>{let n=[],s=Ge(e,t);for(;s;)n.push(s),s=Ge(s,t);if(n.length!==0)return`/${n.reverse().map(i=>{var u;let a=r?((u=i.options)==null?void 0:u.route)??i.name:i.name;return Ue(a)}).join("/")}`},"getParentPrefixForResource");var Le=o((e,t,r)=>{let n=[],s=["list","show","edit","create","clone"],i=Zt(e,t,r);return s.forEach(a=>{var c,p;let u=r&&a==="clone"?e.create:e[a],d;typeof u=="function"||r?d=ln(r?((c=e.meta)==null?void 0:c.route)??((p=e.options)==null?void 0:p.route)??e.name:e.name,a,r?i:void 0):typeof u=="string"?d=u:typeof u=="object"&&(d=u.path),d&&n.push({action:a,resource:e,route:`/${d.replace(/^\//,"")}`})}),n},"getActionRoutesFromResource");var mn=o(e=>{var s;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(i=>({...i,splitted:et(Ue(i.route))})),r=((s=t[0])==null?void 0:s.splitted.length)??0,n=[...t];for(let i=0;i<r;i++){let a=n.filter(u=>!kt(u.splitted[i]));if(a.length!==0){if(a.length===1){n=a;break}n=a}}return n[0]},"pickMatchedRoute");var fn=o((e,t)=>{let n=t.flatMap(i=>Le(i,t)).filter(i=>pn(e,i.route)),s=mn(n);return{found:!!s,resource:s==null?void 0:s.resource,action:s==null?void 0:s.action,matchedRoute:s==null?void 0:s.route}},"matchResourceFromRoute");var Sr=o((e,t)=>{var s;let r,n=Zt(e,t,!0);if(n){let i=F(e.meta,e.options);r=`${n}/${(i==null?void 0:i.route)??e.name}`}else r=((s=e.options)==null?void 0:s.route)??e.name;return`/${r.replace(/^\//,"")}`},"routeGenerator");var yn=o(e=>{var a;let t=[],r={},n={},s,i;for(let u=0;u<e.length;u++){s=e[u];let d=s.route??((a=F(s==null?void 0:s.meta,s.options))==null?void 0:a.route)??"";r[d]=s,r[d].children=[],n[s.name]=s,n[s.name].children=[]}for(let u in r)Object.hasOwn(r,u)&&(i=r[u],i.parentName&&n[i.parentName]?n[i.parentName].children.push(i):t.push(i));return t},"createTreeView");var Xt=o(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString");var So=Q(C("react")),Io=Q(C("pluralize"));var gn=Q(C("react"));var wo=o(({children:e})=>gn.default.createElement("div",null,e),"DefaultLayout");var Se={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Xt,plural:Io.default.plural,singular:Io.default.singular},disableServerSideValidation:!1},Fe=So.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:wo,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Se}),Tn=o(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,undoableTimeout:s,children:i,DashboardPage:a,Title:u,Layout:d=wo,Header:c,Sider:p,Footer:m,OffLayoutArea:T,LoginPage:g=Fo,catchAll:P,liveMode:U="off",onLiveEvent:M,options:f})=>So.default.createElement(Fe.Provider,{value:{__initialized:!0,hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,Title:u,undoableTimeout:s,Layout:d,Header:c,Sider:p,Footer:m,OffLayoutArea:T,DashboardPage:a,LoginPage:g,catchAll:P,liveMode:U,onLiveEvent:M,options:f}},i),"RefineContextProvider");var Ao=o(({options:e,disableTelemetry:t,liveMode:r,mutationMode:n,reactQueryClientConfig:s,reactQueryDevtoolConfig:i,syncWithLocation:a,undoableTimeout:u,warnWhenUnsavedChanges:d}={})=>{var T,g,P,U,M,f,x,w;let c={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??n??Se.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??Se.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??a??Se.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??d??Se.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Se.liveMode,redirect:{afterCreate:((T=e==null?void 0:e.redirect)==null?void 0:T.afterCreate)??Se.redirect.afterCreate,afterClone:((g=e==null?void 0:e.redirect)==null?void 0:g.afterClone)??Se.redirect.afterClone,afterEdit:((P=e==null?void 0:e.redirect)==null?void 0:P.afterEdit)??Se.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Se.overtime,textTransformers:{humanize:((U=e==null?void 0:e.textTransformers)==null?void 0:U.humanize)??Se.textTransformers.humanize,plural:((M=e==null?void 0:e.textTransformers)==null?void 0:M.plural)??Se.textTransformers.plural,singular:((f=e==null?void 0:e.textTransformers)==null?void 0:f.singular)??Se.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Se.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},p=(e==null?void 0:e.disableTelemetry)??t??!1,m={clientConfig:((x=e==null?void 0:e.reactQuery)==null?void 0:x.clientConfig)??s??{},devtoolConfig:((w=e==null?void 0:e.reactQuery)==null?void 0:w.devtoolConfig)??i??{}};return{optionsWithDefaults:c,disableTelemetryWithDefault:p,reactQueryWithDefaults:m}},"handleRefineOptions");var ko=o(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage");var Fr=o(async(e,t,r)=>{let n=[];for(let[s,i]of e.entries())try{let a=await i();n.push(t(a,s))}catch(a){n.push(r(a,s))}return n},"sequentialPromises");var Te=o((e,t=[],r=!1)=>{if(!e)return;if(r){let s=t.find(a=>Ue(a.route??"")===Ue(e));return s||t.find(a=>a.name===e)}let n=t.find(s=>s.identifier===e);return n||(n=t.find(s=>s.name===e)),n},"pickResource");var j=o((e,t,r)=>{if(t)return t;let n=Te(e,r),s=F(n==null?void 0:n.meta,n==null?void 0:n.options);return s!=null&&s.dataProviderName?s.dataProviderName:"default"},"pickDataProvider");var at=o(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple");var Ar=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let n=(t==null?void 0:t.current)||1,s=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/s);return n<i?Number(n)+1:void 0},"getNextPageParam"),kr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let n=(t==null?void 0:t.current)||1;return n===1?void 0:n-1},"getPreviousPageParam");var Qr=o(e=>{let t=[];return e.forEach(r=>{var n,s;t.push({...r,label:((n=r.meta)==null?void 0:n.label)??((s=r.options)==null?void 0:s.label),route:Sr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform");var Rn=o(e=>et(Ue(e)).flatMap(r=>kt(r)?[r.slice(1)]:[]),"pickRouteParams");var Pn=o((e,t={})=>e.reduce((r,n)=>{let s=t[n];return typeof s<"u"&&(r[n]=s),r},{}),"prepareRouteParams");var Ae=o((e,t={},r={},n={})=>{let s=Rn(e),i=Pn(s,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...n});return e.replace(/:([^\/]+)/g,(a,u)=>{let d=i[u];return typeof d<"u"?`${d}`:a})},"composeRoute");var vt=Q(C("react"));var xn=vt.default.createContext({}),hn=o(({children:e,isProvided:t,...r})=>{let{replace:n}=Pe(),s=o(async d=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"loginFunc"),i=o(async d=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"registerFunc"),a=o(async d=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"logoutFunc"),u=o(async d=>{var c;try{return await((c=r.checkAuth)==null?void 0:c.call(r,d)),Promise.resolve()}catch(p){return p!=null&&p.redirectPath&&n(p.redirectPath),Promise.reject(p)}},"checkAuthFunc");return vt.default.createElement(xn.Provider,{value:{...r,login:s,logout:a,checkAuth:u,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),Cn=vt.default.createContext({}),vn=o(({children:e,isProvided:t,...r})=>{let n=o(async c=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleLogin"),s=o(async c=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleRegister"),i=o(async c=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleLogout"),a=o(async c=>{var p;try{let m=await((p=r.check)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleCheck"),u=o(async c=>{var p;try{let m=await((p=r.forgotPassword)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleForgotPassword"),d=o(async c=>{var p;try{let m=await((p=r.updatePassword)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleUpdatePassword");return vt.default.createElement(Cn.Provider,{value:{...r,login:n,logout:i,check:a,register:s,forgotPassword:u,updatePassword:d,isProvided:t}},e)},"AuthBindingsContextProvider"),pe=o(()=>vt.default.useContext(xn),"useLegacyAuthContext"),Re=o(()=>vt.default.useContext(Cn),"useAuthBindingsContext");var J=o(()=>{let e=pe(),t=Re();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider");var Yt=o(({hasPagination:e,pagination:t,configPagination:r}={})=>{let n=e===!1?"off":"server",s=(t==null?void 0:t.mode)??n,i=F(t==null?void 0:t.current,r==null?void 0:r.current)??1,a=F(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:a,mode:s}},"handlePaginationParams");var Vr=C("react");var Nr=o(e=>{let[t,r]=(0,Vr.useState)(!1);return(0,Vr.useEffect)(()=>{let n=window.matchMedia(e);n.matches!==t&&r(n.matches);let s=o(()=>r(n.matches),"listener");return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[t,e]),t},"useMediaQuery");var Br=o((e,t,r,n)=>{let s=n?e(t,n,r):e(t,r),i=r??t;return s===t||typeof s>"u"?i:s},"safeTranslate");function bn(e,t,r,n,s){var T;let i={create:"Create new ",clone:`#${n??""} Clone `,edit:`#${n??""} Edit `,show:`#${n??""} Show `,list:""},a=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),u=(t==null?void 0:t.label)??((T=t==null?void 0:t.meta)==null?void 0:T.label)??Cr(a,r==="list"?"plural":"singular"),d=s??u,c=Br(e,"documentTitle.default","refine"),p=Br(e,"documentTitle.suffix"," | refine"),m=c;return r&&a&&(m=Br(e,`documentTitle.${a}.${r}`,`${i[r]??""}${d}${p}`,{id:n})),m}o(bn,"generateDefaultDocumentTitle");var Dn=C("react");var Ye=o(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Dn.useContext)(Fe);return{mutationMode:e,undoableTimeout:t}},"useMutationMode");var Vo=C("react");var Jt=Q(C("react"));var Qo=Jt.default.createContext({}),Ln=o(({children:e})=>{let[t,r]=(0,Jt.useState)(!1);return Jt.default.createElement(Qo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider");var qt=o(()=>{let{warnWhenUnsavedChanges:e}=(0,Vo.useContext)(Fe),{warnWhen:t,setWarnWhen:r}=(0,Vo.useContext)(Qo);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange");var En=C("react");var No=o(()=>{let{syncWithLocation:e}=(0,En.useContext)(Fe);return{syncWithLocation:e}},"useSyncWithLocation");var Un=C("react");var eu=o(()=>{let{Title:e}=(0,Un.useContext)(Fe);return e},"useTitle");var Mn=C("react");var ne=o(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:s,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:p,DashboardPage:m,LoginPage:T,catchAll:g,options:P,__initialized:U}=(0,Mn.useContext)(Fe);return{__initialized:U,Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:s,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:p,DashboardPage:m,LoginPage:T,catchAll:g,options:P}},"useRefineContext");var Qt=o(()=>{let{options:{textTransformers:e}}=ne();return o((r="",n)=>{let s=e.humanize(r);return n==="singular"?e.singular(s):e.plural(s)},"getFriendlyName")},"useUserFriendlyName");var wn=o(e=>typeof e=="object"&&e!==null,"isNested"),tu=o(e=>Array.isArray(e),"isArray"),Kr=o((e,t="")=>wn(e)?Object.keys(e).reduce((r,n)=>{let s=t.length?`${t}.`:"";return wn(e[n])&&Object.keys(e[n]).length&&(tu(e[n])&&e[n].length?e[n].forEach((i,a)=>{Object.assign(r,Kr(i,`${s+n}.${a}`))}):Object.assign(r,Kr(e[n],s+n))),r[s+n]=e[n],r},{}):{[t]:e},"flattenObjectKeys");var In=o(e=>e.split(".").map(t=>Number.isNaN(Number(t))?t:Number(t)),"propertyPathToArray");var Bo=o((e,t,r)=>{if(typeof window>"u")return;let n=new Blob([t],{type:r}),s=document.createElement("a");s.setAttribute("visibility","hidden"),s.download=e;let i=URL.createObjectURL(n);s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout(()=>{URL.revokeObjectURL(i)})},"downloadInBrowser");var Hr=o(e=>{let{current:t,pageSize:r,sorter:n,sorters:s,filters:i}=Gr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:F(s,n)??[],parsedFilters:i??[]}},"parseTableParams"),ru=o(e=>{let t=Gr.default.stringify(e);return Hr(`/${t}`)},"parseTableParamsFromQuery"),Or=o(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:n,sorters:s,filters:i,...a}=e;return Gr.default.stringify({...a,...r||{},sorters:F(s,n),filters:i},t)},"stringifyTableParams"),Fn=o((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)===("field"in t?t.field:void 0)&&e.operator===t.operator:("key"in e?e.key:void 0)===("key"in t?t.key:void 0)&&e.operator===t.operator,"compareFilters"),An=o((e,t)=>e.field===t.field,"compareSorters"),Vt=o((e,t,r=[])=>(t.filter(s=>(s.operator==="or"||s.operator==="and")&&!s.key).length>1&&(0,Sn.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Ko.default)(e,t,r,Fn).filter(s=>s.value!==void 0&&s.value!==null&&(s.operator!=="or"||s.operator==="or"&&s.value.length!==0)&&(s.operator!=="and"||s.operator==="and"&&s.value.length!==0))),"unionFilters"),$r=o((e,t)=>(0,Ko.default)(e,t,An).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Wr=o((e,t)=>[...(0,Go.default)(t,e,Fn),...e],"setInitialFilters"),_r=o((e,t)=>[...(0,Go.default)(t,e,An),...e],"setInitialSorters"),ou=o((e,t)=>{if(!t)return;let r=t.find(n=>n.field===e);if(r)return r.order},"getDefaultSortOrder"),su=o((e,t,r="eq")=>{let n=t==null?void 0:t.find(s=>{if(s.operator!=="or"&&s.operator!=="and"&&"field"in s){let{operator:i,field:a}=s;return a===e&&i===r}});if(n)return n.value||[]},"getDefaultFilter");var nu=o(e=>new Promise((t,r)=>{let n=new FileReader,s=o(()=>{n.result&&(n.removeEventListener("load",s,!1),t(n.result))},"resultHandler");n.addEventListener("load",s,!1),n.readAsDataURL(e.originFileObj),n.onerror=i=>(n.removeEventListener("load",s,!1),r(i))}),"file2Base64");var z=o(()=>{let{options:{useNewQueryKeys:e}}=ne();return{keys:Ze,preferLegacyKeys:!e}},"useKeys");function au({v3LegacyAuthProviderCompatible:e=!1,options:t,params:r}={}){let{getPermissions:n}=pe(),{getPermissions:s}=Re(),{keys:i,preferLegacyKeys:a}=z(),u=(0,Ho.useQuery)({queryKey:i().auth().action("permissions").get(a),queryFn:s?()=>s(r):()=>Promise.resolve(void 0),enabled:!e&&!!s,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,Oo.getXRay)("usePermissions",a)}}),d=(0,Ho.useQuery)({queryKey:[...i().auth().action("permissions").get(a),"v3LegacyAuthProviderCompatible"],queryFn:n?()=>n(r):()=>Promise.resolve(void 0),enabled:e&&!!n,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Oo.getXRay)("usePermissions",a)}});return e?d:u}o(au,"usePermissions");var $o=C("@tanstack/react-query"),Wo=Q(ue());function _o({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=pe(),{getIdentity:n}=Re(),{keys:s,preferLegacyKeys:i}=z(),a=(0,$o.useQuery)({queryKey:s().auth().action("identity").get(i),queryFn:n??(()=>Promise.resolve({})),enabled:!e&&!!n,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Wo.getXRay)("useGetIdentity",i)}}),u=(0,$o.useQuery)({queryKey:[...s().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve({})),enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Wo.getXRay)("useGetIdentity",i)}});return e?u:a}o(_o,"useGetIdentity");var jo=C("@tanstack/react-query"),Xo=Q(ue());var kn=C("@tanstack/react-query");var Nt=o(()=>{let e=(0,kn.useQueryClient)(),{keys:t,preferLegacyKeys:r}=z();return o(async()=>{await Promise.all(["check","identity","permissions"].map(s=>e.invalidateQueries(t().auth().action(s).get(r))))},"invalidate")},"useInvalidateAuthStore");function zr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Nt(),n=te(),s=xe(),{push:i}=Pe(),{open:a,close:u}=Ne(),{logout:d}=pe(),{logout:c}=Re(),{keys:p,preferLegacyKeys:m}=z(),T=(0,jo.useMutation)({mutationKey:p().auth().action("logout").get(m),mutationFn:c,onSuccess:async(P,U)=>{let{success:M,error:f,redirectTo:x,successNotification:w}=P,{redirectPath:S}=U??{},R=S??x;M&&(u==null||u("useLogout-error"),w&&(a==null||a(iu(w)))),(f||!M)&&(a==null||a(zo(f))),R!==!1&&(n==="legacy"?i(R??"/login"):R&&s({to:R})),await r()},onError:P=>{a==null||a(zo(P))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Xo.getXRay)("useLogout",m)}}),g=(0,jo.useMutation)({mutationKey:[...p().auth().action("logout").get(m),"v3LegacyAuthProviderCompatible"],mutationFn:d,onSuccess:async(P,U)=>{let M=(U==null?void 0:U.redirectPath)??P;if(M!==!1){if(M){n==="legacy"?i(M):s({to:M});return}n==="legacy"?i("/login"):s({to:"/login"}),await r()}},onError:P=>{a==null||a(zo(P))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Xo.getXRay)("useLogout",m)}});return e?g:T}o(zr,"useLogout");var zo=o(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),iu=o(e=>({message:e.message,description:e.description,key:"logout-success",type:"success"}),"buildSuccessNotification");var Qn=Q(C("react")),Yo=C("@tanstack/react-query"),Jo=Q(ue()),Vn=Q(C("qs"));function er({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Nt(),n=te(),s=xe(),{replace:i}=Pe(),a=he(),{useLocation:u}=le(),{search:d}=u(),{close:c,open:p}=Ne(),{login:m}=pe(),{login:T}=Re(),{keys:g,preferLegacyKeys:P}=z(),U=Qn.default.useMemo(()=>{var x;return n==="legacy"?Vn.default.parse(d,{ignoreQueryPrefix:!0}).to:(x=a.params)==null?void 0:x.to},[n,a.params,d]),M=(0,Yo.useMutation)({mutationKey:g().auth().action("login").get(P),mutationFn:T,onSuccess:async({success:x,redirectTo:w,error:S,successNotification:R})=>{x&&(c==null||c("login-error"),R&&(p==null||p(uu(R)))),(S||!x)&&(p==null||p(Zo(S))),U&&x?n==="legacy"?i(U):s({to:U,type:"replace"}):w?n==="legacy"?i(w):s({to:w,type:"replace"}):n==="legacy"&&i("/"),await r()},onError:x=>{p==null||p(Zo(x))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Jo.getXRay)("useLogin",P)}}),f=(0,Yo.useMutation)({mutationKey:[...g().auth().action("login").get(P),"v3LegacyAuthProviderCompatible"],mutationFn:m,onSuccess:async x=>{U&&i(U),x!==!1&&!U&&(typeof x=="string"?n==="legacy"?i(x):s({to:x,type:"replace"}):n==="legacy"?i("/"):s({to:"/",type:"replace"})),await r(),c==null||c("login-error")},onError:x=>{p==null||p(Zo(x))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Jo.getXRay)("useLogin",P)}});return e?f:M}o(er,"useLogin");var Zo=o(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),uu=o(e=>({message:e.message,description:e.description,key:"login-success",type:"success"}),"buildSuccessNotification");var es=C("@tanstack/react-query"),ts=Q(ue());function rs({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Nt(),n=te(),s=xe(),{replace:i}=Pe(),{register:a}=pe(),{register:u}=Re(),{close:d,open:c}=Ne(),{keys:p,preferLegacyKeys:m}=z(),T=(0,es.useMutation)({mutationKey:p().auth().action("register").get(m),mutationFn:u,onSuccess:async({success:P,redirectTo:U,error:M,successNotification:f})=>{P&&(d==null||d("register-error"),f&&(c==null||c(cu(f)))),(M||!P)&&(c==null||c(qo(M))),U?n==="legacy"?i(U):s({to:U,type:"replace"}):n==="legacy"&&i("/"),await r()},onError:P=>{c==null||c(qo(P))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ts.getXRay)("useRegister",m)}}),g=(0,es.useMutation)({mutationKey:[...p().auth().action("register").get(m),"v3LegacyAuthProviderCompatible"],mutationFn:a,onSuccess:async P=>{P!==!1&&(P?n==="legacy"?i(P):s({to:P,type:"replace"}):n==="legacy"?i("/"):s({to:"/",type:"replace"}),await r(),d==null||d("register-error"))},onError:P=>{c==null||c(qo(P))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ts.getXRay)("useRegister",m)}});return e?g:T}o(rs,"useRegister");var qo=o(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),cu=o(e=>({message:e.message,description:e.description,key:"register-success",type:"success"}),"buildSuccessNotification");var ss=C("@tanstack/react-query"),ns=Q(ue());function as({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=te(),n=xe(),{replace:s}=Pe(),{forgotPassword:i}=pe(),{forgotPassword:a}=Re(),{close:u,open:d}=Ne(),{keys:c,preferLegacyKeys:p}=z(),m=(0,ss.useMutation)({mutationKey:c().auth().action("forgotPassword").get(p),mutationFn:a,onSuccess:({success:g,redirectTo:P,error:U,successNotification:M})=>{g&&(u==null||u("forgot-password-error"),M&&(d==null||d(du(M)))),(U||!g)&&(d==null||d(os(U))),P&&(r==="legacy"?s(P):n({to:P,type:"replace"}))},onError:g=>{d==null||d(os(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ns.getXRay)("useForgotPassword",p)}}),T=(0,ss.useMutation)({mutationKey:[...c().auth().action("forgotPassword").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:i,onSuccess:g=>{g!==!1&&g&&(r==="legacy"?s(g):n({to:g,type:"replace"})),u==null||u("forgot-password-error")},onError:g=>{d==null||d(os(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ns.getXRay)("useForgotPassword",p)}});return e?T:m}o(as,"useForgotPassword");var os=o(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),du=o(e=>({message:e.message,description:e.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification");var Nn=Q(C("react")),us=C("@tanstack/react-query"),cs=Q(ue()),Bn=Q(C("qs"));function ds({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=te(),n=xe(),{replace:s}=Pe(),{updatePassword:i}=pe(),{updatePassword:a}=Re(),{close:u,open:d}=Ne(),{keys:c,preferLegacyKeys:p}=z(),m=he(),{useLocation:T}=le(),{search:g}=T(),P=Nn.default.useMemo(()=>r==="legacy"?Bn.default.parse(g,{ignoreQueryPrefix:!0})??{}:m.params??{},[g,m,r]),U=(0,us.useMutation)({mutationKey:c().auth().action("updatePassword").get(p),mutationFn:async f=>a==null?void 0:a({...P,...f}),onSuccess:({success:f,redirectTo:x,error:w,successNotification:S})=>{f&&(u==null||u("update-password-error"),S&&(d==null||d(pu(S)))),(w||!f)&&(d==null||d(is(w))),x&&(r==="legacy"?s(x):n({to:x,type:"replace"}))},onError:f=>{d==null||d(is(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,cs.getXRay)("useUpdatePassword",p)}}),M=(0,us.useMutation)({mutationKey:[...c().auth().action("updatePassword").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:async f=>i==null?void 0:i({...P,...f}),onSuccess:f=>{f!==!1&&f&&(r==="legacy"?s(f):n({to:f,type:"replace"})),u==null||u("update-password-error")},onError:f=>{d==null||d(is(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,cs.getXRay)("useUpdatePassword",p)}});return e?M:U}o(ds,"useUpdatePassword");var is=o(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),pu=o(e=>({message:e.message,description:e.description,key:"update-password-success",type:"success"}),"buildSuccessNotification");var ps=C("@tanstack/react-query"),ls=Q(ue());function jr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=pe(),{check:n}=Re(),{keys:s,preferLegacyKeys:i}=z(),a=(0,ps.useQuery)({queryKey:s().auth().action("check").params(t).get(i),queryFn:async()=>await(n==null?void 0:n(t))??{},retry:!1,enabled:!e,meta:{...(0,ls.getXRay)("useIsAuthenticated",i)}}),u=(0,ps.useQuery)({queryKey:[...s().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(r==null?void 0:r(t))??{},retry:!1,enabled:e,meta:{...(0,ls.getXRay)("useIsAuthenticated",i)}});return e?u:a}o(jr,"useIsAuthenticated");var lu=jr;var ms=C("@tanstack/react-query"),fs=Q(ue());function me({v3LegacyAuthProviderCompatible:e=!1}={}){let t=te(),r=xe(),{replace:n}=Pe(),{checkError:s}=pe(),{onError:i}=Re(),{keys:a,preferLegacyKeys:u}=z(),{mutate:d}=zr({v3LegacyAuthProviderCompatible:!!e}),{mutate:c}=zr({v3LegacyAuthProviderCompatible:!!e}),p=(0,ms.useMutation)({mutationKey:a().auth().action("onError").get(u),mutationFn:i,onSuccess:({logout:T,redirectTo:g})=>{if(T){c({redirectPath:g});return}if(g){t==="legacy"?n(g):r({to:g,type:"replace"});return}},meta:{...(0,fs.getXRay)("useOnError",u)}}),m=(0,ms.useMutation)({mutationKey:[...a().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],mutationFn:s,onError:T=>{d({redirectPath:T})},meta:{...(0,fs.getXRay)("useOnError",u)}});return e?m:p}o(me,"useOnError");var mu=me;var ys=o(()=>{let{isProvided:e}=pe(),{isProvided:t}=Re();return!!(t||e)},"useIsExistAuthentication");var Kn=Q(ue()),Gn=C("@tanstack/react-query");var tr=C("react");var oe=o(({isLoading:e,interval:t,onInterval:r})=>{let[n,s]=(0,tr.useState)(void 0),{options:i}=ne(),{overtime:a}=i,u=t??a.interval,d=r??(a==null?void 0:a.onInterval);return(0,tr.useEffect)(()=>{let c;return e&&(c=setInterval(()=>{s(p=>p===void 0?u:p+u)},u)),()=>{clearInterval(c),s(void 0)}},[e,u]),(0,tr.useEffect)(()=>{d&&n&&d(n)},[n]),{elapsedTime:n}},"useLoadingOvertime");var rr=o(({resource:e,config:t,filters:r,hasPagination:n,pagination:s,sorters:i,queryOptions:a,successNotification:u,errorNotification:d,meta:c,metaData:p,liveMode:m,onLiveEvent:T,liveParams:g,dataProviderName:P,overtimeOptions:U}={})=>{let{resources:M,resource:f,identifier:x}=_(e),w=ae(),S=X(),R=J(),{mutate:y}=me({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),l=fe(),L=q(),{keys:b,preferLegacyKeys:v}=z(),I=j(x,P,M),h=F(c,p),D=F(r,t==null?void 0:t.filters),A=F(i,t==null?void 0:t.sort),E=F(n,t==null?void 0:t.hasPagination),N=Yt({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:E}),k=N.mode==="server",O=L({resource:f,meta:h}),G={meta:O,metaData:O,filters:D,hasPagination:k,pagination:N,sorters:A,config:{...t,sort:A}},$=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,{getList:Z}=w(I);yt({resource:x,types:["*"],params:{meta:O,metaData:O,pagination:N,hasPagination:k,sort:A,sorters:A,filters:D,subscriptionType:"useList",...g},channel:`resources/${f==null?void 0:f.name}`,enabled:$,liveMode:m,onLiveEvent:T,dataProviderName:I,meta:{...c,dataProviderName:P}});let K=(0,Gn.useQuery)({queryKey:b().data(I).resource(x??"").action("list").params({...h||{},filters:D,hasPagination:k,...k&&{pagination:N},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(v),queryFn:({queryKey:B,pageParam:W,signal:Y})=>Z({resource:(f==null?void 0:f.name)??"",pagination:N,hasPagination:k,filters:D,sort:A,sorters:A,meta:{...O,queryContext:{queryKey:B,pageParam:W,signal:Y}},metaData:{...O,queryContext:{queryKey:B,pageParam:W,signal:Y}}}),...a,enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:!!(f!=null&&f.name),select:B=>{var be;let W=B,{current:Y,mode:se,pageSize:ce}=N;return se==="client"&&(W={...W,data:W.data.slice((Y-1)*ce,Y*ce),total:W.total}),a!=null&&a.select?(be=a==null?void 0:a.select)==null?void 0:be.call(a,W):W},onSuccess:B=>{var Y;(Y=a==null?void 0:a.onSuccess)==null||Y.call(a,B);let W=typeof u=="function"?u(B,G,x):u;l(W)},onError:B=>{var Y;y(B),(Y=a==null?void 0:a.onError)==null||Y.call(a,B);let W=typeof d=="function"?d(B,G,x):d;l(W,{key:`${x}-useList-notification`,message:S("notifications.error",{statusCode:B.statusCode},`Error (status code: ${B.statusCode})`),description:B.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Kn.getXRay)("useList",v)}}),{elapsedTime:H}=oe({isLoading:K.isFetching,interval:U==null?void 0:U.interval,onInterval:U==null?void 0:U.onInterval});return{...K,overtime:{elapsedTime:H}}},"useList");var Hn=Q(ue()),On=C("@tanstack/react-query");var or=o(({resource:e,id:t,queryOptions:r,successNotification:n,errorNotification:s,meta:i,metaData:a,liveMode:u,onLiveEvent:d,liveParams:c,dataProviderName:p,overtimeOptions:m})=>{let{resources:T,resource:g,identifier:P}=_(e),U=ae(),M=X(),f=J(),{mutate:x}=me({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),w=fe(),S=q(),{keys:R,preferLegacyKeys:y}=z(),l=F(i,a),L=j(P,p,T),{getOne:b}=U(L),v=S({resource:g,meta:l});yt({resource:P,types:["*"],channel:`resources/${g==null?void 0:g.name}`,params:{ids:t?[t]:[],id:t,meta:v,metaData:v,subscriptionType:"useOne",...c},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(g==null?void 0:g.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:d,dataProviderName:L,meta:{...i,dataProviderName:p}});let I=(0,On.useQuery)({queryKey:R().data(L).resource(P??"").action("one").id(t??"").params({...l||{}}).get(y),queryFn:({queryKey:D,pageParam:A,signal:E})=>b({resource:(g==null?void 0:g.name)??"",id:t,meta:{...v,queryContext:{queryKey:D,pageParam:A,signal:E}},metaData:{...v,queryContext:{queryKey:D,pageParam:A,signal:E}}}),...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:D=>{var E;(E=r==null?void 0:r.onSuccess)==null||E.call(r,D);let A=typeof n=="function"?n(D,{id:t,...v},P):n;w(A)},onError:D=>{var E;x(D),(E=r==null?void 0:r.onError)==null||E.call(r,D);let A=typeof s=="function"?s(D,{id:t,...v},P):s;w(A,{key:`${t}-${P}-getOne-notification`,message:M("notifications.error",{statusCode:D.statusCode},`Error (status code: ${D.statusCode})`),description:D.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Hn.getXRay)("useOne",y)}}),{elapsedTime:h}=oe({isLoading:I.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...I,overtime:{elapsedTime:h}}},"useOne");var $n=Q(ue()),Wn=C("@tanstack/react-query");var gs=o(({resource:e,ids:t,queryOptions:r,successNotification:n,errorNotification:s,meta:i,metaData:a,liveMode:u,onLiveEvent:d,liveParams:c,dataProviderName:p,overtimeOptions:m})=>{let{resources:T,resource:g,identifier:P}=_(e),U=ae(),M=X(),f=J(),{mutate:x}=me({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),w=fe(),S=q(),{keys:R,preferLegacyKeys:y}=z(),l=F(i,a),L=j(P,p,T),b=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:v,getOne:I}=U(L),h=S({resource:g,meta:l});yt({resource:P,types:["*"],params:{ids:t,meta:h,metaData:h,subscriptionType:"useMany",...c},channel:`resources/${g.name}`,enabled:b,liveMode:u,onLiveEvent:d,dataProviderName:L,meta:{...i,dataProviderName:p}});let D=(0,Wn.useQuery)({queryKey:R().data(L).resource(P).action("many").ids(...t).params({...l||{}}).get(y),queryFn:({queryKey:E,pageParam:N,signal:k})=>v?v({resource:g==null?void 0:g.name,ids:t,meta:{...h,queryContext:{queryKey:E,pageParam:N,signal:k}},metaData:{...h,queryContext:{queryKey:E,pageParam:N,signal:k}}}):at(t.map(O=>I({resource:g==null?void 0:g.name,id:O,meta:{...h,queryContext:{queryKey:E,pageParam:N,signal:k}},metaData:{...h,queryContext:{queryKey:E,pageParam:N,signal:k}}}))),...r,onSuccess:E=>{var k;(k=r==null?void 0:r.onSuccess)==null||k.call(r,E);let N=typeof n=="function"?n(E,t,P):n;w(N)},onError:E=>{var k;x(E),(k=r==null?void 0:r.onError)==null||k.call(r,E);let N=typeof s=="function"?s(E,t,P):s;w(N,{key:`${t[0]}-${P}-getMany-notification`,message:M("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,$n.getXRay)("useMany",y)}}),{elapsedTime:A}=oe({isLoading:D.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...D,overtime:{elapsedTime:A}}},"useMany");var zn=Q(ue()),Yr=C("@tanstack/react-query");var Bt=Q(C("react")),Xr=Q(C("lodash-es/isEqual"));var Zr=Bt.default.createContext({notifications:[],notificationDispatch:()=>!1}),fu=[],yu=o((e,t)=>{switch(t.type){case"ADD":return[...e.filter(n=>!((0,Xr.default)(n.id,t.payload.id)&&n.resource===t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Xr.default)(r.id,t.payload.id)&&r.resource===t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Xr.default)(r.id,t.payload.id)&&r.resource===t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),Ts=o(({children:e})=>{let[t,r]=(0,Bt.useReducer)(yu,fu),n={notifications:t,notificationDispatch:r};return Bt.default.createElement(Zr.Provider,{value:n},e,typeof window<"u"&&t.map(s=>Bt.default.createElement(_n,{key:`${s.id}-${s.resource}-queue`,notification:s})))},"UndoableQueueContextProvider");var Jr=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:n}=_(),s=(0,Yr.useQueryClient)(),i=ae(),{mutationMode:a,undoableTimeout:u}=Ye(),d=X(),c=J(),{mutate:p}=me({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),m=$e(),{log:T}=We(),{notificationDispatch:g}=tt(),P=fe(),U=Me(),M=q(),{options:{textTransformers:f}}=ne(),{keys:x,preferLegacyKeys:w}=z(),S=(0,Yr.useMutation)({mutationFn:({id:y,values:l,resource:L,mutationMode:b,undoableTimeout:v,onCancel:I,meta:h,metaData:D,dataProviderName:A})=>{let{resource:E,identifier:N}=n(L),k=M({resource:E,meta:F(h,D)}),O=b??a,G=v??u;return O!=="undoable"?i(j(N,A,r)).update({resource:E.name,id:y,variables:l,meta:k,metaData:k}):new Promise((Z,K)=>{let H=o(()=>{i(j(N,A,r)).update({resource:E.name,id:y,variables:l,meta:k,metaData:k}).then(W=>Z(W)).catch(W=>K(W))},"doMutation"),B=o(()=>{K({message:"mutationCancelled"})},"cancelMutation");I&&I(B),g({type:"ADD",payload:{id:y,resource:N,cancelMutation:B,doMutation:H,seconds:G,isSilent:!!I}})})},onMutate:async({resource:y,id:l,mutationMode:L,values:b,dataProviderName:v,meta:I,metaData:h,optimisticUpdateMap:D={list:!0,many:!0,detail:!0}})=>{let{identifier:A}=n(y),{gqlMutation:E,gqlQuery:N,...k}=F(I,h)??{},O=nt(w)(A,j(A,v,r),k),G=x().data(j(A,v,r)).resource(A),$=s.getQueriesData(G.get(w)),Z=L??a;return await s.cancelQueries(G.get(w),void 0,{silent:!0}),Z!=="pessimistic"&&(D.list&&s.setQueriesData(G.action("list").params(k??{}).get(w),K=>{if(typeof D.list=="function")return D.list(K,b,l);if(!K)return null;let H=K.data.map(B=>{var W;return((W=B.id)==null?void 0:W.toString())===(l==null?void 0:l.toString())?{id:l,...B,...b}:B});return{...K,data:H}}),D.many&&s.setQueriesData(G.action("many").get(w),K=>{if(typeof D.many=="function")return D.many(K,b,l);if(!K)return null;let H=K.data.map(B=>{var W;return((W=B.id)==null?void 0:W.toString())===(l==null?void 0:l.toString())&&(B={id:l,...B,...b}),B});return{...K,data:H}}),D.detail&&s.setQueriesData(G.action("one").id(l).params(k??{}).get(w),K=>typeof D.detail=="function"?D.detail(K,b,l):K?{...K,data:{...K.data,...b}}:null)),{previousQueries:$,queryKey:O}},onSettled:(y,l,{id:L,resource:b,dataProviderName:v,invalidates:I=["list","many","detail"]})=>{let{identifier:h}=n(b);U({resource:h,dataProviderName:j(h,v,r),invalidates:I,id:L}),g({type:"REMOVE",payload:{id:L,resource:h}})},onSuccess:(y,{id:l,resource:L,successNotification:b,dataProviderName:v,values:I,meta:h,metaData:D},A)=>{var Y;let{resource:E,identifier:N}=n(L),k=f.singular(N),O=j(N,v,r),G=M({resource:E,meta:F(h,D)}),$=typeof b=="function"?b(y,{id:l,values:I},N):b;P($,{key:`${l}-${N}-notification`,description:d("notifications.success","Successful"),message:d("notifications.editSuccess",{resource:d(`${N}.${N}`,k)},`Successfully updated ${k}`),type:"success"}),m==null||m({channel:`resources/${E.name}`,type:"updated",payload:{ids:(Y=y.data)!=null&&Y.id?[y.data.id]:void 0},date:new Date,meta:{...G,dataProviderName:O}});let Z;if(A){let se=s.getQueryData(A.queryKey.detail(l));Z=Object.keys(I||{}).reduce((ce,be)=>{var ee;return ce[be]=(ee=se==null?void 0:se.data)==null?void 0:ee[be],ce},{})}let{fields:K,operation:H,variables:B,...W}=G||{};T==null||T.mutate({action:"update",resource:E.name,data:I,previousData:Z,meta:{id:l,dataProviderName:O,...W}})},onError:(y,{id:l,resource:L,errorNotification:b,values:v},I)=>{let{identifier:h}=n(L);if(I)for(let D of I.previousQueries)s.setQueryData(D[0],D[1]);if(y.message!=="mutationCancelled"){p==null||p(y);let D=f.singular(h),A=typeof b=="function"?b(y,{id:l,values:v},h):b;P(A,{key:`${l}-${h}-notification`,message:d("notifications.editError",{resource:d(`${h}.${h}`,D),statusCode:y.statusCode},`Error when updating ${D} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:x().data().mutation("update").get(w),...e,meta:{...e==null?void 0:e.meta,...(0,zn.getXRay)("useUpdate",w)}}),{elapsedTime:R}=oe({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:R}}},"useUpdate");var jn=Q(ue()),Xn=C("@tanstack/react-query");var sr=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:n}=me({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=ae(),i=Me(),{resources:a,select:u}=_(),d=X(),c=$e(),{log:p}=We(),m=fe(),T=q(),{options:{textTransformers:g}}=ne(),{keys:P,preferLegacyKeys:U}=z(),M=(0,Xn.useMutation)({mutationFn:({resource:x,values:w,meta:S,metaData:R,dataProviderName:y})=>{let{resource:l,identifier:L}=u(x),b=T({resource:l,meta:F(S,R)});return s(j(L,y,a)).create({resource:l.name,variables:w,meta:b,metaData:b})},onSuccess:(x,{resource:w,successNotification:S,dataProviderName:R,invalidates:y=["list","many"],values:l,meta:L,metaData:b})=>{var $,Z;let{resource:v,identifier:I}=u(w),h=g.singular(I),D=j(I,R,a),A=T({resource:v,meta:F(L,b)}),E=typeof S=="function"?S(x,l,I):S;m(E,{key:`create-${I}-notification`,message:d("notifications.createSuccess",{resource:d(`${I}.${I}`,h)},`Successfully created ${h}`),description:d("notifications.success","Success"),type:"success"}),i({resource:I,dataProviderName:D,invalidates:y}),c==null||c({channel:`resources/${v.name}`,type:"created",payload:{ids:($=x==null?void 0:x.data)!=null&&$.id?[x.data.id]:void 0},date:new Date,meta:{...A,dataProviderName:D}});let{fields:N,operation:k,variables:O,...G}=A||{};p==null||p.mutate({action:"create",resource:v.name,data:l,meta:{dataProviderName:D,id:((Z=x==null?void 0:x.data)==null?void 0:Z.id)??void 0,...G}})},onError:(x,{resource:w,errorNotification:S,values:R})=>{n(x);let{identifier:y}=u(w),l=g.singular(y),L=typeof S=="function"?S(x,R,y):S;m(L,{key:`create-${y}-notification`,description:x.message,message:d("notifications.createError",{resource:d(`${y}.${y}`,l),statusCode:x.statusCode},`There was an error creating ${l} (status code: ${x.statusCode})`),type:"error"})},mutationKey:P().data().mutation("create").get(U),...e,meta:{...e==null?void 0:e.meta,...(0,jn.getXRay)("useCreate",U)}}),{elapsedTime:f}=oe({isLoading:M.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...M,overtime:{elapsedTime:f}}},"useCreate");var Zn=Q(ue()),qr=C("@tanstack/react-query");var gu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:n}=me({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=ae(),{resources:i,select:a}=_(),u=(0,qr.useQueryClient)(),{mutationMode:d,undoableTimeout:c}=Ye(),{notificationDispatch:p}=tt(),m=X(),T=$e(),{log:g}=We(),P=fe(),U=Me(),M=q(),{options:{textTransformers:f}}=ne(),{keys:x,preferLegacyKeys:w}=z(),S=(0,qr.useMutation)({mutationFn:({id:y,mutationMode:l,undoableTimeout:L,resource:b,onCancel:v,meta:I,metaData:h,dataProviderName:D,values:A})=>{let{resource:E,identifier:N}=a(b),k=M({resource:E,meta:F(I,h)}),O=l??d,G=L??c;return O!=="undoable"?s(j(N,D,i)).deleteOne({resource:E.name,id:y,meta:k,metaData:k,variables:A}):new Promise((Z,K)=>{let H=o(()=>{s(j(N,D,i)).deleteOne({resource:E.name,id:y,meta:k,metaData:k,variables:A}).then(W=>Z(W)).catch(W=>K(W))},"doMutation"),B=o(()=>{K({message:"mutationCancelled"})},"cancelMutation");v&&v(B),p({type:"ADD",payload:{id:y,resource:N,cancelMutation:B,doMutation:H,seconds:G,isSilent:!!v}})})},onMutate:async({id:y,resource:l,mutationMode:L,dataProviderName:b,meta:v,metaData:I})=>{let{identifier:h}=a(l),{gqlMutation:D,gqlQuery:A,...E}=F(v,I)??{},N=nt(w)(h,j(h,b,i),E),k=x().data(j(h,b,i)).resource(h),O=L??d;await u.cancelQueries(k.get(w),void 0,{silent:!0});let G=u.getQueriesData(k.get(w));return O!=="pessimistic"&&(u.setQueriesData(k.action("list").params(E??{}).get(w),$=>$?{data:$.data.filter(K=>{var H;return((H=K.id)==null?void 0:H.toString())!==y.toString()}),total:$.total-1}:null),u.setQueriesData(k.action("many").get(w),$=>{if(!$)return null;let Z=$.data.filter(K=>{var H;return((H=K.id)==null?void 0:H.toString())!==(y==null?void 0:y.toString())});return{...$,data:Z}})),{previousQueries:G,queryKey:N}},onSettled:(y,l,{id:L,resource:b,dataProviderName:v,invalidates:I=["list","many"]})=>{let{identifier:h}=a(b);U({resource:h,dataProviderName:j(h,v,i),invalidates:I}),p({type:"REMOVE",payload:{id:L,resource:h}})},onSuccess:(y,{id:l,resource:L,successNotification:b,dataProviderName:v,meta:I,metaData:h},D)=>{let{resource:A,identifier:E}=a(L),N=f.singular(E),k=j(E,v,i),O=M({resource:A,meta:F(I,h)});u.removeQueries(D==null?void 0:D.queryKey.detail(l));let G=typeof b=="function"?b(y,l,E):b;P(G,{key:`${l}-${E}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${E}.${E}`,N)},`Successfully deleted a ${N}`),type:"success"}),T==null||T({channel:`resources/${A.name}`,type:"deleted",payload:{ids:[l]},date:new Date,meta:{...O,dataProviderName:k}});let{fields:$,operation:Z,variables:K,...H}=O||{};g==null||g.mutate({action:"delete",resource:A.name,meta:{id:l,dataProviderName:k,...H}}),u.removeQueries(D==null?void 0:D.queryKey.detail(l))},onError:(y,{id:l,resource:L,errorNotification:b},v)=>{let{identifier:I}=a(L);if(v)for(let h of v.previousQueries)u.setQueryData(h[0],h[1]);if(y.message!=="mutationCancelled"){n(y);let h=f.singular(I),D=typeof b=="function"?b(y,l,I):b;P(D,{key:`${l}-${I}-notification`,message:m("notifications.deleteError",{resource:h,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:x().data().mutation("delete").get(w),...e,meta:{...e==null?void 0:e.meta,...(0,Zn.getXRay)("useDelete",w)}}),{elapsedTime:R}=oe({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:R}}},"useDelete");var Yn=Q(ue()),Jn=C("@tanstack/react-query");var Rs=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ae(),{resources:n,select:s}=_(),i=X(),a=$e(),u=fe(),d=Me(),{log:c}=We(),p=q(),{options:{textTransformers:m}}=ne(),{keys:T,preferLegacyKeys:g}=z(),P=(0,Jn.useMutation)({mutationFn:({resource:M,values:f,meta:x,metaData:w,dataProviderName:S})=>{let{resource:R,identifier:y}=s(M),l=p({resource:R,meta:F(x,w)}),L=r(j(y,S,n));return L.createMany?L.createMany({resource:R.name,variables:f,meta:l,metaData:l}):at(f.map(b=>L.create({resource:R.name,variables:b,meta:l,metaData:l})))},onSuccess:(M,{resource:f,successNotification:x,dataProviderName:w,invalidates:S=["list","many"],values:R,meta:y,metaData:l})=>{let{resource:L,identifier:b}=s(f),v=m.plural(b),I=j(b,w,n),h=p({resource:L,meta:F(y,l)}),D=typeof x=="function"?x(M,R,b):x;u(D,{key:`createMany-${b}-notification`,message:i("notifications.createSuccess",{resource:i(`${b}.${b}`,b)},`Successfully created ${v}`),description:i("notifications.success","Success"),type:"success"}),d({resource:b,dataProviderName:I,invalidates:S});let A=M==null?void 0:M.data.filter(G=>(G==null?void 0:G.id)!==void 0).map(G=>G.id);a==null||a({channel:`resources/${L.name}`,type:"created",payload:{ids:A},date:new Date,meta:{...h,dataProviderName:I}});let{fields:E,operation:N,variables:k,...O}=h||{};c==null||c.mutate({action:"createMany",resource:L.name,data:R,meta:{dataProviderName:I,ids:A,...O}})},onError:(M,{resource:f,errorNotification:x,values:w})=>{let{identifier:S}=s(f),R=typeof x=="function"?x(M,w,S):x;u(R,{key:`createMany-${S}-notification`,description:M.message,message:i("notifications.createError",{resource:i(`${S}.${S}`,S),statusCode:M.statusCode},`There was an error creating ${S} (status code: ${M.statusCode}`),type:"error"})},mutationKey:T().data().mutation("createMany").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,Yn.getXRay)("useCreateMany",g)}}),{elapsedTime:U}=oe({isLoading:P.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...P,overtime:{elapsedTime:U}}},"useCreateMany");var qn=Q(ue()),eo=C("@tanstack/react-query");var Tu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:n}=_(),s=(0,eo.useQueryClient)(),i=ae(),a=X(),{mutationMode:u,undoableTimeout:d}=Ye(),c=J(),{mutate:p}=me({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),{notificationDispatch:m}=tt(),T=$e(),g=fe(),P=Me(),{log:U}=We(),M=q(),{options:{textTransformers:f}}=ne(),{keys:x,preferLegacyKeys:w}=z(),S=(0,eo.useMutation)({mutationFn:({ids:y,values:l,resource:L,onCancel:b,mutationMode:v,undoableTimeout:I,meta:h,metaData:D,dataProviderName:A})=>{let{resource:E,identifier:N}=n(L),k=M({resource:E,meta:F(h,D)}),O=v??u,G=I??d,$=i(j(N,A,r)),Z=o(()=>$.updateMany?$.updateMany({resource:E.name,ids:y,variables:l,meta:k,metaData:k}):at(y.map(H=>$.update({resource:E.name,id:H,variables:l,meta:k,metaData:k}))),"mutationFn");return O!=="undoable"?Z():new Promise((H,B)=>{let W=o(()=>{Z().then(se=>H(se)).catch(se=>B(se))},"doMutation"),Y=o(()=>{B({message:"mutationCancelled"})},"cancelMutation");b&&b(Y),m({type:"ADD",payload:{id:y,resource:N,cancelMutation:Y,doMutation:W,seconds:G,isSilent:!!b}})})},onMutate:async({resource:y,ids:l,values:L,mutationMode:b,dataProviderName:v,meta:I,metaData:h,optimisticUpdateMap:D={list:!0,many:!0,detail:!0}})=>{let{identifier:A}=n(y),{gqlMutation:E,gqlQuery:N,...k}=F(I,h)??{},O=nt(w)(A,j(A,v,r),k),G=x().data(j(A,v,r)).resource(A),$=b??u;await s.cancelQueries(G.get(w),void 0,{silent:!0});let Z=s.getQueriesData(G.get(w));if($!=="pessimistic"&&(D.list&&s.setQueriesData(G.action("list").params(k??{}).get(w),K=>{if(typeof D.list=="function")return D.list(K,L,l);if(!K)return null;let H=K.data.map(B=>B.id!==void 0&&l.filter(W=>W!==void 0).map(String).includes(B.id.toString())?{...B,...L}:B);return{...K,data:H}}),D.many&&s.setQueriesData(G.action("many").get(w),K=>{if(typeof D.many=="function")return D.many(K,L,l);if(!K)return null;let H=K.data.map(B=>B.id!==void 0&&l.filter(W=>W!==void 0).map(String).includes(B.id.toString())?{...B,...L}:B);return{...K,data:H}}),D.detail))for(let K of l)s.setQueriesData(G.action("one").id(K).params(k??{}).get(w),H=>{if(typeof D.detail=="function")return D.detail(H,L,K);if(!H)return null;let B={...H.data,...L};return{...H,data:B}});return{previousQueries:Z,queryKey:O}},onSettled:(y,l,{ids:L,resource:b,dataProviderName:v})=>{let{identifier:I}=n(b);P({resource:I,invalidates:["list","many"],dataProviderName:j(I,v,r)}),L.forEach(h=>P({resource:I,invalidates:["detail"],dataProviderName:j(I,v,r),id:h})),m({type:"REMOVE",payload:{id:L,resource:I}})},onSuccess:(y,{ids:l,resource:L,meta:b,metaData:v,dataProviderName:I,successNotification:h,values:D},A)=>{let{resource:E,identifier:N}=n(L),k=f.singular(N),O=j(N,I,r),G=M({resource:E,meta:F(b,v)}),$=typeof h=="function"?h(y,{ids:l,values:D},N):h;g($,{key:`${l}-${N}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${N}.${N}`,N)},`Successfully updated ${k}`),type:"success"}),T==null||T({channel:`resources/${E.name}`,type:"updated",payload:{ids:l.map(String)},date:new Date,meta:{...G,dataProviderName:O}});let Z=[];A&&l.forEach(Y=>{let se=s.getQueryData(A.queryKey.detail(Y));Z.push(Object.keys(D||{}).reduce((ce,be)=>{var ee;return ce[be]=(ee=se==null?void 0:se.data)==null?void 0:ee[be],ce},{}))});let{fields:K,operation:H,variables:B,...W}=G||{};U==null||U.mutate({action:"updateMany",resource:E.name,data:D,previousData:Z,meta:{ids:l,dataProviderName:O,...W}})},onError:(y,{ids:l,resource:L,errorNotification:b,values:v},I)=>{let{identifier:h}=n(L);if(I)for(let D of I.previousQueries)s.setQueryData(D[0],D[1]);if(y.message!=="mutationCancelled"){p==null||p(y);let D=f.singular(h),A=typeof b=="function"?b(y,{ids:l,values:v},h):b;g(A,{key:`${l}-${h}-updateMany-error-notification`,message:a("notifications.editError",{resource:D,statusCode:y.statusCode},`Error when updating ${D} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:x().data().mutation("updateMany").get(w),...e,meta:{...e==null?void 0:e.meta,...(0,qn.getXRay)("useUpdateMany",w)}}),{elapsedTime:R}=oe({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:R}}},"useUpdateMany");var ea=Q(ue()),to=C("@tanstack/react-query");var Ru=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:n}=me({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:s,undoableTimeout:i}=Ye(),a=ae(),{notificationDispatch:u}=tt(),d=X(),c=$e(),p=fe(),m=Me(),{log:T}=We(),{resources:g,select:P}=_(),U=(0,to.useQueryClient)(),M=q(),{options:{textTransformers:f}}=ne(),{keys:x,preferLegacyKeys:w}=z(),S=(0,to.useMutation)({mutationFn:({resource:y,ids:l,mutationMode:L,undoableTimeout:b,onCancel:v,meta:I,metaData:h,dataProviderName:D,values:A})=>{let{resource:E,identifier:N}=P(y),k=M({resource:E,meta:F(I,h)}),O=L??s,G=b??i,$=a(j(N,D,g)),Z=o(()=>$.deleteMany?$.deleteMany({resource:E.name,ids:l,meta:k,metaData:k,variables:A}):at(l.map(H=>$.deleteOne({resource:E.name,id:H,meta:k,metaData:k,variables:A}))),"mutationFn");return O!=="undoable"?Z():new Promise((H,B)=>{let W=o(()=>{Z().then(se=>H(se)).catch(se=>B(se))},"doMutation"),Y=o(()=>{B({message:"mutationCancelled"})},"cancelMutation");v&&v(Y),u({type:"ADD",payload:{id:l,resource:N,cancelMutation:Y,doMutation:W,seconds:G,isSilent:!!v}})})},onMutate:async({ids:y,resource:l,mutationMode:L,dataProviderName:b,meta:v,metaData:I})=>{let{identifier:h}=P(l),{gqlMutation:D,gqlQuery:A,...E}=F(v,I)??{},N=nt(w)(h,j(h,b,g),E),k=x().data(j(h,b,g)).resource(h),O=L??s;await U.cancelQueries(k.get(w),void 0,{silent:!0});let G=U.getQueriesData(k.get(w));if(O!=="pessimistic"){U.setQueriesData(k.action("list").params(E??{}).get(w),$=>$?{data:$.data.filter(K=>K.id&&!y.map(String).includes(K.id.toString())),total:$.total-1}:null),U.setQueriesData(k.action("many").get(w),$=>{if(!$)return null;let Z=$.data.filter(K=>K.id?!y.map(String).includes(K.id.toString()):!1);return{...$,data:Z}});for(let $ of y)U.setQueriesData(k.action("one").id($).params(E).get(w),Z=>!Z||Z.data.id===$?null:{...Z})}return{previousQueries:G,queryKey:N}},onSettled:(y,l,{resource:L,ids:b,dataProviderName:v,invalidates:I=["list","many"]})=>{let{identifier:h}=P(L);m({resource:h,dataProviderName:j(h,v,g),invalidates:I}),u({type:"REMOVE",payload:{id:b,resource:h}})},onSuccess:(y,{ids:l,resource:L,meta:b,metaData:v,dataProviderName:I,successNotification:h},D)=>{let{resource:A,identifier:E}=P(L),N=j(E,I,g),k=M({resource:A,meta:F(b,v)});l.forEach(H=>U.removeQueries(D==null?void 0:D.queryKey.detail(H)));let O=typeof h=="function"?h(y,l,E):h;p(O,{key:`${l}-${E}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${E}.${E}`,E)},`Successfully deleted ${E}`),type:"success"}),c==null||c({channel:`resources/${A.name}`,type:"deleted",payload:{ids:l},date:new Date,meta:{...k,dataProviderName:N}});let{fields:G,operation:$,variables:Z,...K}=k||{};T==null||T.mutate({action:"deleteMany",resource:A.name,meta:{ids:l,dataProviderName:N,...K}}),l.forEach(H=>U.removeQueries(D==null?void 0:D.queryKey.detail(H)))},onError:(y,{ids:l,resource:L,errorNotification:b},v)=>{let{identifier:I}=P(L);if(v)for(let h of v.previousQueries)U.setQueryData(h[0],h[1]);if(y.message!=="mutationCancelled"){n(y);let h=f.singular(I),D=typeof b=="function"?b(y,l,I):b;p(D,{key:`${l}-${I}-notification`,message:d("notifications.deleteError",{resource:h,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},mutationKey:x().data().mutation("deleteMany").get(w),...e,meta:{...e==null?void 0:e.meta,...(0,ea.getXRay)("useDeleteMany",w)}}),{elapsedTime:R}=oe({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:R}}},"useDeleteMany");var Pu=o(e=>{var s;let t=ae(),{resource:r}=_(),{getApiUrl:n}=t(e??((s=F(r==null?void 0:r.meta,r==null?void 0:r.options))==null?void 0:s.dataProviderName));return n()},"useApiUrl");var ta=C("@tanstack/react-query"),ra=Q(ue());var xu=o(({url:e,method:t,config:r,queryOptions:n,successNotification:s,errorNotification:i,meta:a,metaData:u,dataProviderName:d,overtimeOptions:c})=>{let p=ae(),m=J(),{mutate:T}=me({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),g=X(),P=fe(),U=q(),{keys:M,preferLegacyKeys:f}=z(),x=F(a,u),{custom:w}=p(d),S=U({meta:x});if(w){let R=(0,ta.useQuery)({queryKey:M().data(d).mutation("custom").params({method:t,url:e,...r,...x||{}}).get(f),queryFn:({queryKey:l,pageParam:L,signal:b})=>w({url:e,method:t,...r,meta:{...S,queryContext:{queryKey:l,pageParam:L,signal:b}},metaData:{...S,queryContext:{queryKey:l,pageParam:L,signal:b}}}),...n,onSuccess:l=>{var b;(b=n==null?void 0:n.onSuccess)==null||b.call(n,l);let L=typeof s=="function"?s(l,{...r,...S}):s;P(L)},onError:l=>{var b;T(l),(b=n==null?void 0:n.onError)==null||b.call(n,l);let L=typeof i=="function"?i(l,{...r,...S}):i;P(L,{key:`${t}-notification`,message:g("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},meta:{...n==null?void 0:n.meta,...(0,ra.getXRay)("useCustom",f)}}),{elapsedTime:y}=oe({isLoading:R.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...R,overtime:{elapsedTime:y}}}throw Error("Not implemented custom on data provider.")},"useCustom");var oa=C("@tanstack/react-query"),sa=Q(ue());var hu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:n}=me({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=fe(),i=ae(),a=X(),u=q(),{keys:d,preferLegacyKeys:c}=z(),p=(0,oa.useMutation)(({url:T,method:g,values:P,meta:U,metaData:M,dataProviderName:f,config:x})=>{let w=u({meta:F(U,M)}),{custom:S}=i(f);if(S)return S({url:T,method:g,payload:P,meta:w,metaData:w,headers:{...x==null?void 0:x.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(T,{successNotification:g,config:P,meta:U,metaData:M})=>{let f=typeof g=="function"?g(T,{...P,...F(U,M)||{}}):g;s(f)},onError:(T,{errorNotification:g,method:P,config:U,meta:M,metaData:f})=>{n(T);let x=typeof g=="function"?g(T,{...U,...F(M,f)||{}}):g;s(x,{key:`${P}-notification`,message:a("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})},mutationKey:d().data().mutation("customMutation").get(c),...e,meta:{...e==null?void 0:e.meta,...(0,sa.getXRay)("useCustomMutation",c)}}),{elapsedTime:m}=oe({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:m}}},"useCustomMutation");var ro=C("react");var Ps=Q(C("react"));var Cu=o(()=>({}),"defaultDataProvider"),nr=Ps.default.createContext(Cu()),na=o(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Ps.default.createElement(nr.Provider,{value:r},e)},"DataContextProvider");var ae=o(()=>{let e=(0,ro.useContext)(nr);return(0,ro.useCallback)(r=>{if(r){if(!(e==null?void 0:e[r]))throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider");var aa=Q(ue()),ia=C("@tanstack/react-query");var vu=o(({resource:e,config:t,filters:r,hasPagination:n,pagination:s,sorters:i,queryOptions:a,successNotification:u,errorNotification:d,meta:c,metaData:p,liveMode:m,onLiveEvent:T,liveParams:g,dataProviderName:P,overtimeOptions:U})=>{let{resources:M,resource:f,identifier:x}=_(e),w=ae(),S=X(),R=J(),{mutate:y}=me({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),l=fe(),L=q(),{keys:b,preferLegacyKeys:v}=z(),I=j(x,P,M),h=F(c,p),D=F(r,t==null?void 0:t.filters),A=F(i,t==null?void 0:t.sort),E=F(n,t==null?void 0:t.hasPagination),N=Yt({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:E}),k=N.mode==="server",O={meta:h,metaData:h,filters:D,hasPagination:k,pagination:N,sorters:A,config:{...t,sort:A}},G=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,$=L({resource:f,meta:h}),{getList:Z}=w(I);yt({resource:x,types:["*"],params:{meta:$,metaData:$,pagination:N,hasPagination:k,sort:A,sorters:A,filters:D,subscriptionType:"useList",...g},channel:`resources/${f.name}`,enabled:G,liveMode:m,onLiveEvent:T,dataProviderName:I,meta:{...$,dataProviderName:P}});let K=(0,ia.useInfiniteQuery)({queryKey:b().data(I).resource(x).action("infinite").params({...h||{},filters:D,hasPagination:k,...k&&{pagination:N},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(v),queryFn:({queryKey:B,pageParam:W,signal:Y})=>{let se={...N,current:W};return Z({resource:f.name,pagination:se,hasPagination:k,filters:D,sort:A,sorters:A,meta:{...$,queryContext:{queryKey:B,pageParam:W,signal:Y}},metaData:{...$,queryContext:{queryKey:B,pageParam:W,signal:Y}}}).then(({data:ce,total:be,...ee})=>({data:ce,total:be,pagination:se,...ee}))},getNextPageParam:B=>Ar(B),getPreviousPageParam:B=>kr(B),...a,onSuccess:B=>{var Y;(Y=a==null?void 0:a.onSuccess)==null||Y.call(a,B);let W=typeof u=="function"?u(B,O,x):u;l(W)},onError:B=>{var Y;y(B),(Y=a==null?void 0:a.onError)==null||Y.call(a,B);let W=typeof d=="function"?d(B,O,x):d;l(W,{key:`${x}-useInfiniteList-notification`,message:S("notifications.error",{statusCode:B.statusCode},`Error (status code: ${B.statusCode})`),description:B.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,aa.getXRay)("useInfiniteList",v)}}),{elapsedTime:H}=oe({isLoading:K.isFetching,interval:U==null?void 0:U.interval,onInterval:U==null?void 0:U.onInterval});return{...K,overtime:{elapsedTime:H}}},"useInfiniteList");var xs=Q(C("react"));var it=xs.default.createContext(void 0),ua=o(({liveProvider:e,children:t})=>xs.default.createElement(it.Provider,{value:e},t),"LiveContextProvider");var ha=C("react"),Ca=C("@tanstack/react-query");var Pa=C("react");var hs=Q(C("react"));var la=C("react");var ca=C("react"),da=Q(C("lodash-es/isEqual"));var pa=o(e=>{let t=(0,ca.useRef)(e);return(0,da.default)(t.current,e)||(t.current=e),t.current},"useMemoized");var oo=o((e,t)=>{let r=pa(t);return(0,la.useMemo)(e,r)},"useDeepMemo");var gt=hs.default.createContext({resources:[]}),ma=o(({resources:e,children:t})=>{let r=oo(()=>Qr(e??[]),[e]);return hs.default.createElement(gt.Provider,{value:{resources:r}},t)},"ResourceContextProvider");var Cs=Q(C("react"));var fa=Cs.default.createContext("new"),ya=fa.Provider,te=o(()=>Cs.default.useContext(fa),"useRouterType");var Ra=Q(C("react"));var so=Q(C("react"));var ga={},ut=(0,so.createContext)(ga),Ta=o(({children:e,router:t})=>so.default.createElement(ut.Provider,{value:t??ga},e),"RouterBindingsProvider");var no=Q(C("react"));var vs=o(()=>{let e=(0,no.useContext)(ut);return no.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse");var he=o(()=>{let e=vs();return Ra.default.useMemo(()=>e(),[e])},"useParsed");function _(e){let{resources:t}=(0,Pa.useContext)(gt),r=te(),n=he(),s={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=o((m,T=!0)=>{let P=Te(m,t,r==="legacy");if(P)return{resource:P,identifier:P.identifier??P.name};if(T){let U={name:m,identifier:m},M=U.identifier??U.name;return{resource:U,identifier:M}}},"select"),a=xa(),{useParams:u}=le(),d=u();if(r==="legacy"){let m=s.resourceNameOrRouteName?s.resourceNameOrRouteName:d.resource,T=m?a(m):void 0,g=(s==null?void 0:s.recordItemId)??d.id,P=d.action,U=(s==null?void 0:s.resourceName)??(T==null?void 0:T.name),M=(T==null?void 0:T.identifier)??(T==null?void 0:T.name);return{resources:t,resource:T,resourceName:U,id:g,action:P,select:i,identifier:M}}let c,p=typeof e=="string"?e:s==null?void 0:s.resourceNameOrRouteName;if(p){let m=Te(p,t);m?c=m:c={name:p}}else n!=null&&n.resource&&(c=n.resource);return{resources:t,resource:c,resourceName:c==null?void 0:c.name,id:n.id,action:n.action,select:i,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}o(_,"useResource");var ao=C("react");var xa=o(()=>{let{resources:e}=(0,ao.useContext)(gt);return(0,ao.useCallback)(r=>{let n=Te(r,e,!0);return n||{name:r,route:r}},[e])},"useResourceWithRoute");var Me=o(()=>{let{resources:e}=_(),t=(0,Ca.useQueryClient)(),{keys:r,preferLegacyKeys:n}=z();return(0,ha.useCallback)(async({resource:i,dataProviderName:a,invalidates:u,id:d,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:p={cancelRefetch:!1}})=>{if(u===!1)return;let m=j(i,a,e),T=r().data(m).resource(i??"");await Promise.all(u.map(g=>{switch(g){case"all":return t.invalidateQueries(r().data(m).get(n),c,p);case"list":return t.invalidateQueries(T.action("list").get(n),c,p);case"many":return t.invalidateQueries(T.action("many").get(n),c,p);case"resourceAll":return t.invalidateQueries(T.get(n),c,p);case"detail":return t.invalidateQueries(T.action("one").id(d||"").get(n),c,p);default:return}}))},[])},"useInvalidate");var ar=C("react");var yt=o(({resource:e,params:t,channel:r,types:n,enabled:s=!0,liveMode:i,onLiveEvent:a,dataProviderName:u,meta:d})=>{var f;let{resource:c,identifier:p}=_(e),m=(0,ar.useContext)(it),{liveMode:T,onLiveEvent:g}=(0,ar.useContext)(Fe),P=i??T,U=Me(),M=u??(d==null?void 0:d.dataProviderName)??((f=c==null?void 0:c.meta)==null?void 0:f.dataProviderName);(0,ar.useEffect)(()=>{let x,w=o(S=>{P==="auto"&&U({resource:p,dataProviderName:M,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),a==null||a(S),g==null||g(S)},"callback");return P&&P!=="off"&&s&&(x=m==null?void 0:m.subscribe({channel:r,params:{resource:c==null?void 0:c.name,...t},types:n,callback:w,dataProviderName:M,meta:{...d,dataProviderName:M}})),()=>{x&&(m==null||m.unsubscribe(x))}},[s])},"useResourceSubscription");var va=C("react");var ba=o(e=>{let{liveMode:t}=(0,va.useContext)(Fe);return e??t},"useLiveMode");var io=C("react");var fR=o(({params:e,channel:t,types:r=["*"],enabled:n=!0,onLiveEvent:s,dataProviderName:i="default",meta:a})=>{let u=(0,io.useContext)(it);(0,io.useEffect)(()=>{let d;return n&&(d=u==null?void 0:u.subscribe({channel:t,params:e,types:r,callback:s,dataProviderName:i,meta:{...a,dataProviderName:i}})),()=>{d&&(u==null||u.unsubscribe(d))}},[n])},"useSubscription");var Da=C("react");var $e=o(()=>{let e=(0,Da.useContext)(it);return e==null?void 0:e.publish},"usePublish");var La=C("react");var tt=o(()=>{let{notifications:e,notificationDispatch:t}=(0,La.useContext)(Zr);return{notifications:e,notificationDispatch:t}},"useCancelNotification");var Ua=C("react");var uo=Q(C("react"));var ir=(0,uo.createContext)({}),Ea=o(({open:e,close:t,children:r})=>uo.default.createElement(ir.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider");var Ne=o(()=>{let{open:e,close:t}=(0,Ua.useContext)(ir);return{open:e,close:t}},"useNotification");var Ma=C("react");var fe=o(()=>{let{open:e}=Ne();return(0,Ma.useCallback)((r,n)=>{r!==!1&&(r?e==null||e(r):n&&(e==null||e(n)))},[])},"useHandleNotification");var co=C("react");var bs=Q(C("react"));var _e=bs.default.createContext({}),wa=o(({children:e,i18nProvider:t})=>bs.default.createElement(_e.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider");var bu=o(()=>{let{i18nProvider:e}=(0,co.useContext)(_e);return(0,co.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale");var po=C("react");var X=o(()=>{let{i18nProvider:e}=(0,po.useContext)(_e);return(0,po.useMemo)(()=>{function r(n,s,i){return(e==null?void 0:e.translate(n,s,i))??i??(typeof s=="string"&&typeof i>"u"?s:n)}return o(r,"translate"),r},[e])},"useTranslate");var lo=C("react");var Du=o(()=>{let{i18nProvider:e}=(0,lo.useContext)(_e);return(0,lo.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale");var Ia=C("react"),Sa=C("papaparse"),Ds=Q(C("warn-once"));var XR=o(({resourceName:e,resource:t,sorter:r,sorters:n,filters:s,maxItemCount:i,pageSize:a=20,mapData:u=o(U=>U,"mapData"),exportOptions:d,unparseConfig:c,meta:p,metaData:m,dataProviderName:T,onError:g,download:P}={})=>{let[U,M]=(0,Ia.useState)(!1),f=ae(),x=q(),{resource:w,resources:S,identifier:R}=_(F(t,e)),l=`${Qt()(R,"plural")}-${new Date().toLocaleString()}`,{getList:L}=f(j(R,T,S)),b=x({resource:w,meta:F(p,m)});return{isLoading:U,triggerExport:o(async()=>{M(!0);let I=[],h=1,D=!0;for(;D;)try{let{data:k,total:O}=await L({resource:(w==null?void 0:w.name)??"",filters:s,sort:F(n,r),sorters:F(n,r),pagination:{current:h,pageSize:a,mode:"server"},meta:b,metaData:b});h++,I.push(...k),i&&I.length>=i&&(I=I.slice(0,i),D=!1),O===I.length&&(D=!1)}catch(k){M(!1),D=!1,g==null||g(k);return}let A=typeof c<"u"&&c!==null;(0,Ds.default)(A&&typeof d<"u"&&d!==null,`[useExport]: resource: "${R}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let E={filename:l,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...d};(0,Ds.default)((d==null?void 0:d.decimalSeparator)!==void 0,`[useExport]: resource: "${R}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),A?c={quotes:!0,...c}:c={columns:E.useKeysAsHeaders?void 0:E.headers,delimiter:E.fieldSeparator,header:E.showLabels||E.useKeysAsHeaders,quoteChar:E.quoteStrings,quotes:!0};let N=(0,Sa.unparse)(I.map(u),c);if(E.showTitle&&(N=`${E.title}\r

${N}`),typeof window<"u"&&N.length>0&&(P??!0)){let k=E.useTextFile?".txt":".csv",O=`text/${E.useTextFile?"plain":"csv"};charset=utf8;`,G=`${(E.filename??"download").replace(/ /g,"_")}${k}`;Bo(G,`${E!=null&&E.useBom?"\uFEFF":""}${N}`,O)}return M(!1),N},"triggerExport")}},"useExport");var mo=Q(C("react")),Fa=Q(C("warn-once")),Aa=Q(C("lodash-es/debounce"));var iP=o(({resource:e,action:t,id:r,onMutationSuccess:n,onMutationError:s,redirect:i,successNotification:a,errorNotification:u,meta:d,metaData:c,queryMeta:p,mutationMeta:m,mutationMode:T,liveMode:g,onLiveEvent:P,liveParams:U,undoableTimeout:M,dataProviderName:f,invalidates:x,queryOptions:w,createMutationOptions:S,updateMutationOptions:R,overtimeOptions:y,autoSave:l,optimisticUpdateMap:L}={})=>{let b=Me(),{options:v}=ne(),I=q(),{resource:h,id:D,action:A,identifier:E}=_(e),{identifier:N}=_(),O=o(()=>{let Ce=r??D;return e&&e!==N?r:Ce},"getDefaultId")(),[G,$]=mo.default.useState(O);mo.default.useEffect(()=>{$(O)},[O]);let K=o(()=>t||(A==="edit"||A==="clone"?A:"create"),"getAction")(),H=I({resource:h,meta:F(d,c)}),{mutationMode:B}=Ye(),W=T??B,Y=K==="create",se=K==="edit",ce=K==="clone";(0,Fa.default)((ce||se)&&!!e&&!r&&(w==null?void 0:w.enabled)!==!1,`[useForm]: action: "${K}", resource: "${E}", id: ${G} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let be=ko({redirectFromProps:i,action:K,redirectOptions:v.redirect}),Ee=or({resource:E,id:G??"",queryOptions:{enabled:G!==void 0&&(se||ce),...w},liveMode:g,onLiveEvent:P,liveParams:U,meta:{...H,...p},metaData:{...H,...p},dataProviderName:f}),{isFetching:Pt}=Ee,xt=sr({mutationOptions:S}),{mutate:Ut,isLoading:Mt}=xt,wt=Jr({mutationOptions:R}),{mutate:yr,isLoading:ho}=wt,qe=Jr({}),{setWarnWhen:Wt}=qt(),ze=ka(),gr=o(async Ce=>{Wt(!1);let Oe=o(Ke=>{ze({redirect:be,resource:h,id:Ke,meta:F(d,c)})},"onSuccess");return W!=="pessimistic"&&setTimeout(()=>{Oe()}),new Promise((Ke,lt)=>{if(W!=="pessimistic"&&Ke(),!!h)return Ut({values:Ce,resource:E??h.name,successNotification:a,errorNotification:u,meta:{...H,...m},metaData:{...H,...m},dataProviderName:f,invalidates:x},{onSuccess:(we,mt,ft)=>{var zt;n&&n(we,Ce,ft);let Ct=(zt=we==null?void 0:we.data)==null?void 0:zt.id;Oe(Ct),Ke(we)},onError:(we,mt,ft)=>{if(s)return s(we,Ce,ft);lt()}})})},"onFinishCreate");mo.default.useEffect(()=>()=>{l!=null&&l.invalidateOnUnmount&&qe.status==="success"&&b({id:G,invalidates:x||["list","many","detail"],dataProviderName:f,resource:E})},[l==null?void 0:l.invalidateOnUnmount,qe.status]);let ht=o(Ce=>{if(!h||!se)return;let Oe={id:G??"",values:Ce,resource:E??h.name,successNotification:!1,errorNotification:!1,meta:{...H,...m},metaData:{...H,...m},dataProviderName:f,invalidates:[],mutationMode:"pessimistic"};return qe.mutate(Oe,{onSuccess:(Ke,lt,we)=>{n&&n(Ke,Ce,we,!0)},onError:(Ke,lt,we)=>{if(s)return s(Ke,Ce,we,!0)}})},"onFinishAutoSaveMutation"),It=(0,Aa.default)(Ce=>ht(Ce),(l==null?void 0:l.debounce)||1e3),_t=Y||ce?{formLoading:Pt||Mt,mutationResult:xt,onFinish:gr}:{formLoading:Pt||ho,mutationResult:wt,onFinish:o(async Ce=>{if(Wt(!1),!h)return;let Oe={id:G??"",values:Ce,resource:E??h.name,mutationMode:W,undoableTimeout:M,successNotification:a,errorNotification:u,meta:{...H,...m},metaData:{...H,...m},dataProviderName:f,invalidates:x,optimisticUpdateMap:L},Ke=o(()=>{ze({redirect:be,resource:h,id:G,meta:F(d,c)})},"onSuccess");return W!=="pessimistic"&&setTimeout(()=>{Ke()}),new Promise((lt,we)=>(W!=="pessimistic"&&lt(),setTimeout(()=>{yr(Oe,{onSuccess:(mt,ft,Ct)=>{n&&n(mt,Ce,Ct),W==="pessimistic"&&Ke(),lt(mt)},onError:(mt,ft,Ct)=>{if(s)return s(mt,Ce,Ct);we()}})})))},"onFinishUpdate")},{elapsedTime:Tr}=oe({isLoading:_t.mutationResult.isLoading||Ee.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{..._t,queryResult:Ee,onFinishAutoSave:It,autoSaveProps:{status:qe.status,data:qe.data,error:qe.error},id:G,setId:$,redirect:(Ce,Oe)=>{ze({redirect:Ce!==void 0?Ce:se?"list":"edit",resource:h,id:Oe??G,meta:F(d,c)})},overtime:{elapsedTime:Tr}}},"useForm");var Qa=C("react");var ka=o(()=>{let{show:e,edit:t,list:r,create:n}=Pe();return(0,Qa.useCallback)(({redirect:i,resource:a,id:u,meta:d={}})=>{if(i&&a)return a.show&&i==="show"&&u?e(a,u,void 0,d):a.edit&&i==="edit"&&u?t(a,u,void 0,d):a.create&&i==="create"?n(a,void 0,d):r(a,"push",d)},[])},"useRedirectionAfterSubmission");var Kt=Q(C("react"));var Va=Q(C("react"));var bt=o(()=>{let e=te(),{resource:t,resources:r}=_(),n=he();return Va.default.useCallback(({resource:i,action:a,meta:u})=>{var T;let d=i||t;if(!d)return;let p=(T=Le(d,r,e==="legacy").find(g=>g.action===a))==null?void 0:T.route;return p?Ae(p,d==null?void 0:d.meta,n,u):void 0},[r,t,n])},"useGetToPath");var xe=o(()=>{let e=(0,Kt.useContext)(ut),{select:t}=_(),r=bt(),s=Kt.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Kt.useCallback)(a=>{if(typeof a.to!="object")return s({...a,to:a.to});let{resource:u}=t(a.to.resource);Lu(a.to,u);let d=r({resource:u,action:a.to.action,meta:{id:a.to.id,...a.to.meta}});return s({...a,to:d})},[t,s])},"useGo"),Lu=o((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors");var fo=Q(C("react"));var Ls=o(()=>{let e=(0,fo.useContext)(ut);return fo.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack");var Pe=o(()=>{let{resources:e}=_(),t=te(),{useHistory:r}=le(),n=r(),s=he(),i=xe(),a=Ls(),u=o((R,y="push")=>{t==="legacy"?n[y](R):i({to:R,type:y})},"handleUrl"),d=o((R,y={})=>{var b;if(t==="legacy"){let v=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,I=Le(v,e,!0).find(h=>h.action==="create");return I?Ae(I.route,v==null?void 0:v.meta,s,y):""}let l=typeof R=="string"?Te(R,e)??{name:R}:R,L=(b=Le(l,e).find(v=>v.action==="create"))==null?void 0:b.route;return L?i({to:Ae(L,l==null?void 0:l.meta,s,y),type:"path"}):""},"createUrl"),c=o((R,y,l={})=>{var I;let L=encodeURIComponent(y);if(t==="legacy"){let h=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,D=Le(h,e,!0).find(A=>A.action==="edit");return D?Ae(D.route,h==null?void 0:h.meta,s,{...l,id:L}):""}let b=typeof R=="string"?Te(R,e)??{name:R}:R,v=(I=Le(b,e).find(h=>h.action==="edit"))==null?void 0:I.route;return v?i({to:Ae(v,b==null?void 0:b.meta,s,{...l,id:L}),type:"path"}):""},"editUrl"),p=o((R,y,l={})=>{var I;let L=encodeURIComponent(y);if(t==="legacy"){let h=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,D=Le(h,e,!0).find(A=>A.action==="clone");return D?Ae(D.route,h==null?void 0:h.meta,s,{...l,id:L}):""}let b=typeof R=="string"?Te(R,e)??{name:R}:R,v=(I=Le(b,e).find(h=>h.action==="clone"))==null?void 0:I.route;return v?i({to:Ae(v,b==null?void 0:b.meta,s,{...l,id:L}),type:"path"}):""},"cloneUrl"),m=o((R,y,l={})=>{var I;let L=encodeURIComponent(y);if(t==="legacy"){let h=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,D=Le(h,e,!0).find(A=>A.action==="show");return D?Ae(D.route,h==null?void 0:h.meta,s,{...l,id:L}):""}let b=typeof R=="string"?Te(R,e)??{name:R}:R,v=(I=Le(b,e).find(h=>h.action==="show"))==null?void 0:I.route;return v?i({to:Ae(v,b==null?void 0:b.meta,s,{...l,id:L}),type:"path"}):""},"showUrl"),T=o((R,y={})=>{var b;if(t==="legacy"){let v=typeof R=="string"?Te(R,e,!0)??{name:R,route:R}:R,I=Le(v,e,!0).find(h=>h.action==="list");return I?Ae(I.route,v==null?void 0:v.meta,s,y):""}let l=typeof R=="string"?Te(R,e)??{name:R}:R,L=(b=Le(l,e).find(v=>v.action==="list"))==null?void 0:b.route;return L?i({to:Ae(L,l==null?void 0:l.meta,s,y),type:"path"}):""},"listUrl");return{create:o((R,y="push",l={})=>{u(d(R,l),y)},"create"),createUrl:d,edit:o((R,y,l="push",L={})=>{u(c(R,y,L),l)},"edit"),editUrl:c,clone:o((R,y,l="push",L={})=>{u(p(R,y,L),l)},"clone"),cloneUrl:p,show:o((R,y,l="push",L={})=>{u(m(R,y,L),l)},"show"),showUrl:m,list:o((R,y="push",l={})=>{u(T(R,l),y)},"list"),listUrl:T,push:o((R,...y)=>{t==="legacy"?n.push(R,...y):i({to:R,type:"push"})},"push"),replace:o((R,...y)=>{t==="legacy"?n.replace(R,...y):i({to:R,type:"replace"})},"replace"),goBack:o(()=>{t==="legacy"?n.goBack():a()},"goBack")}},"useNavigation");var yo=Q(C("react")),Na=Q(C("warn-once"));var $P=o(({resource:e,id:t,successNotification:r,errorNotification:n,meta:s,metaData:i,liveMode:a,onLiveEvent:u,dataProviderName:d,queryOptions:c,overtimeOptions:p}={})=>{let{resource:m,id:T,identifier:g}=_(e),{identifier:P}=_(),U=q(),f=o(()=>{let l=t??T;return e&&e!==P?t:l},"getDefaultId")(),[x,w]=(0,yo.useState)(f);yo.default.useEffect(()=>{w(f)},[f]);let S=U({resource:m,meta:F(s,i)});(0,Na.default)(!!e&&!t,`[useShow]: resource: "${g}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let R=or({resource:g,id:x??"",queryOptions:{enabled:x!==void 0,...c},successNotification:r,errorNotification:n,meta:S,metaData:S,liveMode:a,onLiveEvent:u,dataProviderName:d}),{elapsedTime:y}=oe({isLoading:R.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{queryResult:R,showId:x,setShowId:w,overtime:{elapsedTime:y}}},"useShow");var Gt=C("react"),Ba=C("papaparse"),Ka=Q(C("lodash-es/chunk"));var ZP=o(({resourceName:e,resource:t,mapData:r=o(p=>p,"mapData"),paparseOptions:n,batchSize:s=Number.MAX_SAFE_INTEGER,onFinish:i,meta:a,metaData:u,onProgress:d,dataProviderName:c}={})=>{let[p,m]=(0,Gt.useState)(0),[T,g]=(0,Gt.useState)(0),[P,U]=(0,Gt.useState)(!1),{resource:M,identifier:f}=_(t??e),x=q(),w=Rs(),S=sr(),R=x({resource:M,meta:F(a,u)}),y;s===1?y=S:y=w;let l=o(()=>{g(0),m(0),U(!1)},"handleCleanup"),L=o(v=>{let I={succeeded:v.filter(h=>h.type==="success"),errored:v.filter(h=>h.type==="error")};i==null||i(I),U(!1)},"handleFinish");(0,Gt.useEffect)(()=>{d==null||d({totalAmount:T,processedAmount:p})},[T,p]);let b=o(({file:v})=>(l(),new Promise(I=>{U(!0),(0,Ba.parse)(v,{complete:async({data:h})=>{let D=hr(h,r);if(g(D.length),s===1){let A=D.map(N=>o(async()=>({response:await S.mutateAsync({resource:f??"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:R,metaData:R}),value:N}),"fn")),E=await Fr(A,({response:N,value:k})=>(m(O=>O+1),{response:[N.data],type:"success",request:[k]}),(N,k)=>({response:[N],type:"error",request:[D[k]]}));I(E)}else{let A=(0,Ka.default)(D,s),E=A.map(k=>o(async()=>({response:await w.mutateAsync({resource:f??"",values:k,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:R,metaData:R}),value:k,currentBatchLength:k.length}),"fn")),N=await Fr(E,({response:k,currentBatchLength:O,value:G})=>(m($=>$+O),{response:k.data,type:"success",request:G}),(k,O)=>({response:[k],type:"error",request:A[O]}));I(N)}},...n})}).then(I=>(L(I),I))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:v=>{v.target.files&&v.target.files.length>0&&b({file:v.target.files[0]})}},mutationResult:y,isLoading:P,handleChange:b}},"useImport");var ur=C("react");var qP=o(({defaultVisible:e=!1}={})=>{let[t,r]=(0,ur.useState)(e),n=(0,ur.useCallback)(()=>r(!0),[t]),s=(0,ur.useCallback)(()=>r(!1),[t]);return{visible:t,show:n,close:s}},"useModal");var Eu=o(({resource:e,action:t,meta:r,legacy:n})=>bt()({resource:e,action:t,meta:r,legacy:n}),"useToPath");var go=Q(C("react"));var Dt=o(()=>{let e=(0,go.useContext)(ut);return e!=null&&e.Link?e.Link:o(({to:r,...n})=>go.default.createElement("a",{href:r,...n}),"FallbackLink")},"useLink");var Ha=C("react");var Es=Q(C("react"));var ct={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Uu=Es.default.createContext(ct),cr=Uu,Ga=o(({children:e,useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:i,routes:a})=>Es.default.createElement(cr.Provider,{value:{useHistory:t??ct.useHistory,useLocation:r??ct.useLocation,useParams:n??ct.useParams,Prompt:s??ct.Prompt,Link:i??ct.Link,routes:a??ct.routes}},e),"LegacyRouterContextProvider");var le=o(()=>{let e=(0,Ha.useContext)(cr),{useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:i,routes:a}=e??ct;return{useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:i,routes:a}},"useRouterContext");var $a=C("@tanstack/react-query"),Wa=C("react");var Us=Q(C("react"));var Tt=Us.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}});var Oa=o(({can:e,children:t,options:r})=>Us.default.createElement(Tt.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},t),"AccessControlContextProvider");var Ht=o(e=>{if(!e)return;let{icon:t,list:r,edit:n,create:s,show:i,clone:a,children:u,meta:d,options:c,...p}=e,{icon:m,...T}=d??{},{icon:g,...P}=c??{};return{...p,...d?{meta:T}:{},...c?{options:P}:{}}},"sanitizeResource");var _a=Q(ue());var za=o(({action:e,resource:t,params:r,queryOptions:n})=>{let{can:s,options:i}=(0,Wa.useContext)(Tt),{keys:a,preferLegacyKeys:u}=z(),{queryOptions:d}=i||{},c={...d,...n},{resource:p,...m}=r??{},T=Ht(p),g=(0,$a.useQuery)({queryKey:a().access().resource(t).action(e).params({params:{...m,resource:T},enabled:c==null?void 0:c.enabled}).get(u),queryFn:()=>(s==null?void 0:s({action:e,resource:t,params:{...m,resource:T}}))??Promise.resolve({can:!0}),enabled:typeof s<"u",...c,meta:{...c==null?void 0:c.meta,...(0,_a.getXRay)("useCan",u)},retry:!1});return typeof s>"u"?{data:{can:!0}}:g},"useCan");var Ms=Q(C("react"));var Ax=o(()=>{let{can:e}=Ms.default.useContext(Tt);return{can:Ms.default.useMemo(()=>e?o(async({params:n,...s})=>{let i=n!=null&&n.resource?Ht(n.resource):void 0;return e({...s,...n?{params:{...n,resource:i}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache");var Je=C("react"),ja=Q(C("lodash-es/uniqBy")),Xa=Q(C("lodash-es/debounce")),ws=Q(C("lodash-es/get"));var Ox=o(e=>{let[t,r]=(0,Je.useState)([]),[n,s]=(0,Je.useState)([]),[i,a]=(0,Je.useState)([]),{resource:u,sort:d,sorters:c,filters:p=[],optionLabel:m="title",optionValue:T="id",searchField:g=typeof m=="string"?m:"title",debounce:P=300,successNotification:U,errorNotification:M,defaultValueQueryOptions:f,queryOptions:x,fetchSize:w,pagination:S,hasPagination:R=!1,liveMode:y,defaultValue:l=[],onLiveEvent:L,onSearch:b,liveParams:v,meta:I,metaData:h,dataProviderName:D,overtimeOptions:A}=e,E=(0,Je.useCallback)(ee=>typeof m=="string"?(0,ws.default)(ee,m):m(ee),[m]),N=(0,Je.useCallback)(ee=>typeof T=="string"?(0,ws.default)(ee,T):T(ee),[T]),{resource:k,identifier:O}=_(u),$=q()({resource:k,meta:F(I,h)}),Z=Array.isArray(l)?l:[l],K=(0,Je.useCallback)(ee=>{a(ee.data.map(Ee=>({label:E(Ee),value:N(Ee)})))},[m,T]),H=f??x,B=gs({resource:O,ids:Z,queryOptions:{...H,enabled:Z.length>0&&((H==null?void 0:H.enabled)??!0),onSuccess:ee=>{var Ee;K(ee),(Ee=H==null?void 0:H.onSuccess)==null||Ee.call(H,ee)}},meta:$,metaData:$,liveMode:"off",dataProviderName:D}),W=(0,Je.useCallback)(ee=>{s(ee.data.map(Ee=>({label:E(Ee),value:N(Ee)})))},[m,T]),Y=rr({resource:O,sorters:F(c,d),filters:p.concat(t),pagination:{current:S==null?void 0:S.current,pageSize:(S==null?void 0:S.pageSize)??w,mode:S==null?void 0:S.mode},hasPagination:R,queryOptions:{...x,onSuccess:ee=>{var Ee;W(ee),(Ee=x==null?void 0:x.onSuccess)==null||Ee.call(x,ee)}},successNotification:U,errorNotification:M,meta:$,metaData:$,liveMode:y,liveParams:v,onLiveEvent:L,dataProviderName:D}),se=o(ee=>{if(b){r(b(ee));return}if(!ee){r([]);return}r([{field:g,operator:"contains",value:ee}])},"onSearch"),{elapsedTime:ce}=oe({isLoading:Y.isFetching||B.isFetching,interval:A==null?void 0:A.interval,onInterval:A==null?void 0:A.onInterval}),be=(0,Je.useMemo)(()=>(0,ja.default)([...n,...i],"value"),[n,i]);return{queryResult:Y,defaultValueQueryResult:B,options:be,onSearch:(0,Xa.default)(se,P),overtime:{elapsedTime:ce}}},"useSelect");var rt=Q(C("react")),Is=Q(C("qs")),dr=Q(C("lodash-es/differenceWith")),pr=Q(C("lodash-es/isEqual")),Ja=Q(C("warn-once"));var Za=[],Ya=[];function qx({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:n,initialSorter:s,permanentSorter:i=Ya,defaultSetFilterBehavior:a,initialFilter:u,permanentFilter:d=Za,filters:c,sorters:p,syncWithLocation:m,resource:T,successNotification:g,errorNotification:P,queryOptions:U,liveMode:M,onLiveEvent:f,liveParams:x,meta:w,metaData:S,dataProviderName:R,overtimeOptions:y}={}){var zt,Bs,Ks,Gs,Hs;let{syncWithLocation:l}=No(),L=m??l,b=ba(M),v=te(),{useLocation:I}=le(),{search:h,pathname:D}=I(),A=q(),E=he(),N=((c==null?void 0:c.mode)||"server")==="server",k=((p==null?void 0:p.mode)||"server")==="server",O=r===!1?"off":"server",G=((n==null?void 0:n.mode)??O)!=="off",$=F(n==null?void 0:n.current,e),Z=F(n==null?void 0:n.pageSize,t),K=F(w,S),{parsedCurrent:H,parsedPageSize:B,parsedSorter:W,parsedFilters:Y}=Hr(h??"?"),se=F(c==null?void 0:c.initial,u),ce=F(c==null?void 0:c.permanent,d)??Za,be=F(p==null?void 0:p.initial,s),ee=F(p==null?void 0:p.permanent,i)??Ya,Ee=F(c==null?void 0:c.defaultBehavior,a)??"merge",Pt,xt,Ut,Mt;L?(Pt=((zt=E==null?void 0:E.params)==null?void 0:zt.current)||H||$||1,xt=((Bs=E==null?void 0:E.params)==null?void 0:Bs.pageSize)||B||Z||10,Ut=((Ks=E==null?void 0:E.params)==null?void 0:Ks.sorters)||(W.length?W:be),Mt=((Gs=E==null?void 0:E.params)==null?void 0:Gs.filters)||(Y.length?Y:se)):(Pt=$||1,xt=Z||10,Ut=be,Mt=se);let{replace:wt}=Pe(),yr=xe(),{resource:ho,identifier:qe}=_(T),Wt=A({resource:ho,meta:K});rt.default.useEffect(()=>{(0,Ja.default)(typeof qe>"u","useTable: `resource` is not defined.")},[qe]);let[ze,gr]=(0,rt.useState)(_r(ee,Ut??[])),[ht,It]=(0,rt.useState)(Wr(ce,Mt??[])),[St,Co]=(0,rt.useState)(Pt),[pt,_t]=(0,rt.useState)(xt),Tr=o(()=>{if(v==="new"){let{sorters:Os,filters:ec,pageSize:tc,current:rc,...hi}=(E==null?void 0:E.params)??{};return hi}let{sorter:De,filters:je,pageSize:vo,current:bo,...Do}=Is.default.parse(h,{ignoreQueryPrefix:!0});return Do},"getCurrentQueryParams"),Ce=o(({pagination:{current:De,pageSize:je},sorter:vo,filters:bo})=>{if(v==="new")return yr({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...G?{current:De,pageSize:je}:{},sorters:vo,filters:bo,...Tr()}})??"";let Do=Is.default.parse(h==null?void 0:h.substring(1)),Os=Or({pagination:{pageSize:je,current:De},sorters:ze??vo,filters:bo,...Do});return`${D??""}?${Os??""}`},"createLinkForSyncWithLocation");(0,rt.useEffect)(()=>{h===""&&(Co(Pt),_t(xt),gr(_r(ee,Ut??[])),It(Wr(ce,Mt??[])))},[h]),(0,rt.useEffect)(()=>{if(L){let De=Tr();if(v==="new")yr({type:"replace",options:{keepQuery:!0},query:{...G?{pageSize:pt,current:St}:{},sorters:(0,dr.default)(ze,ee,pr.default),filters:(0,dr.default)(ht,ce,pr.default)}});else{let je=Or({...G?{pagination:{pageSize:pt,current:St}}:{},sorters:(0,dr.default)(ze,ee,pr.default),filters:(0,dr.default)(ht,ce,pr.default),...De});return wt==null?void 0:wt(`${D}?${je}`,void 0,{shallow:!0})}}},[L,St,pt,ze,ht]);let Oe=rr({resource:qe,hasPagination:r,pagination:{current:St,pageSize:pt,mode:n==null?void 0:n.mode},filters:N?Vt(ce,ht):void 0,sorters:k?$r(ee,ze):void 0,queryOptions:U,successNotification:g,errorNotification:P,meta:Wt,metaData:Wt,liveMode:b,liveParams:x,onLiveEvent:f,dataProviderName:R}),Ke=o(De=>{It(je=>Vt(ce,De,je))},"setFiltersAsMerge"),lt=o(De=>{It(Vt(ce,De))},"setFiltersAsReplace"),we=o(De=>{It(je=>Vt(ce,De(je)))},"setFiltersWithSetter"),mt=o((De,je=Ee)=>{typeof De=="function"?we(De):je==="replace"?lt(De):Ke(De)},"setFiltersFn"),ft=o(De=>{gr(()=>$r(ee,De))},"setSortWithUnion"),{elapsedTime:Ct}=oe({isLoading:Oe.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{tableQueryResult:Oe,sorters:ze,setSorters:ft,sorter:ze,setSorter:ft,filters:ht,setFilters:mt,current:St,setCurrent:Co,pageSize:pt,setPageSize:_t,pageCount:pt?Math.ceil((((Hs=Oe.data)==null?void 0:Hs.total)??0)/pt):1,createLinkForSyncWithLocation:Ce,overtime:{elapsedTime:Ct}}}o(qx,"useTable");var Fs=C("react"),lr=C("@tanstack/react-query");var Ss=Q(C("react"));var Lt=Ss.default.createContext({}),qa=o(({create:e,get:t,update:r,children:n})=>Ss.default.createElement(Lt.Provider,{value:{create:e,get:t,update:r}},n),"AuditLogContextProvider");var As=Q(ue());var We=o(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,lr.useQueryClient)(),n=(0,Fs.useContext)(Lt),{keys:s,preferLegacyKeys:i}=z(),a=J(),{resources:u}=(0,Fs.useContext)(gt),{data:d,refetch:c,isLoading:p}=_o({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy),queryOptions:{enabled:!!(n!=null&&n.create)}}),m=(0,lr.useMutation)(async g=>{var f,x,w,S,R;let P=Te(g.resource,u),U=F((f=P==null?void 0:P.meta)==null?void 0:f.audit,(x=P==null?void 0:P.options)==null?void 0:x.audit,(S=(w=P==null?void 0:P.options)==null?void 0:w.auditLog)==null?void 0:S.permissions);if(U&&!Mo(U,g.action))return;let M;return p&&(n!=null&&n.create)&&(M=await c()),await((R=n.create)==null?void 0:R.call(n,{...g,author:d??(M==null?void 0:M.data)}))},{mutationKey:s().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,As.getXRay)("useLog",i)}}),T=(0,lr.useMutation)(async g=>{var P;return await((P=n.update)==null?void 0:P.call(n,g))},{onSuccess:g=>{g!=null&&g.resource&&r.invalidateQueries(s().audit().resource((g==null?void 0:g.resource)??"").action("list").get(i))},mutationKey:s().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,As.getXRay)("useLog",i)}});return{log:m,rename:T}},"useLog");var ei=C("react"),ti=C("@tanstack/react-query");var ri=Q(ue());var Ph=o(({resource:e,action:t,meta:r,author:n,metaData:s,queryOptions:i})=>{let{get:a}=(0,ei.useContext)(Lt),{keys:u,preferLegacyKeys:d}=z();return(0,ti.useQuery)({queryKey:u().audit().resource(e).action("list").params(r).get(d),queryFn:()=>(a==null?void 0:a({resource:e,action:t,author:n,meta:r,metaData:s}))??Promise.resolve([]),enabled:typeof a<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...(0,ri.getXRay)("useLogList",d)}})},"useLogList");var oi=C("react"),si=Q(C("warn-once"));var Ih=o(({meta:e={}}={})=>{let t=te(),{i18nProvider:r}=(0,oi.useContext)(_e),n=he(),s=X(),{resources:i,resource:a,action:u}=_(),{options:{textTransformers:d}}=ne(),c=[];if(!(a!=null&&a.name))return{breadcrumbs:c};let p=o(m=>{var g,P,U,M,f,x;let T=typeof m=="string"?Te(m,i,t==="legacy")??{name:m}:m;if(T){let w=F((g=T==null?void 0:T.meta)==null?void 0:g.parent,T==null?void 0:T.parentName);w&&p(w);let S=Le(T,i,t==="legacy").find(l=>l.action==="list"),R=(P=S==null?void 0:S.resource)!=null&&P.list?S==null?void 0:S.route:void 0,y=R?t==="legacy"?R:Ae(R,T==null?void 0:T.meta,n,e):void 0;c.push({label:F((U=T.meta)==null?void 0:U.label,(M=T.options)==null?void 0:M.label)??s(`${T.name}.${T.name}`,d.humanize(T.name)),href:y,icon:F((f=T.meta)==null?void 0:f.icon,(x=T.options)==null?void 0:x.icon,T.icon)})}},"addBreadcrumb");if(p(a),u&&u!=="list"){let m=`actions.${u}`,T=s(m);typeof r<"u"&&T===m?((0,si.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:s(`buttons.${u}`,d.humanize(u))})):c.push({label:s(m,d.humanize(u))})}return{breadcrumbs:c}},"useBreadcrumb");var To=Q(C("react"));var Ot=o((e,t,r=!1)=>{let n=[],s=Ge(e,t);for(;s;)n.push(s),s=Ge(s,t);return n.reverse(),`/${[...n,e].map(a=>Ue((r?a.route:void 0)??a.identifier??a.name)).join("/").replace(/^\//,"")}`},"createResourceKey");var ni=o((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(s=>{let i=[],a=Ge(s,e);for(;a;)i.push(a),a=Ge(a,e);i.reverse();let u=r;i.forEach(c=>{let p=(t?c.route:void 0)??c.identifier??c.name;u.children[p]||(u.children[p]={item:c,children:{}}),u=u.children[p]});let d=(t?s.route:void 0)??s.identifier??s.name;u.children[d]||(u.children[d]={item:s,children:{}})});let n=o(s=>{let i=[];return Object.keys(s.children).forEach(a=>{let u=Ot(s.children[a].item,e,t),d={...s.children[a].item,key:u,children:n(s.children[a])};i.push(d)}),i},"flatten");return n(r)},"createTree");var ai=o(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Mu=o(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=X(),n=bt(),s=te(),{resource:i,resources:a}=_(),{pathname:u}=he(),{useLocation:d}=le(),{pathname:c}=d(),p=Qt(),T=`/${((s==="legacy"?ai(c):u?ai(u):void 0)??"").replace(/^\//,"")}`,g=i?Ot(i,a,s==="legacy"):T??"",P=To.default.useMemo(()=>{if(!i)return[];let f=Ge(i,a),x=[Ot(i,a)];for(;f;)x.push(Ot(f,a)),f=Ge(f,a);return x},[]),U=To.default.useCallback(f=>{var w,S,R,y,l,L;if((((w=f==null?void 0:f.meta)==null?void 0:w.hide)??((S=f==null?void 0:f.options)==null?void 0:S.hide))||!(f!=null&&f.list)&&f.children.length===0)return;let x=f.list?n({resource:f,action:"list",legacy:s==="legacy",meta:e}):void 0;if(!(t&&x&&x.match(/(\/|^):(.+?)(\/|$){1}/)))return{...f,route:x,icon:F((R=f.meta)==null?void 0:R.icon,(y=f.options)==null?void 0:y.icon,f.icon),label:F((l=f==null?void 0:f.meta)==null?void 0:l.label,(L=f==null?void 0:f.options)==null?void 0:L.label)??r(`${f.name}.${f.name}`,p(f.name,"plural"))}},[s,e,n,r,t]),M=To.default.useMemo(()=>{let f=ni(a,s==="legacy"),x=o(w=>w.flatMap(S=>{let R=x(S.children),y=U({...S,children:R});return y?[y]:[]}),"prepare");return x(f)},[a,s,U]);return{defaultOpenKeys:P,selectedKey:g,menuItems:M}},"useMenu");var q=o(()=>{let{params:e}=he();return o(({resource:r,meta:n}={})=>{let{meta:s}=Ht(r)??{meta:{}},{filters:i,sorters:a,current:u,pageSize:d,...c}=e??{};return{...s,...c,...n}},"getMetaFn")},"useMeta");var wu=o(()=>{let[e,t]=(0,ot.useState)(),r=X(),{push:n}=Pe(),s=xe(),i=te(),{resource:a,action:u}=_();return(0,ot.useEffect)(()=>{a&&u&&t(r("pages.error.info",{action:u,resource:a.name},`You may have forgotten to add the "${u}" component to "${a.name}" resource.`))},[a,u]),ot.default.createElement(ot.default.Fragment,null,ot.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&ot.default.createElement("p",null,e),ot.default.createElement("button",{onClick:()=>{i==="legacy"?n("/"):s({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");var ve=Q(C("react"));var Fo=o(()=>{let[e,t]=(0,ve.useState)(""),[r,n]=(0,ve.useState)(""),s=X(),i=J(),{mutate:a}=er({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return ve.default.createElement(ve.default.Fragment,null,ve.default.createElement("h1",null,s("pages.login.title","Sign in your account")),ve.default.createElement("form",{onSubmit:u=>{u.preventDefault(),a({username:e,password:r})}},ve.default.createElement("table",null,ve.default.createElement("tbody",null,ve.default.createElement("tr",null,ve.default.createElement("td",null,s("pages.login.username",void 0,"username"),":"),ve.default.createElement("td",null,ve.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),ve.default.createElement("tr",null,ve.default.createElement("td",null,s("pages.login.password",void 0,"password"),":"),ve.default.createElement("td",null,ve.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>n(u.target.value)}))))),ve.default.createElement("br",null),ve.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage");var Et=Q(C("react"));var ie=Q(C("react"));var ii=o(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:s,wrapperProps:i,renderContent:a,formProps:u,title:d=void 0,hideForm:c})=>{let p=te(),m=Dt(),{Link:T}=le(),g=p==="legacy"?T:m,[P,U]=(0,ie.useState)(""),[M,f]=(0,ie.useState)(""),[x,w]=(0,ie.useState)(!1),S=X(),R=J(),{mutate:y}=er({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),l=o((v,I)=>ie.default.createElement(g,{to:v},I),"renderLink"),L=o(()=>e?e.map(v=>ie.default.createElement("div",{key:v.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ie.default.createElement("button",{onClick:()=>y({providerName:v.name}),style:{display:"flex",alignItems:"center"}},v==null?void 0:v.icon,v.label??ie.default.createElement("label",null,v.label)))):null,"renderProviders"),b=ie.default.createElement("div",{...s},ie.default.createElement("h1",{style:{textAlign:"center"}},S("pages.login.title","Sign in to your account")),L(),!c&&ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("hr",null),ie.default.createElement("form",{onSubmit:v=>{v.preventDefault(),y({email:P,password:M,remember:x})},...u},ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ie.default.createElement("label",{htmlFor:"email-input"},S("pages.login.fields.email","Email")),ie.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:P,onChange:v=>U(v.target.value)}),ie.default.createElement("label",{htmlFor:"password-input"},S("pages.login.fields.password","Password")),ie.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:M,onChange:v=>f(v.target.value)}),n??ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("label",{htmlFor:"remember-me-input"},S("pages.login.buttons.rememberMe","Remember me"),ie.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:x,value:x.toString(),onChange:()=>{w(!x)}}))),ie.default.createElement("br",null),r??l("/forgot-password",S("pages.login.buttons.forgotPassword","Forgot password?")),ie.default.createElement("input",{type:"submit",value:S("pages.login.signin","Sign in")}),t??ie.default.createElement("span",null,S("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",S("pages.login.register","Sign up")))))),t!==!1&&c&&ie.default.createElement("div",{style:{textAlign:"center"}},S("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",S("pages.login.register","Sign up"))));return ie.default.createElement("div",{...i},a?a(b,d):b)},"LoginPage");var de=Q(C("react"));var ui=o(({providers:e,loginLink:t,wrapperProps:r,contentProps:n,renderContent:s,formProps:i,title:a=void 0,hideForm:u})=>{let d=te(),c=Dt(),{Link:p}=le(),m=d==="legacy"?p:c,[T,g]=(0,de.useState)(""),[P,U]=(0,de.useState)(""),M=X(),f=J(),{mutate:x,isLoading:w}=rs({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),S=o((l,L)=>de.default.createElement(m,{to:l},L),"renderLink"),R=o(()=>e?e.map(l=>de.default.createElement("div",{key:l.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},de.default.createElement("button",{onClick:()=>x({providerName:l.name}),style:{display:"flex",alignItems:"center"}},l==null?void 0:l.icon,l.label??de.default.createElement("label",null,l.label)))):null,"renderProviders"),y=de.default.createElement("div",{...n},de.default.createElement("h1",{style:{textAlign:"center"}},M("pages.register.title","Sign up for your account")),R(),!u&&de.default.createElement(de.default.Fragment,null,de.default.createElement("hr",null),de.default.createElement("form",{onSubmit:l=>{l.preventDefault(),x({email:T,password:P})},...i},de.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},de.default.createElement("label",{htmlFor:"email-input"},M("pages.register.fields.email","Email")),de.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:T,onChange:l=>g(l.target.value)}),de.default.createElement("label",{htmlFor:"password-input"},M("pages.register.fields.password","Password")),de.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:P,onChange:l=>U(l.target.value)}),de.default.createElement("input",{type:"submit",value:M("pages.register.buttons.submit","Sign up"),disabled:w}),t??de.default.createElement(de.default.Fragment,null,de.default.createElement("span",null,M("pages.login.buttons.haveAccount","Have an account?")," ",S("/login",M("pages.login.signin","Sign in"))))))),t!==!1&&u&&de.default.createElement("div",{style:{textAlign:"center"}},M("pages.login.buttons.haveAccount","Have an account?")," ",S("/login",M("pages.login.signin","Sign in"))));return de.default.createElement("div",{...r},s?s(y,a):y)},"RegisterPage");var ke=Q(C("react"));var ci=o(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:n,formProps:s,title:i=void 0})=>{let a=X(),u=te(),d=Dt(),{Link:c}=le(),p=u==="legacy"?c:d,[m,T]=(0,ke.useState)(""),{mutate:g,isLoading:P}=as(),U=o((f,x)=>ke.default.createElement(p,{to:f},x),"renderLink"),M=ke.default.createElement("div",{...r},ke.default.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),ke.default.createElement("hr",null),ke.default.createElement("form",{onSubmit:f=>{f.preventDefault(),g({email:m})},...s},ke.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ke.default.createElement("label",{htmlFor:"email-input"},a("pages.forgotPassword.fields.email","Email")),ke.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:f=>T(f.target.value)}),ke.default.createElement("input",{type:"submit",disabled:P,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),ke.default.createElement("br",null),e??ke.default.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",U("/login",a("pages.login.signin","Sign in"))))));return ke.default.createElement("div",{...t},n?n(M,i):M)},"ForgotPasswordPage");var Qe=Q(C("react"));var di=o(({wrapperProps:e,contentProps:t,renderContent:r,formProps:n,title:s=void 0})=>{let i=X(),a=J(),{mutate:u,isLoading:d}=ds({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),[c,p]=(0,Qe.useState)(""),[m,T]=(0,Qe.useState)(""),g=Qe.default.createElement("div",{...t},Qe.default.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),Qe.default.createElement("hr",null),Qe.default.createElement("form",{onSubmit:P=>{P.preventDefault(),u({password:c,confirmPassword:m})},...n},Qe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Qe.default.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),Qe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:P=>p(P.target.value)}),Qe.default.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Qe.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:m,onChange:P=>T(P.target.value)}),Qe.default.createElement("input",{type:"submit",disabled:d,value:i("pages.updatePassword.buttons.submit","Update")}))));return Qe.default.createElement("div",{...e},r?r(g,s):g)},"UpdatePasswordPage");var Iu=o(e=>{let{type:t}=e;return Et.default.createElement(Et.default.Fragment,null,o(()=>{switch(t){case"register":return Et.default.createElement(ui,{...e});case"forgotPassword":return Et.default.createElement(ci,{...e});case"updatePassword":return Et.default.createElement(di,{...e});default:return Et.default.createElement(ii,{...e})}},"renderView")())},"AuthPage");var Ve=Q(C("react"));var ks=o(()=>Ve.default.createElement(Ve.default.Fragment,null,Ve.default.createElement("h1",null,"Welcome on board"),Ve.default.createElement("p",null,"Your configuration is completed."),Ve.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Ve.default.createElement("code",null,"`resources`")," property of ",Ve.default.createElement("code",null,"`<Refine>`")),Ve.default.createElement("div",{style:{display:"flex",gap:8}},Ve.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ve.default.createElement("button",null,"Documentation")),Ve.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ve.default.createElement("button",null,"Examples")),Ve.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ve.default.createElement("button",null,"Community")))),"ReadyPage");var mr=Q(C("react"));var ye=Q(C("react"));var Su=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],pi=o(()=>{let e=Nr("(max-width: 1010px)"),t=Nr("(max-width: 650px)"),r=o(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),n=o(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),s=o(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return ye.default.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},ye.default.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},ye.default.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),ye.default.createElement("div",{style:{height:t?"40px":"80px"}}),ye.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},ye.default.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),ye.default.createElement("div",{style:{height:t?"120px":e?"200px":"30vh",minHeight:t?"120px":"200px"}}),ye.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},ye.default.createElement("h1",{style:{fontSize:n(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),ye.default.createElement("h4",{style:{fontSize:s(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),ye.default.createElement("div",{style:{height:"64px"}}),ye.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},Su.map(i=>ye.default.createElement(Fu,{key:`welcome-page-${i.title}`,card:i})))))},"ConfigSuccessPage"),Fu=o(({card:e})=>{let{title:t,description:r,iconUrl:n,link:s}=e,[i,a]=(0,ye.useState)(!1);return ye.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},ye.default.createElement("div",{style:{display:"flex",alignItems:"center"}},ye.default.createElement("a",{onPointerEnter:()=>a(!0),onPointerLeave:()=>a(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:s},ye.default.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`}}),ye.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),ye.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},ye.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),ye.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card");var V=Q(C("react"));var li=o(()=>V.default.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},V.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},V.default.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},V.default.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},V.default.createElement(ku,{style:{position:"absolute",left:0,top:0}}),V.default.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},V.default.createElement(Qu,null),V.default.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),V.default.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},V.default.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},V.default.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),V.default.createElement("div",null,V.default.createElement(Au,null)))))),"ConfigErrorPage"),Au=o(()=>V.default.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},V.default.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage"," ","}"," ",V.default.createElement("span",{style:{color:"#FF7B72"}},"from")," ",V.default.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,V.default.createElement("span",{style:{color:"#FF7B72"}},"export")," ",V.default.createElement("span",{style:{color:"#FF7B72"}},"default")," ",V.default.createElement("span",null,V.default.createElement("span",{style:{color:"#FF7B72"}},"function")," ",V.default.createElement("span",{style:{color:"#FFA657"}},"App"),"(",V.default.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",V.default.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",V.default.createElement("span",null,V.default.createElement("span",{style:{color:"#79C0FF"}},"<",V.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",V.default.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",V.default.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",V.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",V.default.createElement("span",{style:{color:"#79C0FF"}},"<",V.default.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",V.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",V.default.createElement("span",{style:{color:"#79C0FF"}},"</",V.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),ku=o(e=>V.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...e},V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),V.default.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),V.default.createElement("defs",null,V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),V.default.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},V.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),V.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),Qu=o(e=>V.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},V.default.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),V.default.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon");var Vu=o(()=>{let{__initialized:e}=ne();return mr.default.createElement(mr.default.Fragment,null,mr.default.createElement(pi,null),!e&&mr.default.createElement(li,null))},"WelcomePage");var ge=Q(C("react")),fr=C("@tanstack/react-query"),Ti=Q(ue());var Qs=Q(C("react"));var Rt=C("react");var Nu="4.48.0",mi=o(()=>{var x;let e=ys(),t=(0,Rt.useContext)(Lt),r=(0,Rt.useContext)(it),n=(0,Rt.useContext)(cr),s=(0,Rt.useContext)(nr),{i18nProvider:i}=(0,Rt.useContext)(_e),a=(0,Rt.useContext)(ir),u=(0,Rt.useContext)(Tt),{resources:d}=_(),c=ne(),p=!!t.create||!!t.get||!!t.update,m=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),T=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,g=!!s,P=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),U=!!a.close||!!a.open,M=!!u.can,f=(x=c==null?void 0:c.options)==null?void 0:x.projectId;return{providers:{auth:e,auditLog:p,live:m,router:T,data:g,i18n:P,notification:U,accessControl:M},version:Nu,resourceCount:d.length,projectId:f}},"useTelemetryData");var Bu=o(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Ku=o(e=>{let t=new Image;t.src=e},"throughImage"),Gu=o(e=>{fetch(e)},"throughFetch"),Hu=o(e=>{typeof Image<"u"?Ku(e):typeof fetch<"u"&&Gu(e)},"transport"),fi=o(()=>{let e=mi(),t=Qs.default.useRef(!1);return Qs.default.useEffect(()=>{if(t.current)return;let r=Bu(e);r&&(Hu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry");var yi=o(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(s=>!t.includes(s));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse");var Vs=Q(C("react"));var gi=o(e=>{let t=Vs.default.useRef(!1);Vs.default.useEffect(()=>{t.current===!1&&e&&yi(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning");var Ou=o(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:n,routerProvider:s,notificationProvider:i,accessControlProvider:a,auditLogProvider:u,resources:d,DashboardPage:c,ReadyPage:p,LoginPage:m,catchAll:T,children:g,liveProvider:P,i18nProvider:U,Title:M,Layout:f,Sider:x,Header:w,Footer:S,OffLayoutArea:R,onLiveEvent:y,options:l})=>{let{optionsWithDefaults:L,disableTelemetryWithDefault:b,reactQueryWithDefaults:v}=Ao({options:l}),I=oo(()=>{var E;return v.clientConfig instanceof fr.QueryClient?v.clientConfig:new fr.QueryClient({...v.clientConfig,defaultOptions:{...v.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(E=v.clientConfig.defaultOptions)==null?void 0:E.queries}}})},[v.clientConfig]);(0,Ti.useQuerySubscription)(I);let D=ge.default.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(gi(s),n&&!s&&(d??[]).length===0)return p?ge.default.createElement(p,null):ge.default.createElement(ks,null);let{RouterComponent:A=ge.default.Fragment}=s?{}:n??{};return ge.default.createElement(fr.QueryClientProvider,{client:I},ge.default.createElement(Ea,{...D},ge.default.createElement(hn,{...e??{},isProvided:!!e},ge.default.createElement(vn,{...t??{},isProvided:!!t},ge.default.createElement(na,{...r},ge.default.createElement(ua,{liveProvider:P},ge.default.createElement(ya,{value:n&&!s?"legacy":"new"},ge.default.createElement(Ta,{router:s},ge.default.createElement(Ga,{...n},ge.default.createElement(ma,{resources:d??[]},ge.default.createElement(wa,{i18nProvider:U},ge.default.createElement(Oa,{...a??{}},ge.default.createElement(qa,{...u??{}},ge.default.createElement(Ts,null,ge.default.createElement(Tn,{mutationMode:L.mutationMode,warnWhenUnsavedChanges:L.warnWhenUnsavedChanges,syncWithLocation:L.syncWithLocation,Title:M,undoableTimeout:L.undoableTimeout,catchAll:T,DashboardPage:c,LoginPage:m,Layout:f,Sider:x,Footer:S,Header:w,OffLayoutArea:R,hasDashboard:!!c,liveMode:L.liveMode,onLiveEvent:y,options:L},ge.default.createElement(Ln,null,ge.default.createElement(A,null,g,!b&&ge.default.createElement(fi,null),ge.default.createElement(Ns,null))))))))))))))))))},"Refine");var Ro=C("react");var _n=o(({notification:e})=>{let t=X(),{notificationDispatch:r}=tt(),{open:n}=Ne(),[s,i]=(0,Ro.useState)(),a=o(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||n==null||n({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:jt(e.seconds)},`You have ${jt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:jt(e.seconds)}),e.seconds>0)){s&&clearTimeout(s);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(u)}},"cancelNotification");return(0,Ro.useEffect)(()=>{a()},[e]),null},"UndoableQueue");var $t=Q(C("react"));var $u=o(({children:e,Layout:t,Sider:r,Header:n,Title:s,Footer:i,OffLayoutArea:a})=>{let{Layout:u,Footer:d,Header:c,Sider:p,Title:m,OffLayoutArea:T}=ne();return $t.default.createElement(t??u,{Sider:r??p,Header:n??c,Footer:i??d,Title:s??m,OffLayoutArea:a??T},e,$t.default.createElement(Wu,null))},"LayoutWrapper"),Wu=o(()=>{let{Prompt:e}=le(),t=X(),{warnWhen:r,setWarnWhen:n}=qt(),s=o(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return(0,$t.useEffect)(()=>(r&&window.addEventListener("beforeunload",s),window.removeEventListener("beforeunload",s)),[r]),$t.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})},"UnsavedPrompt");var He=Q(C("react"));function _u({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:n,loading:s}){var R;let i=J(),a=te(),u=!!(i!=null&&i.isProvided),d=!!(i!=null&&i.isLegacy),c=a==="legacy",p=he(),m=xe(),{useLocation:T}=le(),g=T(),{isFetching:P,isSuccess:U,data:{authenticated:M,redirectTo:f}={}}=jr({v3LegacyAuthProviderCompatible:d}),x=u?d?U:M:!0;if(!u)return He.default.createElement(He.default.Fragment,null,r??null);if(P)return He.default.createElement(He.default.Fragment,null,s??null);if(x)return He.default.createElement(He.default.Fragment,null,r??null);if(typeof n<"u")return He.default.createElement(He.default.Fragment,null,n??null);let w=d?typeof e=="string"?e:"/login":typeof e=="string"?e:f,S=`${c?g==null?void 0:g.pathname:p.pathname}`.replace(/(\?.*|#.*)$/,"");if(w){if(c){let y=t?`?to=${encodeURIComponent(S)}`:"";return He.default.createElement(ju,{to:`${w}${y}`})}return He.default.createElement(zu,{config:{to:w,query:t?{to:(R=p.params)!=null&&R.to?p.params.to:m({to:S,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}})}return null}o(_u,"Authenticated");var zu=o(({config:e})=>{let t=xe();return He.default.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),ju=o(({to:e})=>{let{replace:t}=Pe();return He.default.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy");var Ri=C("react");var Ns=o(()=>{let{useLocation:e}=le(),{checkAuth:t}=pe(),r=e();return(0,Ri.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler");var dt=Q(C("react"));var Xu=o(({resource:e,action:t,params:r,fallback:n,onUnauthorized:s,children:i,queryOptions:a,...u})=>{let{resource:d,id:c,action:p}=_(e),{identifier:m}=_(),g=o(()=>{let x=(r==null?void 0:r.id)??c;return e&&e!==m?r==null?void 0:r.id:x},"getDefaultId")(),P=e??(d==null?void 0:d.name),U=t??p??"",M=r??{id:g,resource:d},{data:f}=za({resource:P,action:U,params:M,queryOptions:a});return(0,dt.useEffect)(()=>{s&&(f==null?void 0:f.can)===!1&&s({resource:P,action:U,reason:f==null?void 0:f.reason,params:M})},[f==null?void 0:f.can]),f!=null&&f.can?dt.default.isValidElement(i)?dt.default.cloneElement(i,u):dt.default.createElement(dt.default.Fragment,null,i):(f==null?void 0:f.can)===!1?dt.default.createElement(dt.default.Fragment,null,n??null):null},"CanAccess");var re=Q(C("react"));var Pi=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `];var Zu="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",Yu=o(()=>((0,re.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Pi.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),re.default.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},re.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},re.default.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},re.default.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},re.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},re.default.createElement(Po,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),re.default.createElement(Po,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),re.default.createElement(xi,{style:{position:"absolute",right:"10px"},id:"3"})),re.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},re.default.createElement(Po,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),re.default.createElement(Po,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),re.default.createElement(xi,{style:{position:"absolute",right:"-70px"},id:"6"})))),re.default.createElement(Ju,{text:Zu})))),"GitHubBanner"),Ju=o(({text:e})=>re.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},re.default.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},re.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),re.default.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),re.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),Po=o(({style:e,...t})=>re.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},re.default.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),re.default.createElement("defs",null,re.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},re.default.createElement("stop",{stopColor:"#47EBEB"}),re.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),xi=o(({style:e,...t})=>re.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},re.default.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),re.default.createElement("defs",null,re.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},re.default.createElement("stop",{stopColor:"#47EBEB"}),re.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig");var Be=Q(C("react"));var qu=o(({status:e,elements:{success:t=Be.default.createElement(xo,{key:"autoSave.success",defaultMessage:"saved"}),error:r=Be.default.createElement(xo,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:n=Be.default.createElement(xo,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:s=Be.default.createElement(xo,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return Be.default.createElement(Be.default.Fragment,null,t);case"error":return Be.default.createElement(Be.default.Fragment,null,r);case"loading":return Be.default.createElement(Be.default.Fragment,null,n);default:return Be.default.createElement(Be.default.Fragment,null,s)}},"AutoSaveIndicator"),xo=o(({key:e,defaultMessage:t})=>{let r=X();return Be.default.createElement("span",null,r(e,t))},"Message");})();
//# sourceMappingURL=index.js.map