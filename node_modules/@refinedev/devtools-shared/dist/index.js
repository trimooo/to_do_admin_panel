"use client"
var g=Object.create;var l=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var N=(e,t)=>{for(var o in t)l(e,o,{get:t[o],enumerable:!0})},E=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of I(t))!f.call(e,a)&&a!==o&&l(e,a,{get:()=>t[a],enumerable:!(s=C(t,a))||s.enumerable});return e};var A=(e,t,o)=>(o=e!=null?g(P(e)):{},E(t||!e||!e.__esModule?l(o,"default",{value:e,enumerable:!0}):o,e)),V=e=>E(l({},"__esModule",{value:!0}),e);var h={};N(h,{DevToolsContext:()=>O,DevToolsContextProvider:()=>S,DevtoolsEvent:()=>T,hooksByScope:()=>D,receive:()=>c,scopes:()=>p,send:()=>d});module.exports=V(h);var T=(n=>(n.RELOAD="devtools:reload",n.DEVTOOLS_INIT="devtools:init",n.DEVTOOLS_HANDSHAKE="devtools:handshake",n.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",n.ACTIVITY="devtools:send-activity",n.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",n.DEVTOOLS_CONNECTED_APP="devtools:connected-app",n.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",n.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",n.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",n.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",n.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",n))(T||{});var p={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},D=Object.entries(p).reduce((e,[t,o])=>(e[o]||(e[o]=[]),e[o].push(t),e),{});var r=A(require("react"));async function d(e,t,o){if(e.readyState!==e.OPEN){await new Promise(s=>{let a=()=>{e.send(JSON.stringify({event:t,payload:o})),s(),e.removeEventListener("open",a)};e.addEventListener("open",a)});return}e.send(JSON.stringify({event:t,payload:o}))}function c(e,t,o){let s=a=>{let{event:i,payload:v}=JSON.parse(a.data);t===i&&o(v)};return e.addEventListener("message",s),()=>{e.removeEventListener("message",s)}}var O=r.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),S=({__devtools:e,port:t,children:o})=>{let[s,a]=r.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[i,v]=r.default.useState(null);r.default.useEffect(()=>{let u=new WebSocket(`${s.secure?"wss":"ws"}://localhost:${s.port}`),y=c(u,"devtools:handshake",_=>{a(m=>({...m,devtoolsUrl:_.url})),y()});return u.addEventListener("open",()=>{s.__devtools||d(u,"devtools:init",{url:window.location.origin})}),v(u),()=>{y(),u.close(1e3,window.location.origin)}},[]);let L=r.default.useMemo(()=>({...s,ws:i}),[s,i]);return r.default.createElement(O.Provider,{value:L},o)};
//# sourceMappingURL=index.js.map