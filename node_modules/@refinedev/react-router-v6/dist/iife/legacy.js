(()=>{var zn=Object.create;var la=Object.defineProperty;var Hn=Object.getOwnPropertyDescriptor;var Bn=Object.getOwnPropertyNames;var jn=Object.getPrototypeOf,_n=Object.prototype.hasOwnProperty;var P=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var pr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gn=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bn(t))!_n.call(e,o)&&o!==r&&la(e,o,{get:()=>t[o],enumerable:!(a=Hn(t,o))||a.enumerable});return e};var qt=(e,t,r)=>(r=e!=null?zn(jn(e)):{},Gn(t||!e||!e.__esModule?la(r,"default",{value:e,enumerable:!0}):r,e));var Qt=pr((ju,va)=>{"use client";var Xn=Object.create,Kt=Object.defineProperty,Zn=Object.getOwnPropertyDescriptor,Vn=Object.getOwnPropertyNames,Jn=Object.getPrototypeOf,Yn=Object.prototype.hasOwnProperty,ei=(e,t)=>{for(var r in t)Kt(e,r,{get:t[r],enumerable:!0})},sa=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vn(t))!Yn.call(e,o)&&o!==r&&Kt(e,o,{get:()=>t[o],enumerable:!(a=Zn(t,o))||a.enumerable});return e},ti=(e,t,r)=>(r=e!=null?Xn(Jn(e)):{},sa(t||!e||!e.__esModule?Kt(r,"default",{value:e,enumerable:!0}):r,e)),ri=e=>sa(Kt({},"__esModule",{value:!0}),e),ua={};ei(ua,{DevToolsContext:()=>fa,DevToolsContextProvider:()=>oi,DevtoolsEvent:()=>da,hooksByScope:()=>ai,receive:()=>pa,scopes:()=>ca,send:()=>ma});va.exports=ri(ua);var da=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(da||{}),ca={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},ai=Object.entries(ca).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),Et=ti(P("react"));async function ma(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let o=()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",o)};e.addEventListener("open",o)});return}e.send(JSON.stringify({event:t,payload:r}))}function pa(e,t,r){let a=o=>{let{event:i,payload:n}=JSON.parse(o.data);t===i&&r(n)};return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}var fa=Et.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),oi=({__devtools:e,port:t,children:r})=>{let[a,o]=Et.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[i,n]=Et.default.useState(null);Et.default.useEffect(()=>{let c=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),d=pa(c,"devtools:handshake",p=>{o(v=>({...v,devtoolsUrl:p.url})),d()});return c.addEventListener("open",()=>{a.__devtools||ma(c,"devtools:init",{url:window.location.origin})}),n(c),()=>{d(),c.close(1e3,window.location.origin)}},[]);let u=Et.default.useMemo(()=>({...a,ws:i}),[a,i]);return Et.default.createElement(fa.Provider,{value:u},r)}});var te=pr((Zu,ba)=>{"use client";var ni=Object.create,Wt=Object.defineProperty,ii=Object.getOwnPropertyDescriptor,li=Object.getOwnPropertyNames,si=Object.getPrototypeOf,ui=Object.prototype.hasOwnProperty,di=(e,t)=>{for(var r in t)Wt(e,r,{get:t[r],enumerable:!0})},ga=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of li(t))!ui.call(e,o)&&o!==r&&Wt(e,o,{get:()=>t[o],enumerable:!(a=ii(t,o))||a.enumerable});return e},ya=(e,t,r)=>(r=e!=null?ni(si(e)):{},ga(t||!e||!e.__esModule?Wt(r,"default",{value:e,enumerable:!0}):r,e)),ci=e=>ga(Wt({},"__esModule",{value:!0}),e),ha={};di(ha,{getTrace:()=>Pa,getXRay:()=>hi,useQuerySubscription:()=>Ei});ba.exports=ci(ha);var mi=ya(P("error-stack-parser")),pi="renderWithHooks",fi=e=>{let t=e.findIndex(r=>r.functionName===pi);return t!==-1?e.slice(0,t):e},Ea=/node_modules\/refinedev\/(?<name>.*?)\//,vi=e=>e?!!e.match(Ea):!1,gi=e=>{var t;if(!e)return;let r=e.match(Ea),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`};function Pa(){return[];try{let e=new Error,t=mi.default.parse(e);return fi(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:vi(r.fileName),packageName:gi(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}var fr=Qt(),yi=(e,t)=>{if(fr.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(fr.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(fr.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null};function hi(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}var _u=Qt(),Gu=ya(P("react")),Xu=Qt(),Ei=()=>({})});var ra=pr((Vu,Mn)=>{"use client";var Pi=Object.create,Mt=Object.defineProperty,bi=Object.getOwnPropertyDescriptor,Ci=Object.getOwnPropertyNames,wi=Object.getPrototypeOf,Li=Object.prototype.hasOwnProperty,l=(e,t)=>Mt(e,"name",{value:t,configurable:!0}),xi=(e,t)=>{for(var r in t)Mt(e,r,{get:t[r],enumerable:!0})},bo=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ci(t))!Li.call(e,o)&&o!==r&&Mt(e,o,{get:()=>t[o],enumerable:!(a=bi(t,o))||a.enumerable});return e},K=(e,t,r)=>(r=e!=null?Pi(wi(e)):{},bo(t||!e||!e.__esModule?Mt(r,"default",{value:e,enumerable:!0}):r,e)),Si=e=>bo(Mt({},"__esModule",{value:!0}),e),Co={};xi(Co,{AccessControlContext:()=>At,AuthPage:()=>lu,Authenticated:()=>qn,AutoSaveIndicator:()=>$u,CanAccess:()=>Ou,ErrorComponent:()=>ru,GitHubBanner:()=>Au,KeyBuilder:()=>Ur,LayoutWrapper:()=>Fu,LoginPage:()=>xn,ReadyPage:()=>Sn,Refine:()=>Su,ResourceContext:()=>Ot,RouteChangeHandler:()=>Dn,TranslationContext:()=>ft,UndoableQueue:()=>Fn,WelcomePage:()=>vu,createTreeView:()=>Ii,file2Base64:()=>nl,flattenObjectKeys:()=>Or,generateDefaultDocumentTitle:()=>Go,getDefaultFilter:()=>ol,getDefaultSortOrder:()=>al,getNextPageParam:()=>Wo,getPreviousPageParam:()=>zo,handleUseParams:()=>Mi,importCSVMapper:()=>xo,keys:()=>at,legacyResourceTransform:()=>Ho,matchResourceFromRoute:()=>$i,parseTableParams:()=>zr,parseTableParamsFromQuery:()=>rl,pickDataProvider:()=>V,pickNotDeprecated:()=>U,propertyPathToArray:()=>el,queryKeys:()=>ki,routeGenerator:()=>Io,setInitialFilters:()=>Ar,setInitialSorters:()=>Rr,stringifyTableParams:()=>Nr,unionFilters:()=>Dt,unionSorters:()=>Tr,useActiveAuthProvider:()=>ge,useApiUrl:()=>Il,useAuthenticated:()=>gl,useBack:()=>En,useBreadcrumb:()=>Ys,useCan:()=>Cn,useCanWithoutCache:()=>Qs,useCancelNotification:()=>Lt,useCheckError:()=>yl,useCreate:()=>Vr,useCreateMany:()=>an,useCustom:()=>Ql,useCustomMutation:()=>Hl,useDataProvider:()=>Ce,useDelete:()=>kl,useDeleteMany:()=>$l,useExport:()=>Ps,useForgotPassword:()=>_r,useForm:()=>ws,useGetIdentity:()=>Hr,useGetLocale:()=>ys,useGetToPath:()=>ar,useGo:()=>Re,useHandleNotification:()=>ke,useImport:()=>ks,useInfiniteList:()=>Xl,useInvalidate:()=>Ve,useIsAuthenticated:()=>rr,useIsExistAuthentication:()=>en,useLink:()=>or,useList:()=>Xr,useLiveMode:()=>vn,useLoadingOvertime:()=>Ee,useLog:()=>vt,useLogList:()=>Zs,useLogin:()=>tr,useLogout:()=>Vt,useMany:()=>tn,useMenu:()=>tu,useMeta:()=>ce,useModal:()=>Os,useMutationMode:()=>wt,useNavigation:()=>$e,useNotification:()=>lt,useOnError:()=>xe,useOne:()=>Zr,useParse:()=>pn,useParsed:()=>He,usePermissions:()=>Yo,usePublish:()=>pt,useRedirectionAfterSubmission:()=>hn,useRefineContext:()=>be,useRegister:()=>jr,useResource:()=>J,useResourceSubscription:()=>Tt,useResourceWithRoute:()=>fn,useRouterContext:()=>Oe,useRouterType:()=>ye,useSelect:()=>Hs,useSetLocale:()=>gs,useShow:()=>qs,useSubscription:()=>us,useSyncWithLocation:()=>Zo,useTable:()=>wn,useTitle:()=>Vi,useToPath:()=>Ns,useTranslate:()=>oe,useUpdate:()=>$r,useUpdateMany:()=>Al,useUpdatePassword:()=>Gr,useUserFriendlyName:()=>Wr,useWarnAboutChange:()=>Qr,userFriendlyResourceName:()=>So});Mn.exports=Si(Co);var ut=K(P("react")),Ca=P("@tanstack/react-query"),wa=te(),Ir=K(P("qs")),wo=K(P("lodash/unionWith")),Lo=K(P("lodash/differenceWith")),Fi=K(P("warn-once")),vr=l(e=>e/1e3,"userFriendlySecond"),qi=K(P("lodash/zip")),Di=K(P("lodash/fromPairs")),xo=l((e,t=r=>r)=>{let[r,...a]=e;return a.map(o=>(0,Di.default)((0,qi.default)(r,o))).map((o,i,n)=>t.call(void 0,o,i,n))},"importCSVMapper"),La=K(P("pluralize")),So=l((e="",t)=>{let r=Uo(e);return t==="singular"?La.default.singular(r):La.default.plural(r)},"userFriendlyResourceName"),Mi=l((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),U=l((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function Be(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((o,i)=>e[a+i]===o))}l(Be,"arrayFindIndex");function Fo(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Be(e,["auth","login"])!==-1)return["useLogin"];if(Be(e,["auth","logout"])!==-1)return["useLogout"];if(Be(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Be(e,["auth","register"])!==-1)return["useRegister"];if(Be(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Be(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Be(e,["auth","onError"])!==-1)return["useCheckError"];if(Be(e,["auth","permissions"])!==-1)return["usePermissions"];if(Be(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}l(Fo,"convertToLegacy");var Me=class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return Fo(this.segments)}get(e){return e?this.legacy():this.segments}};l(Me,"BaseKeyBuilder");var Ze=class extends Me{params(e){return new Me([...this.segments,e])}};l(Ze,"ParamsKeyBuilder");var qo=class extends Me{id(e){return new Ze([...this.segments,e?String(e):void 0])}};l(qo,"DataIdRequiringKeyBuilder");var Do=class extends Me{ids(...e){return new Ze([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}};l(Do,"DataIdsRequiringKeyBuilder");var Mo=class extends Me{action(e){if(e==="one")return new qo([...this.segments,e]);if(e==="many")return new Do([...this.segments,e]);if(["list","infinite"].includes(e))return new Ze([...this.segments,e]);throw new Error("Invalid action type")}};l(Mo,"DataResourceKeyBuilder");var ko=class extends Me{resource(e){return new Mo([...this.segments,e])}mutation(e){return new Ze([...e==="custom"?this.segments:[this.segments[0]],e])}};l(ko,"DataKeyBuilder");var Oo=class extends Me{action(e){return new Ze([...this.segments,e])}};l(Oo,"AuthKeyBuilder");var No=class extends Me{action(e){return new Ze([...this.segments,e])}};l(No,"AccessResourceKeyBuilder");var To=class extends Me{resource(e){return new No([...this.segments,e])}};l(To,"AccessKeyBuilder");var Ao=class extends Me{action(e){return new Ze([...this.segments,e])}};l(Ao,"AuditActionKeyBuilder");var Ro=class extends Me{resource(e){return new Ao([...this.segments,e])}action(e){return new Ze([...this.segments,e])}};l(Ro,"AuditKeyBuilder");var Ur=class extends Me{data(e){return new ko(["data",e||"default"])}auth(){return new Oo(["auth"])}access(){return new To(["access"])}audit(){return new Ro(["audit"])}};l(Ur,"KeyBuilder");var at=l(()=>new Ur([]),"keys"),ki=l((e,t,r,a)=>{let o=t||"default",i={all:[o],resourceAll:[o,e||""],list:n=>[...i.resourceAll,"list",{...n,...U(r,a)||{}}],many:n=>[...i.resourceAll,"getMany",n==null?void 0:n.map(String),{...U(r,a)||{}}].filter(u=>u!==void 0),detail:n=>[...i.resourceAll,"detail",n==null?void 0:n.toString(),{...U(r,a)||{}}],logList:n=>["logList",e,n,a].filter(u=>u!==void 0)};return i},"queryKeys"),Yt=l(e=>(t,r,a,o)=>{let i=r||"default";return{all:at().data(i).get(e),resourceAll:at().data(r).resource(t??"").get(e),list:n=>at().data(r).resource(t??"").action("list").params({...n,...U(a,o)||{}}).get(e),many:n=>at().data(r).resource(t??"").action("many").ids(...n??[]).params({...U(a,o)||{}}).get(e),detail:n=>at().data(r).resource(t??"").action("one").id(n??"").params({...U(a,o)||{}}).get(e),logList:n=>[...at().audit().resource(t).action("list").params(n).get(e),o].filter(u=>u!==void 0)}},"queryKeysReplacement"),Oi=l((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),Kr=l(e=>e.startsWith(":"),"isParameter"),bt=l(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),Ni=l((e,t)=>{let r=bt(e),a=bt(t);return r.length===a.length},"isSegmentCountsSame"),Xe=l(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),Ti=l((e,t)=>{let r=Xe(e),a=Xe(t);if(!Ni(r,a))return!1;let o=bt(r);return bt(a).every((i,n)=>Kr(i)||i===o[n])},"checkBySegments"),Ai=l((e,t,r)=>{let a=Xe(r||""),o=`${a}${a?"/":""}${e}`;return t==="list"?o=`${o}`:t==="create"?o=`${o}/create`:t==="edit"?o=`${o}/edit/:id`:t==="show"?o=`${o}/show/:id`:t==="clone"&&(o=`${o}/clone/:id`),`/${o.replace(/^\//,"")}`},"getDefaultActionPath"),nt=l((e,t)=>{var r,a;let o=U((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return o?t.find(i=>(i.identifier??i.name)===o)??{name:o}:void 0},"getParentResource"),$o=l((e,t,r)=>{let a=[],o=nt(e,t);for(;o;)a.push(o),o=nt(o,t);if(a.length!==0)return`/${a.reverse().map(i=>{var n;let u=r?((n=i.options)==null?void 0:n.route)??i.name:i.name;return Xe(u)}).join("/")}`},"getParentPrefixForResource"),De=l((e,t,r)=>{let a=[],o=["list","show","edit","create","clone"],i=$o(e,t,r);return o.forEach(n=>{var u,c;let d=r&&n==="clone"?e.create:e[n],p;typeof d=="function"||r?p=Ai(r?((u=e.meta)==null?void 0:u.route)??((c=e.options)==null?void 0:c.route)??e.name:e.name,n,r?i:void 0):typeof d=="string"?p=d:typeof d=="object"&&(p=d.path),p&&a.push({action:n,resource:e,route:`/${p.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),Ri=l(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(i=>({...i,splitted:bt(Xe(i.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,o=[...r];for(let i=0;i<a;i++){let n=o.filter(u=>!Kr(u.splitted[i]));if(n.length!==0){if(n.length===1){o=n;break}o=n}}return o[0]},"pickMatchedRoute"),$i=l((e,t)=>{let r=t.flatMap(o=>De(o,t)).filter(o=>Ti(e,o.route)),a=Ri(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),Io=l((e,t)=>{var r;let a,o=$o(e,t,!0);if(o){let i=U(e.meta,e.options);a=`${o}/${(i==null?void 0:i.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),Ii=l(e=>{var t;let r=[],a={},o={},i,n;for(let u=0;u<e.length;u++){i=e[u];let c=i.route??((t=U(i==null?void 0:i.meta,i.options))==null?void 0:t.route)??"";a[c]=i,a[c].children=[],o[i.name]=i,o[i.name].children=[]}for(let u in a)Object.hasOwn(a,u)&&(n=a[u],n.parentName&&o[n.parentName]?o[n.parentName].children.push(n):r.push(n));return r},"createTreeView"),Uo=l(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),Ko=K(P("react")),xa=K(P("pluralize")),Ui=K(P("react")),Qo=l(({children:e})=>Ui.default.createElement("div",null,e),"DefaultLayout"),Le={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Uo,plural:xa.default.plural,singular:xa.default.singular},disableServerSideValidation:!1},it=Ko.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Qo,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Le}),Ki=l(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:o,children:i,DashboardPage:n,Title:u,Layout:c=Qo,Header:d,Sider:p,Footer:v,OffLayoutArea:b,LoginPage:s=xn,catchAll:g,liveMode:E="off",onLiveEvent:f,options:y})=>Ko.default.createElement(it.Provider,{value:{__initialized:!0,hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:u,undoableTimeout:o,Layout:c,Header:d,Sider:p,Footer:v,OffLayoutArea:b,DashboardPage:n,LoginPage:s,catchAll:g,liveMode:E,onLiveEvent:f,options:y}},i),"RefineContextProvider"),Qi=l(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:o,reactQueryDevtoolConfig:i,syncWithLocation:n,undoableTimeout:u,warnWhenUnsavedChanges:c}={})=>{var d,p,v,b,s,g,E,f;let y={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??Le.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??Le.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??n??Le.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??c??Le.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Le.liveMode,redirect:{afterCreate:((d=e==null?void 0:e.redirect)==null?void 0:d.afterCreate)??Le.redirect.afterCreate,afterClone:((p=e==null?void 0:e.redirect)==null?void 0:p.afterClone)??Le.redirect.afterClone,afterEdit:((v=e==null?void 0:e.redirect)==null?void 0:v.afterEdit)??Le.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Le.overtime,textTransformers:{humanize:((b=e==null?void 0:e.textTransformers)==null?void 0:b.humanize)??Le.textTransformers.humanize,plural:((s=e==null?void 0:e.textTransformers)==null?void 0:s.plural)??Le.textTransformers.plural,singular:((g=e==null?void 0:e.textTransformers)==null?void 0:g.singular)??Le.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Le.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},m=(e==null?void 0:e.disableTelemetry)??t??!1,C={clientConfig:((E=e==null?void 0:e.reactQuery)==null?void 0:E.clientConfig)??o??{},devtoolConfig:((f=e==null?void 0:e.reactQuery)==null?void 0:f.devtoolConfig)??i??{}};return{optionsWithDefaults:y,disableTelemetryWithDefault:m,reactQueryWithDefaults:C}},"handleRefineOptions"),Wi=l(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),Sa=l(async(e,t,r)=>{let a=[];for(let[o,i]of e.entries())try{let n=await i();a.push(t(n,o))}catch(n){a.push(r(n,o))}return a},"sequentialPromises"),Pe=l((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(i=>Xe(i.route??"")===Xe(e))||t.find(i=>i.name===e);let a=t.find(o=>o.identifier===e);return a||(a=t.find(o=>o.name===e)),a},"pickResource"),V=l((e,t,r)=>{if(t)return t;let a=Pe(e,r),o=U(a==null?void 0:a.meta,a==null?void 0:a.options);return o!=null&&o.dataProviderName?o.dataProviderName:"default"},"pickDataProvider"),er=l(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),Wo=l(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,o=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/o);return a<i?Number(a)+1:void 0},"getNextPageParam"),zo=l(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),Ho=l(e=>{let t=[];return e.forEach(r=>{var a,o;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((o=r.options)==null?void 0:o.label),route:Io(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),zi=l(e=>bt(Xe(e)).flatMap(t=>Kr(t)?[t.slice(1)]:[]),"pickRouteParams"),Hi=l((e,t={})=>e.reduce((r,a)=>{let o=t[a];return typeof o<"u"&&(r[a]=o),r},{}),"prepareRouteParams"),Ne=l((e,t={},r={},a={})=>{let o=zi(e),i=Hi(o,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(n,u)=>{let c=i[u];return typeof c<"u"?`${c}`:n})},"composeRoute"),Ct=K(P("react")),Bo=Ct.default.createContext({}),Bi=l(({children:e,isProvided:t,...r})=>{let{replace:a}=$e(),o=l(async c=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,c))}catch(p){return Promise.reject(p)}},"loginFunc"),i=l(async c=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,c))}catch(p){return Promise.reject(p)}},"registerFunc"),n=l(async c=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,c))}catch(p){return Promise.reject(p)}},"logoutFunc"),u=l(async c=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,c)),Promise.resolve()}catch(p){return p!=null&&p.redirectPath&&a(p.redirectPath),Promise.reject(p)}},"checkAuthFunc");return Ct.default.createElement(Bo.Provider,{value:{...r,login:o,logout:n,checkAuth:u,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),jo=Ct.default.createContext({}),ji=l(({children:e,isProvided:t,...r})=>{let a=l(async d=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,d))}catch(v){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleLogin"),o=l(async d=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,d))}catch(v){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleRegister"),i=l(async d=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,d))}catch(v){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleLogout"),n=l(async d=>{var p;try{let v=await((p=r.check)==null?void 0:p.call(r,d));return Promise.resolve(v)}catch(v){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleCheck"),u=l(async d=>{var p;try{let v=await((p=r.forgotPassword)==null?void 0:p.call(r,d));return Promise.resolve(v)}catch(v){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleForgotPassword"),c=l(async d=>{var p;try{let v=await((p=r.updatePassword)==null?void 0:p.call(r,d));return Promise.resolve(v)}catch(v){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleUpdatePassword");return Ct.default.createElement(jo.Provider,{value:{...r,login:a,logout:i,check:n,register:o,forgotPassword:u,updatePassword:c,isProvided:t}},e)},"AuthBindingsContextProvider"),Ae=l(()=>Ct.default.useContext(Bo),"useLegacyAuthContext"),ze=l(()=>Ct.default.useContext(jo),"useAuthBindingsContext"),ge=l(()=>{let e=Ae(),t=ze();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),_o=l(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",o=(t==null?void 0:t.mode)??a,i=U(t==null?void 0:t.current,r==null?void 0:r.current)??1,n=U(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:n,mode:o}},"handlePaginationParams"),Fa=P("react"),qa=l(e=>{let[t,r]=(0,Fa.useState)(!1);return(0,Fa.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let o=l(()=>r(a.matches),"listener");return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[t,e]),t},"useMediaQuery"),gr=l((e,t,r,a)=>{let o=a?e(t,a,r):e(t,r);return o===t||typeof o>"u"?r??t:o},"safeTranslate");function Go(e,t,r,a,o){var i;let n={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},u=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),c=(t==null?void 0:t.label)??((i=t==null?void 0:t.meta)==null?void 0:i.label)??So(u,r==="list"?"plural":"singular"),d=o??c,p=gr(e,"documentTitle.default","refine"),v=gr(e,"documentTitle.suffix"," | refine"),b=p;return r&&u&&(b=gr(e,`documentTitle.${u}.${r}`,`${n[r]??""}${d}${v}`,{id:a})),b}l(Go,"generateDefaultDocumentTitle");var _i=P("react"),wt=l(()=>{let{mutationMode:e,undoableTimeout:t}=(0,_i.useContext)(it);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Da=P("react"),kr=K(P("react")),Xo=kr.default.createContext({}),Gi=l(({children:e})=>{let[t,r]=(0,kr.useState)(!1);return kr.default.createElement(Xo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),Qr=l(()=>{let{warnWhenUnsavedChanges:e}=(0,Da.useContext)(it),{warnWhen:t,setWarnWhen:r}=(0,Da.useContext)(Xo);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),Xi=P("react"),Zo=l(()=>{let{syncWithLocation:e}=(0,Xi.useContext)(it);return{syncWithLocation:e}},"useSyncWithLocation"),Zi=P("react"),Vi=l(()=>{let{Title:e}=(0,Zi.useContext)(it);return e},"useTitle"),Ji=P("react"),be=l(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:o,Title:i,hasDashboard:n,mutationMode:u,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:p,DashboardPage:v,LoginPage:b,catchAll:s,options:g,__initialized:E}=(0,Ji.useContext)(it);return{__initialized:E,Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:o,Title:i,hasDashboard:n,mutationMode:u,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:p,DashboardPage:v,LoginPage:b,catchAll:s,options:g}},"useRefineContext"),Wr=l(()=>{let{options:{textTransformers:e}}=be();return l((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),Ma=l(e=>typeof e=="object"&&e!==null,"isNested"),Yi=l(e=>Array.isArray(e),"isArray"),Or=l((e,t="")=>Ma(e)?Object.keys(e).reduce((r,a)=>{let o=t.length?`${t}.`:"";return Ma(e[a])&&Object.keys(e[a]).length&&(Yi(e[a])&&e[a].length?e[a].forEach((i,n)=>{Object.assign(r,Or(i,`${o+a}.${n}`))}):Object.assign(r,Or(e[a],o+a))),r[o+a]=e[a],r},{}):{[t]:e},"flattenObjectKeys"),el=l(e=>e.split(".").map(t=>Number.isNaN(Number(t))?t:Number(t)),"propertyPathToArray"),tl=l((e,t,r)=>{if(typeof window>"u")return;let a=new Blob([t],{type:r}),o=document.createElement("a");o.setAttribute("visibility","hidden"),o.download=e;let i=URL.createObjectURL(a);o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout(()=>{URL.revokeObjectURL(i)})},"downloadInBrowser"),zr=l(e=>{let{current:t,pageSize:r,sorter:a,sorters:o,filters:i}=Ir.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:U(o,a)??[],parsedFilters:i??[]}},"parseTableParams"),rl=l(e=>{let t=Ir.default.stringify(e);return zr(`/${t}`)},"parseTableParamsFromQuery"),Nr=l(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:o,filters:i,...n}=e;return Ir.default.stringify({...n,...r||{},sorters:U(o,a),filters:i},t)},"stringifyTableParams"),Vo=l((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)===("field"in t?t.field:void 0)&&e.operator===t.operator:("key"in e?e.key:void 0)===("key"in t?t.key:void 0)&&e.operator===t.operator,"compareFilters"),Jo=l((e,t)=>e.field===t.field,"compareSorters"),Dt=l((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,Fi.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,wo.default)(e,t,r,Vo).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),Tr=l((e,t)=>(0,wo.default)(e,t,Jo).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Ar=l((e,t)=>[...(0,Lo.default)(t,e,Vo),...e],"setInitialFilters"),Rr=l((e,t)=>[...(0,Lo.default)(t,e,Jo),...e],"setInitialSorters"),al=l((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),ol=l((e,t,r="eq")=>{let a=t==null?void 0:t.find(o=>{if(o.operator!=="or"&&o.operator!=="and"&&"field"in o){let{operator:i,field:n}=o;return n===e&&i===r}});if(a)return a.value||[]},"getDefaultFilter"),nl=l(e=>new Promise((t,r)=>{let a=new FileReader,o=l(()=>{a.result&&(a.removeEventListener("load",o,!1),t(a.result))},"resultHandler");a.addEventListener("load",o,!1),a.readAsDataURL(e.originFileObj),a.onerror=i=>(a.removeEventListener("load",o,!1),r(i))}),"file2Base64"),re=l(()=>{let{options:{useNewQueryKeys:e}}=be();return{keys:at,preferLegacyKeys:!e}},"useKeys");function Yo({v3LegacyAuthProviderCompatible:e=!1,options:t,params:r}={}){let{getPermissions:a}=Ae(),{getPermissions:o}=ze(),{keys:i,preferLegacyKeys:n}=re(),u=(0,Ca.useQuery)({queryKey:i().auth().action("permissions").get(n),queryFn:o?()=>o(r):()=>Promise.resolve(void 0),enabled:!e&&!!o,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,wa.getXRay)("usePermissions",n)}}),c=(0,Ca.useQuery)({queryKey:[...i().auth().action("permissions").get(n),"v3LegacyAuthProviderCompatible"],queryFn:a?()=>a(r):()=>Promise.resolve(void 0),enabled:e&&!!a,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,wa.getXRay)("usePermissions",n)}});return e?c:u}l(Yo,"usePermissions");var ka=P("@tanstack/react-query"),Oa=te();function Hr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Ae(),{getIdentity:a}=ze(),{keys:o,preferLegacyKeys:i}=re(),n=(0,ka.useQuery)({queryKey:o().auth().action("identity").get(i),queryFn:a??(()=>Promise.resolve({})),enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Oa.getXRay)("useGetIdentity",i)}}),u=(0,ka.useQuery)({queryKey:[...o().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve({})),enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Oa.getXRay)("useGetIdentity",i)}});return e?u:n}l(Hr,"useGetIdentity");var Na=P("@tanstack/react-query"),Ta=te(),il=P("@tanstack/react-query"),Br=l(()=>{let e=(0,il.useQueryClient)(),{keys:t,preferLegacyKeys:r}=re();return l(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function Vt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Br(),a=ye(),o=Re(),{push:i}=$e(),{open:n,close:u}=lt(),{logout:c}=Ae(),{logout:d}=ze(),{keys:p,preferLegacyKeys:v}=re(),b=(0,Na.useMutation)({mutationKey:p().auth().action("logout").get(v),mutationFn:d,onSuccess:async(g,E)=>{let{success:f,error:y,redirectTo:m,successNotification:C}=g,{redirectPath:w}=E??{},N=w??m;f&&(u==null||u("useLogout-error"),C&&(n==null||n(ll(C)))),(y||!f)&&(n==null||n(yr(y))),N!==!1&&(a==="legacy"?i(N??"/login"):N&&o({to:N})),await r()},onError:g=>{n==null||n(yr(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ta.getXRay)("useLogout",v)}}),s=(0,Na.useMutation)({mutationKey:[...p().auth().action("logout").get(v),"v3LegacyAuthProviderCompatible"],mutationFn:c,onSuccess:async(g,E)=>{let f=(E==null?void 0:E.redirectPath)??g;if(f!==!1){if(f){a==="legacy"?i(f):o({to:f});return}a==="legacy"?i("/login"):o({to:"/login"}),await r()}},onError:g=>{n==null||n(yr(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ta.getXRay)("useLogout",v)}});return e?s:b}l(Vt,"useLogout");var yr=l(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),ll=l(e=>({message:e.message,description:e.description,key:"logout-success",type:"success"}),"buildSuccessNotification"),sl=K(P("react")),Aa=P("@tanstack/react-query"),Ra=te(),ul=K(P("qs"));function tr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Br(),a=ye(),o=Re(),{replace:i}=$e(),n=He(),{useLocation:u}=Oe(),{search:c}=u(),{close:d,open:p}=lt(),{login:v}=Ae(),{login:b}=ze(),{keys:s,preferLegacyKeys:g}=re(),E=sl.default.useMemo(()=>{var m;return a==="legacy"?ul.default.parse(c,{ignoreQueryPrefix:!0}).to:(m=n.params)==null?void 0:m.to},[a,n.params,c]),f=(0,Aa.useMutation)({mutationKey:s().auth().action("login").get(g),mutationFn:b,onSuccess:async({success:m,redirectTo:C,error:w,successNotification:N})=>{m&&(d==null||d("login-error"),N&&(p==null||p(dl(N)))),(w||!m)&&(p==null||p(hr(w))),E&&m?a==="legacy"?i(E):o({to:E,type:"replace"}):C?a==="legacy"?i(C):o({to:C,type:"replace"}):a==="legacy"&&i("/"),await r()},onError:m=>{p==null||p(hr(m))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ra.getXRay)("useLogin",g)}}),y=(0,Aa.useMutation)({mutationKey:[...s().auth().action("login").get(g),"v3LegacyAuthProviderCompatible"],mutationFn:v,onSuccess:async m=>{E&&i(E),m!==!1&&!E&&(typeof m=="string"?a==="legacy"?i(m):o({to:m,type:"replace"}):a==="legacy"?i("/"):o({to:"/",type:"replace"})),await r(),d==null||d("login-error")},onError:m=>{p==null||p(hr(m))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ra.getXRay)("useLogin",g)}});return e?y:f}l(tr,"useLogin");var hr=l(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),dl=l(e=>({message:e.message,description:e.description,key:"login-success",type:"success"}),"buildSuccessNotification"),$a=P("@tanstack/react-query"),Ia=te();function jr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Br(),a=ye(),o=Re(),{replace:i}=$e(),{register:n}=Ae(),{register:u}=ze(),{close:c,open:d}=lt(),{keys:p,preferLegacyKeys:v}=re(),b=(0,$a.useMutation)({mutationKey:p().auth().action("register").get(v),mutationFn:u,onSuccess:async({success:g,redirectTo:E,error:f,successNotification:y})=>{g&&(c==null||c("register-error"),y&&(d==null||d(cl(y)))),(f||!g)&&(d==null||d(Er(f))),E?a==="legacy"?i(E):o({to:E,type:"replace"}):a==="legacy"&&i("/"),await r()},onError:g=>{d==null||d(Er(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ia.getXRay)("useRegister",v)}}),s=(0,$a.useMutation)({mutationKey:[...p().auth().action("register").get(v),"v3LegacyAuthProviderCompatible"],mutationFn:n,onSuccess:async g=>{g!==!1&&(g?a==="legacy"?i(g):o({to:g,type:"replace"}):a==="legacy"?i("/"):o({to:"/",type:"replace"}),await r(),c==null||c("register-error"))},onError:g=>{d==null||d(Er(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ia.getXRay)("useRegister",v)}});return e?s:b}l(jr,"useRegister");var Er=l(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),cl=l(e=>({message:e.message,description:e.description,key:"register-success",type:"success"}),"buildSuccessNotification"),Ua=P("@tanstack/react-query"),Ka=te();function _r({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ye(),a=Re(),{replace:o}=$e(),{forgotPassword:i}=Ae(),{forgotPassword:n}=ze(),{close:u,open:c}=lt(),{keys:d,preferLegacyKeys:p}=re(),v=(0,Ua.useMutation)({mutationKey:d().auth().action("forgotPassword").get(p),mutationFn:n,onSuccess:({success:s,redirectTo:g,error:E,successNotification:f})=>{s&&(u==null||u("forgot-password-error"),f&&(c==null||c(ml(f)))),(E||!s)&&(c==null||c(Pr(E))),g&&(r==="legacy"?o(g):a({to:g,type:"replace"}))},onError:s=>{c==null||c(Pr(s))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ka.getXRay)("useForgotPassword",p)}}),b=(0,Ua.useMutation)({mutationKey:[...d().auth().action("forgotPassword").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:i,onSuccess:s=>{s!==!1&&s&&(r==="legacy"?o(s):a({to:s,type:"replace"})),u==null||u("forgot-password-error")},onError:s=>{c==null||c(Pr(s))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ka.getXRay)("useForgotPassword",p)}});return e?b:v}l(_r,"useForgotPassword");var Pr=l(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),ml=l(e=>({message:e.message,description:e.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification"),pl=K(P("react")),Qa=P("@tanstack/react-query"),Wa=te(),fl=K(P("qs"));function Gr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ye(),a=Re(),{replace:o}=$e(),{updatePassword:i}=Ae(),{updatePassword:n}=ze(),{close:u,open:c}=lt(),{keys:d,preferLegacyKeys:p}=re(),v=He(),{useLocation:b}=Oe(),{search:s}=b(),g=pl.default.useMemo(()=>r==="legacy"?fl.default.parse(s,{ignoreQueryPrefix:!0})??{}:v.params??{},[s,v,r]),E=(0,Qa.useMutation)({mutationKey:d().auth().action("updatePassword").get(p),mutationFn:async y=>n==null?void 0:n({...g,...y}),onSuccess:({success:y,redirectTo:m,error:C,successNotification:w})=>{y&&(u==null||u("update-password-error"),w&&(c==null||c(vl(w)))),(C||!y)&&(c==null||c(br(C))),m&&(r==="legacy"?o(m):a({to:m,type:"replace"}))},onError:y=>{c==null||c(br(y))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Wa.getXRay)("useUpdatePassword",p)}}),f=(0,Qa.useMutation)({mutationKey:[...d().auth().action("updatePassword").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:async y=>i==null?void 0:i({...g,...y}),onSuccess:y=>{y!==!1&&y&&(r==="legacy"?o(y):a({to:y,type:"replace"})),u==null||u("update-password-error")},onError:y=>{c==null||c(br(y))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Wa.getXRay)("useUpdatePassword",p)}});return e?f:E}l(Gr,"useUpdatePassword");var br=l(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),vl=l(e=>({message:e.message,description:e.description,key:"update-password-success",type:"success"}),"buildSuccessNotification"),za=P("@tanstack/react-query"),Ha=te();function rr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Ae(),{check:a}=ze(),{keys:o,preferLegacyKeys:i}=re(),n=(0,za.useQuery)({queryKey:o().auth().action("check").params(t).get(i),queryFn:async()=>await(a==null?void 0:a(t))??{},retry:!1,enabled:!e,meta:{...(0,Ha.getXRay)("useIsAuthenticated",i)}}),u=(0,za.useQuery)({queryKey:[...o().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(r==null?void 0:r(t))??{},retry:!1,enabled:e,meta:{...(0,Ha.getXRay)("useIsAuthenticated",i)}});return e?u:n}l(rr,"useIsAuthenticated");var gl=rr,Ba=P("@tanstack/react-query"),ja=te();function xe({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ye(),r=Re(),{replace:a}=$e(),{checkError:o}=Ae(),{onError:i}=ze(),{keys:n,preferLegacyKeys:u}=re(),{mutate:c}=Vt({v3LegacyAuthProviderCompatible:!!e}),{mutate:d}=Vt({v3LegacyAuthProviderCompatible:!!e}),p=(0,Ba.useMutation)({mutationKey:n().auth().action("onError").get(u),mutationFn:i,onSuccess:({logout:b,redirectTo:s})=>{if(b){d({redirectPath:s});return}if(s){t==="legacy"?a(s):r({to:s,type:"replace"});return}},meta:{...(0,ja.getXRay)("useOnError",u)}}),v=(0,Ba.useMutation)({mutationKey:[...n().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],mutationFn:o,onError:b=>{c({redirectPath:b})},meta:{...(0,ja.getXRay)("useOnError",u)}});return e?v:p}l(xe,"useOnError");var yl=xe,en=l(()=>{let{isProvided:e}=Ae(),{isProvided:t}=ze();return!!(t||e)},"useIsExistAuthentication"),hl=te(),El=P("@tanstack/react-query"),Cr=P("react"),Ee=l(({isLoading:e,interval:t,onInterval:r})=>{let[a,o]=(0,Cr.useState)(void 0),{options:i}=be(),{overtime:n}=i,u=t??n.interval,c=r??(n==null?void 0:n.onInterval);return(0,Cr.useEffect)(()=>{let d;return e&&(d=setInterval(()=>{o(p=>p===void 0?u:p+u)},u)),()=>{clearInterval(d),o(void 0)}},[e,u]),(0,Cr.useEffect)(()=>{c&&a&&c(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),Xr=l(({resource:e,config:t,filters:r,hasPagination:a,pagination:o,sorters:i,queryOptions:n,successNotification:u,errorNotification:c,meta:d,metaData:p,liveMode:v,onLiveEvent:b,liveParams:s,dataProviderName:g,overtimeOptions:E}={})=>{let{resources:f,resource:y,identifier:m}=J(e),C=Ce(),w=oe(),N=ge(),{mutate:L}=xe({v3LegacyAuthProviderCompatible:!!(N!=null&&N.isLegacy)}),h=ke(),D=ce(),{keys:F,preferLegacyKeys:q}=re(),O=V(m,g,f),S=U(d,p),x=U(r,t==null?void 0:t.filters),T=U(i,t==null?void 0:t.sort),k=U(a,t==null?void 0:t.hasPagination),R=_o({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:k}),M=R.mode==="server",W=D({resource:y,meta:S}),H={meta:W,metaData:W,filters:x,hasPagination:M,pagination:R,sorters:T,config:{...t,sort:T}},I=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,{getList:B}=C(O);Tt({resource:m,types:["*"],params:{meta:W,metaData:W,pagination:R,hasPagination:M,sort:T,sorters:T,filters:x,subscriptionType:"useList",...s},channel:`resources/${y==null?void 0:y.name}`,enabled:I,liveMode:v,onLiveEvent:b,dataProviderName:O,meta:{...d,dataProviderName:g}});let Q=(0,El.useQuery)({queryKey:F().data(O).resource(m??"").action("list").params({...S||{},filters:x,hasPagination:M,...M&&{pagination:R},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(q),queryFn:({queryKey:$,pageParam:_,signal:G})=>B({resource:(y==null?void 0:y.name)??"",pagination:R,hasPagination:M,filters:x,sort:T,sorters:T,meta:{...W,queryContext:{queryKey:$,pageParam:_,signal:G}},metaData:{...W,queryContext:{queryKey:$,pageParam:_,signal:G}}}),...n,enabled:typeof(n==null?void 0:n.enabled)<"u"?n==null?void 0:n.enabled:!!(y!=null&&y.name),select:$=>{var _;let G=$,{current:me,mode:he,pageSize:X}=R;return he==="client"&&(G={...G,data:G.data.slice((me-1)*X,me*X),total:G.total}),n!=null&&n.select?(_=n==null?void 0:n.select)==null?void 0:_.call(n,G):G},onSuccess:$=>{var _;(_=n==null?void 0:n.onSuccess)==null||_.call(n,$);let G=typeof u=="function"?u($,H,m):u;h(G)},onError:$=>{var _;L($),(_=n==null?void 0:n.onError)==null||_.call(n,$);let G=typeof c=="function"?c($,H,m):c;h(G,{key:`${m}-useList-notification`,message:w("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},meta:{...n==null?void 0:n.meta,...(0,hl.getXRay)("useList",q)}}),{elapsedTime:j}=Ee({isLoading:Q.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...Q,overtime:{elapsedTime:j}}},"useList"),Pl=te(),bl=P("@tanstack/react-query"),Zr=l(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:o,meta:i,metaData:n,liveMode:u,onLiveEvent:c,liveParams:d,dataProviderName:p,overtimeOptions:v})=>{let{resources:b,resource:s,identifier:g}=J(e),E=Ce(),f=oe(),y=ge(),{mutate:m}=xe({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),C=ke(),w=ce(),{keys:N,preferLegacyKeys:L}=re(),h=U(i,n),D=V(g,p,b),{getOne:F}=E(D),q=w({resource:s,meta:h});Tt({resource:g,types:["*"],channel:`resources/${s==null?void 0:s.name}`,params:{ids:t?[t]:[],id:t,meta:q,metaData:q,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(s==null?void 0:s.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:c,dataProviderName:D,meta:{...i,dataProviderName:p}});let O=(0,bl.useQuery)({queryKey:N().data(D).resource(g??"").action("one").id(t??"").params({...h||{}}).get(L),queryFn:({queryKey:x,pageParam:T,signal:k})=>F({resource:(s==null?void 0:s.name)??"",id:t,meta:{...q,queryContext:{queryKey:x,pageParam:T,signal:k}},metaData:{...q,queryContext:{queryKey:x,pageParam:T,signal:k}}}),...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:x=>{var T;(T=r==null?void 0:r.onSuccess)==null||T.call(r,x);let k=typeof a=="function"?a(x,{id:t,...q},g):a;C(k)},onError:x=>{var T;m(x),(T=r==null?void 0:r.onError)==null||T.call(r,x);let k=typeof o=="function"?o(x,{id:t,...q},g):o;C(k,{key:`${t}-${g}-getOne-notification`,message:f("notifications.error",{statusCode:x.statusCode},`Error (status code: ${x.statusCode})`),description:x.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Pl.getXRay)("useOne",L)}}),{elapsedTime:S}=Ee({isLoading:O.isFetching,interval:v==null?void 0:v.interval,onInterval:v==null?void 0:v.onInterval});return{...O,overtime:{elapsedTime:S}}},"useOne"),Cl=te(),wl=P("@tanstack/react-query"),tn=l(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:o,meta:i,metaData:n,liveMode:u,onLiveEvent:c,liveParams:d,dataProviderName:p,overtimeOptions:v})=>{let{resources:b,resource:s,identifier:g}=J(e),E=Ce(),f=oe(),y=ge(),{mutate:m}=xe({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),C=ke(),w=ce(),{keys:N,preferLegacyKeys:L}=re(),h=U(i,n),D=V(g,p,b),F=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:q,getOne:O}=E(D),S=w({resource:s,meta:h});Tt({resource:g,types:["*"],params:{ids:t,meta:S,metaData:S,subscriptionType:"useMany",...d},channel:`resources/${s.name}`,enabled:F,liveMode:u,onLiveEvent:c,dataProviderName:D,meta:{...i,dataProviderName:p}});let x=(0,wl.useQuery)({queryKey:N().data(D).resource(g).action("many").ids(...t).params({...h||{}}).get(L),queryFn:({queryKey:k,pageParam:R,signal:M})=>q?q({resource:s==null?void 0:s.name,ids:t,meta:{...S,queryContext:{queryKey:k,pageParam:R,signal:M}},metaData:{...S,queryContext:{queryKey:k,pageParam:R,signal:M}}}):er(t.map(W=>O({resource:s==null?void 0:s.name,id:W,meta:{...S,queryContext:{queryKey:k,pageParam:R,signal:M}},metaData:{...S,queryContext:{queryKey:k,pageParam:R,signal:M}}}))),...r,onSuccess:k=>{var R;(R=r==null?void 0:r.onSuccess)==null||R.call(r,k);let M=typeof a=="function"?a(k,t,g):a;C(M)},onError:k=>{var R;m(k),(R=r==null?void 0:r.onError)==null||R.call(r,k);let M=typeof o=="function"?o(k,t,g):o;C(M,{key:`${t[0]}-${g}-getMany-notification`,message:f("notifications.error",{statusCode:k.statusCode},`Error (status code: ${k.statusCode})`),description:k.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Cl.getXRay)("useMany",L)}}),{elapsedTime:T}=Ee({isLoading:x.isFetching,interval:v==null?void 0:v.interval,onInterval:v==null?void 0:v.onInterval});return{...x,overtime:{elapsedTime:T}}},"useMany"),Ll=te(),_a=P("@tanstack/react-query"),Xt=K(P("react")),wr=K(P("lodash/isEqual")),rn=Xt.default.createContext({notifications:[],notificationDispatch:()=>!1}),xl=[],Sl=l((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,wr.default)(r.id,t.payload.id)&&r.resource===t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,wr.default)(r.id,t.payload.id)&&r.resource===t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,wr.default)(r.id,t.payload.id)&&r.resource===t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),Fl=l(({children:e})=>{let[t,r]=(0,Xt.useReducer)(Sl,xl),a={notifications:t,notificationDispatch:r};return Xt.default.createElement(rn.Provider,{value:a},e,typeof window<"u"&&t.map(o=>Xt.default.createElement(Fn,{key:`${o.id}-${o.resource}-queue`,notification:o})))},"UndoableQueueContextProvider"),$r=l(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=J(),o=(0,_a.useQueryClient)(),i=Ce(),{mutationMode:n,undoableTimeout:u}=wt(),c=oe(),d=ge(),{mutate:p}=xe({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),v=pt(),{log:b}=vt(),{notificationDispatch:s}=Lt(),g=ke(),E=Ve(),f=ce(),{options:{textTransformers:y}}=be(),{keys:m,preferLegacyKeys:C}=re(),w=(0,_a.useMutation)({mutationFn:({id:L,values:h,resource:D,mutationMode:F,undoableTimeout:q,onCancel:O,meta:S,metaData:x,dataProviderName:T})=>{let{resource:k,identifier:R}=a(D),M=f({resource:k,meta:U(S,x)}),W=F??n,H=q??u;return W!=="undoable"?i(V(R,T,r)).update({resource:k.name,id:L,variables:h,meta:M,metaData:M}):new Promise((I,B)=>{let Q=l(()=>{i(V(R,T,r)).update({resource:k.name,id:L,variables:h,meta:M,metaData:M}).then($=>I($)).catch($=>B($))},"doMutation"),j=l(()=>{B({message:"mutationCancelled"})},"cancelMutation");O&&O(j),s({type:"ADD",payload:{id:L,resource:R,cancelMutation:j,doMutation:Q,seconds:H,isSilent:!!O}})})},onMutate:async({resource:L,id:h,mutationMode:D,values:F,dataProviderName:q,meta:O,metaData:S,optimisticUpdateMap:x={list:!0,many:!0,detail:!0}})=>{let{identifier:T}=a(L),{gqlMutation:k,gqlQuery:R,...M}=U(O,S)??{},W=Yt(C)(T,V(T,q,r),M),H=m().data(V(T,q,r)).resource(T),I=o.getQueriesData(H.get(C)),B=D??n;return await o.cancelQueries(H.get(C),void 0,{silent:!0}),B!=="pessimistic"&&(x.list&&o.setQueriesData(H.action("list").params(M??{}).get(C),Q=>{if(typeof x.list=="function")return x.list(Q,F,h);if(!Q)return null;let j=Q.data.map($=>{var _;return((_=$.id)==null?void 0:_.toString())===(h==null?void 0:h.toString())?{id:h,...$,...F}:$});return{...Q,data:j}}),x.many&&o.setQueriesData(H.action("many").get(C),Q=>{if(typeof x.many=="function")return x.many(Q,F,h);if(!Q)return null;let j=Q.data.map($=>{var _;return((_=$.id)==null?void 0:_.toString())===(h==null?void 0:h.toString())&&($={id:h,...$,...F}),$});return{...Q,data:j}}),x.detail&&o.setQueriesData(H.action("one").id(h).params(M??{}).get(C),Q=>typeof x.detail=="function"?x.detail(Q,F,h):Q?{...Q,data:{...Q.data,...F}}:null)),{previousQueries:I,queryKey:W}},onSettled:(L,h,{id:D,resource:F,dataProviderName:q,invalidates:O=["list","many","detail"]})=>{let{identifier:S}=a(F);E({resource:S,dataProviderName:V(S,q,r),invalidates:O,id:D}),s({type:"REMOVE",payload:{id:D,resource:S}})},onSuccess:(L,{id:h,resource:D,successNotification:F,dataProviderName:q,values:O,meta:S,metaData:x},T)=>{var k;let{resource:R,identifier:M}=a(D),W=y.singular(M),H=V(M,q,r),I=f({resource:R,meta:U(S,x)}),B=typeof F=="function"?F(L,{id:h,values:O},M):F;g(B,{key:`${h}-${M}-notification`,description:c("notifications.success","Successful"),message:c("notifications.editSuccess",{resource:c(`${M}.${M}`,W)},`Successfully updated ${W}`),type:"success"}),v==null||v({channel:`resources/${R.name}`,type:"updated",payload:{ids:(k=L.data)!=null&&k.id?[L.data.id]:void 0},date:new Date,meta:{...I,dataProviderName:H}});let Q;if(T){let me=o.getQueryData(T.queryKey.detail(h));Q=Object.keys(O||{}).reduce((he,X)=>{var ae;return he[X]=(ae=me==null?void 0:me.data)==null?void 0:ae[X],he},{})}let{fields:j,operation:$,variables:_,...G}=I||{};b==null||b.mutate({action:"update",resource:R.name,data:O,previousData:Q,meta:{id:h,dataProviderName:H,...G}})},onError:(L,{id:h,resource:D,errorNotification:F,values:q},O)=>{let{identifier:S}=a(D);if(O)for(let x of O.previousQueries)o.setQueryData(x[0],x[1]);if(L.message!=="mutationCancelled"){p==null||p(L);let x=y.singular(S),T=typeof F=="function"?F(L,{id:h,values:q},S):F;g(T,{key:`${h}-${S}-notification`,message:c("notifications.editError",{resource:c(`${S}.${S}`,x),statusCode:L.statusCode},`Error when updating ${x} (status code: ${L.statusCode})`),description:L.message,type:"error"})}},mutationKey:m().data().mutation("update").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,Ll.getXRay)("useUpdate",C)}}),{elapsedTime:N}=Ee({isLoading:w.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...w,overtime:{elapsedTime:N}}},"useUpdate"),ql=te(),Dl=P("@tanstack/react-query"),Vr=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ge(),{mutate:a}=xe({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=Ce(),i=Ve(),{resources:n,select:u}=J(),c=oe(),d=pt(),{log:p}=vt(),v=ke(),b=ce(),{options:{textTransformers:s}}=be(),{keys:g,preferLegacyKeys:E}=re(),f=(0,Dl.useMutation)({mutationFn:({resource:m,values:C,meta:w,metaData:N,dataProviderName:L})=>{let{resource:h,identifier:D}=u(m),F=b({resource:h,meta:U(w,N)});return o(V(D,L,n)).create({resource:h.name,variables:C,meta:F,metaData:F})},onSuccess:(m,{resource:C,successNotification:w,dataProviderName:N,invalidates:L=["list","many"],values:h,meta:D,metaData:F})=>{var q,O;let{resource:S,identifier:x}=u(C),T=s.singular(x),k=V(x,N,n),R=b({resource:S,meta:U(D,F)}),M=typeof w=="function"?w(m,h,x):w;v(M,{key:`create-${x}-notification`,message:c("notifications.createSuccess",{resource:c(`${x}.${x}`,T)},`Successfully created ${T}`),description:c("notifications.success","Success"),type:"success"}),i({resource:x,dataProviderName:k,invalidates:L}),d==null||d({channel:`resources/${S.name}`,type:"created",payload:{ids:(q=m==null?void 0:m.data)!=null&&q.id?[m.data.id]:void 0},date:new Date,meta:{...R,dataProviderName:k}});let{fields:W,operation:H,variables:I,...B}=R||{};p==null||p.mutate({action:"create",resource:S.name,data:h,meta:{dataProviderName:k,id:((O=m==null?void 0:m.data)==null?void 0:O.id)??void 0,...B}})},onError:(m,{resource:C,errorNotification:w,values:N})=>{a(m);let{identifier:L}=u(C),h=s.singular(L),D=typeof w=="function"?w(m,N,L):w;v(D,{key:`create-${L}-notification`,description:m.message,message:c("notifications.createError",{resource:c(`${L}.${L}`,h),statusCode:m.statusCode},`There was an error creating ${h} (status code: ${m.statusCode})`),type:"error"})},mutationKey:g().data().mutation("create").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,ql.getXRay)("useCreate",E)}}),{elapsedTime:y}=Ee({isLoading:f.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...f,overtime:{elapsedTime:y}}},"useCreate"),Ml=te(),Ga=P("@tanstack/react-query"),kl=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ge(),{mutate:a}=xe({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=Ce(),{resources:i,select:n}=J(),u=(0,Ga.useQueryClient)(),{mutationMode:c,undoableTimeout:d}=wt(),{notificationDispatch:p}=Lt(),v=oe(),b=pt(),{log:s}=vt(),g=ke(),E=Ve(),f=ce(),{options:{textTransformers:y}}=be(),{keys:m,preferLegacyKeys:C}=re(),w=(0,Ga.useMutation)({mutationFn:({id:L,mutationMode:h,undoableTimeout:D,resource:F,onCancel:q,meta:O,metaData:S,dataProviderName:x,values:T})=>{let{resource:k,identifier:R}=n(F),M=f({resource:k,meta:U(O,S)}),W=h??c,H=D??d;return W!=="undoable"?o(V(R,x,i)).deleteOne({resource:k.name,id:L,meta:M,metaData:M,variables:T}):new Promise((I,B)=>{let Q=l(()=>{o(V(R,x,i)).deleteOne({resource:k.name,id:L,meta:M,metaData:M,variables:T}).then($=>I($)).catch($=>B($))},"doMutation"),j=l(()=>{B({message:"mutationCancelled"})},"cancelMutation");q&&q(j),p({type:"ADD",payload:{id:L,resource:R,cancelMutation:j,doMutation:Q,seconds:H,isSilent:!!q}})})},onMutate:async({id:L,resource:h,mutationMode:D,dataProviderName:F,meta:q,metaData:O})=>{let{identifier:S}=n(h),{gqlMutation:x,gqlQuery:T,...k}=U(q,O)??{},R=Yt(C)(S,V(S,F,i),k),M=m().data(V(S,F,i)).resource(S),W=D??c;await u.cancelQueries(M.get(C),void 0,{silent:!0});let H=u.getQueriesData(M.get(C));return W!=="pessimistic"&&(u.setQueriesData(M.action("list").params(k??{}).get(C),I=>I?{data:I.data.filter(B=>{var Q;return((Q=B.id)==null?void 0:Q.toString())!==L.toString()}),total:I.total-1}:null),u.setQueriesData(M.action("many").get(C),I=>{if(!I)return null;let B=I.data.filter(Q=>{var j;return((j=Q.id)==null?void 0:j.toString())!==(L==null?void 0:L.toString())});return{...I,data:B}})),{previousQueries:H,queryKey:R}},onSettled:(L,h,{id:D,resource:F,dataProviderName:q,invalidates:O=["list","many"]})=>{let{identifier:S}=n(F);E({resource:S,dataProviderName:V(S,q,i),invalidates:O}),p({type:"REMOVE",payload:{id:D,resource:S}})},onSuccess:(L,{id:h,resource:D,successNotification:F,dataProviderName:q,meta:O,metaData:S},x)=>{let{resource:T,identifier:k}=n(D),R=y.singular(k),M=V(k,q,i),W=f({resource:T,meta:U(O,S)});u.removeQueries(x==null?void 0:x.queryKey.detail(h));let H=typeof F=="function"?F(L,h,k):F;g(H,{key:`${h}-${k}-notification`,description:v("notifications.success","Success"),message:v("notifications.deleteSuccess",{resource:v(`${k}.${k}`,R)},`Successfully deleted a ${R}`),type:"success"}),b==null||b({channel:`resources/${T.name}`,type:"deleted",payload:{ids:[h]},date:new Date,meta:{...W,dataProviderName:M}});let{fields:I,operation:B,variables:Q,...j}=W||{};s==null||s.mutate({action:"delete",resource:T.name,meta:{id:h,dataProviderName:M,...j}}),u.removeQueries(x==null?void 0:x.queryKey.detail(h))},onError:(L,{id:h,resource:D,errorNotification:F},q)=>{let{identifier:O}=n(D);if(q)for(let S of q.previousQueries)u.setQueryData(S[0],S[1]);if(L.message!=="mutationCancelled"){a(L);let S=y.singular(O),x=typeof F=="function"?F(L,h,O):F;g(x,{key:`${h}-${O}-notification`,message:v("notifications.deleteError",{resource:S,statusCode:L.statusCode},`Error (status code: ${L.statusCode})`),description:L.message,type:"error"})}},mutationKey:m().data().mutation("delete").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,Ml.getXRay)("useDelete",C)}}),{elapsedTime:N}=Ee({isLoading:w.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...w,overtime:{elapsedTime:N}}},"useDelete"),Ol=te(),Nl=P("@tanstack/react-query"),an=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Ce(),{resources:a,select:o}=J(),i=oe(),n=pt(),u=ke(),c=Ve(),{log:d}=vt(),p=ce(),{options:{textTransformers:v}}=be(),{keys:b,preferLegacyKeys:s}=re(),g=(0,Nl.useMutation)({mutationFn:({resource:f,values:y,meta:m,metaData:C,dataProviderName:w})=>{let{resource:N,identifier:L}=o(f),h=p({resource:N,meta:U(m,C)}),D=r(V(L,w,a));return D.createMany?D.createMany({resource:N.name,variables:y,meta:h,metaData:h}):er(y.map(F=>D.create({resource:N.name,variables:F,meta:h,metaData:h})))},onSuccess:(f,{resource:y,successNotification:m,dataProviderName:C,invalidates:w=["list","many"],values:N,meta:L,metaData:h})=>{let{resource:D,identifier:F}=o(y),q=v.plural(F),O=V(F,C,a),S=p({resource:D,meta:U(L,h)}),x=typeof m=="function"?m(f,N,F):m;u(x,{key:`createMany-${F}-notification`,message:i("notifications.createSuccess",{resource:i(`${F}.${F}`,F)},`Successfully created ${q}`),description:i("notifications.success","Success"),type:"success"}),c({resource:F,dataProviderName:O,invalidates:w});let T=f==null?void 0:f.data.filter(H=>(H==null?void 0:H.id)!==void 0).map(H=>H.id);n==null||n({channel:`resources/${D.name}`,type:"created",payload:{ids:T},date:new Date,meta:{...S,dataProviderName:O}});let{fields:k,operation:R,variables:M,...W}=S||{};d==null||d.mutate({action:"createMany",resource:D.name,data:N,meta:{dataProviderName:O,ids:T,...W}})},onError:(f,{resource:y,errorNotification:m,values:C})=>{let{identifier:w}=o(y),N=typeof m=="function"?m(f,C,w):m;u(N,{key:`createMany-${w}-notification`,description:f.message,message:i("notifications.createError",{resource:i(`${w}.${w}`,w),statusCode:f.statusCode},`There was an error creating ${w} (status code: ${f.statusCode}`),type:"error"})},mutationKey:b().data().mutation("createMany").get(s),...e,meta:{...e==null?void 0:e.meta,...(0,Ol.getXRay)("useCreateMany",s)}}),{elapsedTime:E}=Ee({isLoading:g.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...g,overtime:{elapsedTime:E}}},"useCreateMany"),Tl=te(),Xa=P("@tanstack/react-query"),Al=l(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=J(),o=(0,Xa.useQueryClient)(),i=Ce(),n=oe(),{mutationMode:u,undoableTimeout:c}=wt(),d=ge(),{mutate:p}=xe({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),{notificationDispatch:v}=Lt(),b=pt(),s=ke(),g=Ve(),{log:E}=vt(),f=ce(),{options:{textTransformers:y}}=be(),{keys:m,preferLegacyKeys:C}=re(),w=(0,Xa.useMutation)({mutationFn:({ids:L,values:h,resource:D,onCancel:F,mutationMode:q,undoableTimeout:O,meta:S,metaData:x,dataProviderName:T})=>{let{resource:k,identifier:R}=a(D),M=f({resource:k,meta:U(S,x)}),W=q??u,H=O??c,I=i(V(R,T,r)),B=l(()=>I.updateMany?I.updateMany({resource:k.name,ids:L,variables:h,meta:M,metaData:M}):er(L.map(Q=>I.update({resource:k.name,id:Q,variables:h,meta:M,metaData:M}))),"mutationFn");return W!=="undoable"?B():new Promise((Q,j)=>{let $=l(()=>{B().then(G=>Q(G)).catch(G=>j(G))},"doMutation"),_=l(()=>{j({message:"mutationCancelled"})},"cancelMutation");F&&F(_),v({type:"ADD",payload:{id:L,resource:R,cancelMutation:_,doMutation:$,seconds:H,isSilent:!!F}})})},onMutate:async({resource:L,ids:h,values:D,mutationMode:F,dataProviderName:q,meta:O,metaData:S,optimisticUpdateMap:x={list:!0,many:!0,detail:!0}})=>{let{identifier:T}=a(L),{gqlMutation:k,gqlQuery:R,...M}=U(O,S)??{},W=Yt(C)(T,V(T,q,r),M),H=m().data(V(T,q,r)).resource(T),I=F??u;await o.cancelQueries(H.get(C),void 0,{silent:!0});let B=o.getQueriesData(H.get(C));if(I!=="pessimistic"&&(x.list&&o.setQueriesData(H.action("list").params(M??{}).get(C),Q=>{if(typeof x.list=="function")return x.list(Q,D,h);if(!Q)return null;let j=Q.data.map($=>$.id!==void 0&&h.filter(_=>_!==void 0).map(String).includes($.id.toString())?{...$,...D}:$);return{...Q,data:j}}),x.many&&o.setQueriesData(H.action("many").get(C),Q=>{if(typeof x.many=="function")return x.many(Q,D,h);if(!Q)return null;let j=Q.data.map($=>$.id!==void 0&&h.filter(_=>_!==void 0).map(String).includes($.id.toString())?{...$,...D}:$);return{...Q,data:j}}),x.detail))for(let Q of h)o.setQueriesData(H.action("one").id(Q).params(M??{}).get(C),j=>{if(typeof x.detail=="function")return x.detail(j,D,Q);if(!j)return null;let $={...j.data,...D};return{...j,data:$}});return{previousQueries:B,queryKey:W}},onSettled:(L,h,{ids:D,resource:F,dataProviderName:q})=>{let{identifier:O}=a(F);g({resource:O,invalidates:["list","many"],dataProviderName:V(O,q,r)}),D.forEach(S=>g({resource:O,invalidates:["detail"],dataProviderName:V(O,q,r),id:S})),v({type:"REMOVE",payload:{id:D,resource:O}})},onSuccess:(L,{ids:h,resource:D,meta:F,metaData:q,dataProviderName:O,successNotification:S,values:x},T)=>{let{resource:k,identifier:R}=a(D),M=y.singular(R),W=V(R,O,r),H=f({resource:k,meta:U(F,q)}),I=typeof S=="function"?S(L,{ids:h,values:x},R):S;s(I,{key:`${h}-${R}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${R}.${R}`,R)},`Successfully updated ${M}`),type:"success"}),b==null||b({channel:`resources/${k.name}`,type:"updated",payload:{ids:h.map(String)},date:new Date,meta:{...H,dataProviderName:W}});let B=[];T&&h.forEach(G=>{let me=o.getQueryData(T.queryKey.detail(G));B.push(Object.keys(x||{}).reduce((he,X)=>{var ae;return he[X]=(ae=me==null?void 0:me.data)==null?void 0:ae[X],he},{}))});let{fields:Q,operation:j,variables:$,..._}=H||{};E==null||E.mutate({action:"updateMany",resource:k.name,data:x,previousData:B,meta:{ids:h,dataProviderName:W,..._}})},onError:(L,{ids:h,resource:D,errorNotification:F,values:q},O)=>{let{identifier:S}=a(D);if(O)for(let x of O.previousQueries)o.setQueryData(x[0],x[1]);if(L.message!=="mutationCancelled"){p==null||p(L);let x=y.singular(S),T=typeof F=="function"?F(L,{ids:h,values:q},S):F;s(T,{key:`${h}-${S}-updateMany-error-notification`,message:n("notifications.editError",{resource:x,statusCode:L.statusCode},`Error when updating ${x} (status code: ${L.statusCode})`),description:L.message,type:"error"})}},mutationKey:m().data().mutation("updateMany").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,Tl.getXRay)("useUpdateMany",C)}}),{elapsedTime:N}=Ee({isLoading:w.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...w,overtime:{elapsedTime:N}}},"useUpdateMany"),Rl=te(),Za=P("@tanstack/react-query"),$l=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ge(),{mutate:a}=xe({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:o,undoableTimeout:i}=wt(),n=Ce(),{notificationDispatch:u}=Lt(),c=oe(),d=pt(),p=ke(),v=Ve(),{log:b}=vt(),{resources:s,select:g}=J(),E=(0,Za.useQueryClient)(),f=ce(),{options:{textTransformers:y}}=be(),{keys:m,preferLegacyKeys:C}=re(),w=(0,Za.useMutation)({mutationFn:({resource:L,ids:h,mutationMode:D,undoableTimeout:F,onCancel:q,meta:O,metaData:S,dataProviderName:x,values:T})=>{let{resource:k,identifier:R}=g(L),M=f({resource:k,meta:U(O,S)}),W=D??o,H=F??i,I=n(V(R,x,s)),B=l(()=>I.deleteMany?I.deleteMany({resource:k.name,ids:h,meta:M,metaData:M,variables:T}):er(h.map(Q=>I.deleteOne({resource:k.name,id:Q,meta:M,metaData:M,variables:T}))),"mutationFn");return W!=="undoable"?B():new Promise((Q,j)=>{let $=l(()=>{B().then(G=>Q(G)).catch(G=>j(G))},"doMutation"),_=l(()=>{j({message:"mutationCancelled"})},"cancelMutation");q&&q(_),u({type:"ADD",payload:{id:h,resource:R,cancelMutation:_,doMutation:$,seconds:H,isSilent:!!q}})})},onMutate:async({ids:L,resource:h,mutationMode:D,dataProviderName:F,meta:q,metaData:O})=>{let{identifier:S}=g(h),{gqlMutation:x,gqlQuery:T,...k}=U(q,O)??{},R=Yt(C)(S,V(S,F,s),k),M=m().data(V(S,F,s)).resource(S),W=D??o;await E.cancelQueries(M.get(C),void 0,{silent:!0});let H=E.getQueriesData(M.get(C));if(W!=="pessimistic"){E.setQueriesData(M.action("list").params(k??{}).get(C),I=>I?{data:I.data.filter(B=>B.id&&!L.map(String).includes(B.id.toString())),total:I.total-1}:null),E.setQueriesData(M.action("many").get(C),I=>{if(!I)return null;let B=I.data.filter(Q=>Q.id?!L.map(String).includes(Q.id.toString()):!1);return{...I,data:B}});for(let I of L)E.setQueriesData(M.action("one").id(I).params(k).get(C),B=>!B||B.data.id===I?null:{...B})}return{previousQueries:H,queryKey:R}},onSettled:(L,h,{resource:D,ids:F,dataProviderName:q,invalidates:O=["list","many"]})=>{let{identifier:S}=g(D);v({resource:S,dataProviderName:V(S,q,s),invalidates:O}),u({type:"REMOVE",payload:{id:F,resource:S}})},onSuccess:(L,{ids:h,resource:D,meta:F,metaData:q,dataProviderName:O,successNotification:S},x)=>{let{resource:T,identifier:k}=g(D),R=V(k,O,s),M=f({resource:T,meta:U(F,q)});h.forEach(j=>E.removeQueries(x==null?void 0:x.queryKey.detail(j)));let W=typeof S=="function"?S(L,h,k):S;p(W,{key:`${h}-${k}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${k}.${k}`,k)},`Successfully deleted ${k}`),type:"success"}),d==null||d({channel:`resources/${T.name}`,type:"deleted",payload:{ids:h},date:new Date,meta:{...M,dataProviderName:R}});let{fields:H,operation:I,variables:B,...Q}=M||{};b==null||b.mutate({action:"deleteMany",resource:T.name,meta:{ids:h,dataProviderName:R,...Q}}),h.forEach(j=>E.removeQueries(x==null?void 0:x.queryKey.detail(j)))},onError:(L,{ids:h,resource:D,errorNotification:F},q)=>{let{identifier:O}=g(D);if(q)for(let S of q.previousQueries)E.setQueryData(S[0],S[1]);if(L.message!=="mutationCancelled"){a(L);let S=y.singular(O),x=typeof F=="function"?F(L,h,O):F;p(x,{key:`${h}-${O}-notification`,message:c("notifications.deleteError",{resource:S,statusCode:L.statusCode},`Error (status code: ${L.statusCode})`),description:L.message,type:"error"})}},mutationKey:m().data().mutation("deleteMany").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,Rl.getXRay)("useDeleteMany",C)}}),{elapsedTime:N}=Ee({isLoading:w.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...w,overtime:{elapsedTime:N}}},"useDeleteMany"),Il=l(e=>{var t;let r=Ce(),{resource:a}=J(),{getApiUrl:o}=r(e??((t=U(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return o()},"useApiUrl"),Ul=P("@tanstack/react-query"),Kl=te(),Ql=l(({url:e,method:t,config:r,queryOptions:a,successNotification:o,errorNotification:i,meta:n,metaData:u,dataProviderName:c,overtimeOptions:d})=>{let p=Ce(),v=ge(),{mutate:b}=xe({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),s=oe(),g=ke(),E=ce(),{keys:f,preferLegacyKeys:y}=re(),m=U(n,u),{custom:C}=p(c),w=E({meta:m});if(C){let N=(0,Ul.useQuery)({queryKey:f().data(c).mutation("custom").params({method:t,url:e,...r,...m||{}}).get(y),queryFn:({queryKey:h,pageParam:D,signal:F})=>C({url:e,method:t,...r,meta:{...w,queryContext:{queryKey:h,pageParam:D,signal:F}},metaData:{...w,queryContext:{queryKey:h,pageParam:D,signal:F}}}),...a,onSuccess:h=>{var D;(D=a==null?void 0:a.onSuccess)==null||D.call(a,h);let F=typeof o=="function"?o(h,{...r,...w}):o;g(F)},onError:h=>{var D;b(h),(D=a==null?void 0:a.onError)==null||D.call(a,h);let F=typeof i=="function"?i(h,{...r,...w}):i;g(F,{key:`${t}-notification`,message:s("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Kl.getXRay)("useCustom",y)}}),{elapsedTime:L}=Ee({isLoading:N.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...N,overtime:{elapsedTime:L}}}throw Error("Not implemented custom on data provider.")},"useCustom"),Wl=P("@tanstack/react-query"),zl=te(),Hl=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ge(),{mutate:a}=xe({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=ke(),i=Ce(),n=oe(),u=ce(),{keys:c,preferLegacyKeys:d}=re(),p=(0,Wl.useMutation)(({url:b,method:s,values:g,meta:E,metaData:f,dataProviderName:y,config:m})=>{let C=u({meta:U(E,f)}),{custom:w}=i(y);if(w)return w({url:b,method:s,payload:g,meta:C,metaData:C,headers:{...m==null?void 0:m.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(b,{successNotification:s,config:g,meta:E,metaData:f})=>{let y=typeof s=="function"?s(b,{...g,...U(E,f)||{}}):s;o(y)},onError:(b,{errorNotification:s,method:g,config:E,meta:f,metaData:y})=>{a(b);let m=typeof s=="function"?s(b,{...E,...U(f,y)||{}}):s;o(m,{key:`${g}-notification`,message:n("notifications.error",{statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})},mutationKey:c().data().mutation("customMutation").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,zl.getXRay)("useCustomMutation",d)}}),{elapsedTime:v}=Ee({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:v}}},"useCustomMutation"),Va=P("react"),on=K(P("react")),Bl=l(()=>({}),"defaultDataProvider"),Jr=on.default.createContext(Bl()),jl=l(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},on.default.createElement(Jr.Provider,{value:r},e)},"DataContextProvider"),Ce=l(()=>{let e=(0,Va.useContext)(Jr);return(0,Va.useCallback)(t=>{if(t){if(!(e!=null&&e[t]))throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),_l=te(),Gl=P("@tanstack/react-query"),Xl=l(({resource:e,config:t,filters:r,hasPagination:a,pagination:o,sorters:i,queryOptions:n,successNotification:u,errorNotification:c,meta:d,metaData:p,liveMode:v,onLiveEvent:b,liveParams:s,dataProviderName:g,overtimeOptions:E})=>{let{resources:f,resource:y,identifier:m}=J(e),C=Ce(),w=oe(),N=ge(),{mutate:L}=xe({v3LegacyAuthProviderCompatible:!!(N!=null&&N.isLegacy)}),h=ke(),D=ce(),{keys:F,preferLegacyKeys:q}=re(),O=V(m,g,f),S=U(d,p),x=U(r,t==null?void 0:t.filters),T=U(i,t==null?void 0:t.sort),k=U(a,t==null?void 0:t.hasPagination),R=_o({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:k}),M=R.mode==="server",W={meta:S,metaData:S,filters:x,hasPagination:M,pagination:R,sorters:T,config:{...t,sort:T}},H=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,I=D({resource:y,meta:S}),{getList:B}=C(O);Tt({resource:m,types:["*"],params:{meta:I,metaData:I,pagination:R,hasPagination:M,sort:T,sorters:T,filters:x,subscriptionType:"useList",...s},channel:`resources/${y.name}`,enabled:H,liveMode:v,onLiveEvent:b,dataProviderName:O,meta:{...I,dataProviderName:g}});let Q=(0,Gl.useInfiniteQuery)({queryKey:F().data(O).resource(m).action("infinite").params({...S||{},filters:x,hasPagination:M,...M&&{pagination:R},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(q),queryFn:({queryKey:$,pageParam:_,signal:G})=>{let me={...R,current:_};return B({resource:y.name,pagination:me,hasPagination:M,filters:x,sort:T,sorters:T,meta:{...I,queryContext:{queryKey:$,pageParam:_,signal:G}},metaData:{...I,queryContext:{queryKey:$,pageParam:_,signal:G}}}).then(({data:he,total:X,...ae})=>({data:he,total:X,pagination:me,...ae}))},getNextPageParam:$=>Wo($),getPreviousPageParam:$=>zo($),...n,onSuccess:$=>{var _;(_=n==null?void 0:n.onSuccess)==null||_.call(n,$);let G=typeof u=="function"?u($,W,m):u;h(G)},onError:$=>{var _;L($),(_=n==null?void 0:n.onError)==null||_.call(n,$);let G=typeof c=="function"?c($,W,m):c;h(G,{key:`${m}-useInfiniteList-notification`,message:w("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},meta:{...n==null?void 0:n.meta,...(0,_l.getXRay)("useInfiniteList",q)}}),{elapsedTime:j}=Ee({isLoading:Q.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...Q,overtime:{elapsedTime:j}}},"useInfiniteList"),nn=K(P("react")),kt=nn.default.createContext(void 0),Zl=l(({liveProvider:e,children:t})=>nn.default.createElement(kt.Provider,{value:e},t),"LiveContextProvider"),Vl=P("react"),Jl=P("@tanstack/react-query"),Yl=P("react"),ln=K(P("react")),es=P("react"),ts=P("react"),rs=K(P("lodash/isEqual")),as=l(e=>{let t=(0,ts.useRef)(e);return(0,rs.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),sn=l((e,t)=>{let r=as(t);return(0,es.useMemo)(e,r)},"useDeepMemo"),Ot=ln.default.createContext({resources:[]}),os=l(({resources:e,children:t})=>{let r=sn(()=>Ho(e??[]),[e]);return ln.default.createElement(Ot.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),un=K(P("react")),dn=un.default.createContext("new"),ns=dn.Provider,ye=l(()=>un.default.useContext(dn),"useRouterType"),is=K(P("react")),cn=K(P("react")),mn={},Nt=(0,cn.createContext)(mn),ls=l(({children:e,router:t})=>cn.default.createElement(Nt.Provider,{value:t??mn},e),"RouterBindingsProvider"),Ja=K(P("react")),pn=l(()=>{let e=(0,Ja.useContext)(Nt);return Ja.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),He=l(()=>{let e=pn();return is.default.useMemo(()=>e(),[e])},"useParsed");function J(e){let{resources:t}=(0,Yl.useContext)(Ot),r=ye(),a=He(),o={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=l((v,b=!0)=>{let s=Pe(v,t,r==="legacy");if(s)return{resource:s,identifier:s.identifier??s.name};if(b){let g={name:v,identifier:v},E=g.identifier??g.name;return{resource:g,identifier:E}}},"select"),n=fn(),{useParams:u}=Oe(),c=u();if(r==="legacy"){let v=o.resourceNameOrRouteName?o.resourceNameOrRouteName:c.resource,b=v?n(v):void 0,s=(o==null?void 0:o.recordItemId)??c.id,g=c.action,E=(o==null?void 0:o.resourceName)??(b==null?void 0:b.name),f=(b==null?void 0:b.identifier)??(b==null?void 0:b.name);return{resources:t,resource:b,resourceName:E,id:s,action:g,select:i,identifier:f}}let d,p=typeof e=="string"?e:o==null?void 0:o.resourceNameOrRouteName;if(p){let v=Pe(p,t);v?d=v:d={name:p}}else a!=null&&a.resource&&(d=a.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:a.id,action:a.action,select:i,identifier:(d==null?void 0:d.identifier)??(d==null?void 0:d.name)}}l(J,"useResource");var Ya=P("react"),fn=l(()=>{let{resources:e}=(0,Ya.useContext)(Ot);return(0,Ya.useCallback)(t=>Pe(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Ve=l(()=>{let{resources:e}=J(),t=(0,Jl.useQueryClient)(),{keys:r,preferLegacyKeys:a}=re();return(0,Vl.useCallback)(async({resource:o,dataProviderName:i,invalidates:n,id:u,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(n===!1)return;let p=V(o,i,e),v=r().data(p).resource(o??"");await Promise.all(n.map(b=>{switch(b){case"all":return t.invalidateQueries(r().data(p).get(a),c,d);case"list":return t.invalidateQueries(v.action("list").get(a),c,d);case"many":return t.invalidateQueries(v.action("many").get(a),c,d);case"resourceAll":return t.invalidateQueries(v.get(a),c,d);case"detail":return t.invalidateQueries(v.action("one").id(u||"").get(a),c,d);default:return}}))},[])},"useInvalidate"),Lr=P("react"),Tt=l(({resource:e,params:t,channel:r,types:a,enabled:o=!0,liveMode:i,onLiveEvent:n,dataProviderName:u,meta:c})=>{var d;let{resource:p,identifier:v}=J(e),b=(0,Lr.useContext)(kt),{liveMode:s,onLiveEvent:g}=(0,Lr.useContext)(it),E=i??s,f=Ve(),y=u??(c==null?void 0:c.dataProviderName)??((d=p==null?void 0:p.meta)==null?void 0:d.dataProviderName);(0,Lr.useEffect)(()=>{let m,C=l(w=>{E==="auto"&&f({resource:v,dataProviderName:y,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),n==null||n(w),g==null||g(w)},"callback");return E&&E!=="off"&&o&&(m=b==null?void 0:b.subscribe({channel:r,params:{resource:p==null?void 0:p.name,...t},types:a,callback:C,dataProviderName:y,meta:{...c,dataProviderName:y}})),()=>{m&&(b==null||b.unsubscribe(m))}},[o])},"useResourceSubscription"),ss=P("react"),vn=l(e=>{let{liveMode:t}=(0,ss.useContext)(it);return e??t},"useLiveMode"),eo=P("react"),us=l(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:o,dataProviderName:i="default",meta:n})=>{let u=(0,eo.useContext)(kt);(0,eo.useEffect)(()=>{let c;return a&&(c=u==null?void 0:u.subscribe({channel:t,params:e,types:r,callback:o,dataProviderName:i,meta:{...n,dataProviderName:i}})),()=>{c&&(u==null||u.unsubscribe(c))}},[a])},"useSubscription"),ds=P("react"),pt=l(()=>{let e=(0,ds.useContext)(kt);return e==null?void 0:e.publish},"usePublish"),cs=P("react"),Lt=l(()=>{let{notifications:e,notificationDispatch:t}=(0,cs.useContext)(rn);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),ms=P("react"),gn=K(P("react")),Yr=(0,gn.createContext)({}),ps=l(({open:e,close:t,children:r})=>gn.default.createElement(Yr.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),lt=l(()=>{let{open:e,close:t}=(0,ms.useContext)(Yr);return{open:e,close:t}},"useNotification"),fs=P("react"),ke=l(()=>{let{open:e}=lt();return(0,fs.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),to=P("react"),yn=K(P("react")),ft=yn.default.createContext({}),vs=l(({children:e,i18nProvider:t})=>yn.default.createElement(ft.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),gs=l(()=>{let{i18nProvider:e}=(0,to.useContext)(ft);return(0,to.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),ro=P("react"),oe=l(()=>{let{i18nProvider:e}=(0,ro.useContext)(ft);return(0,ro.useMemo)(()=>{function t(r,a,o){return(e==null?void 0:e.translate(r,a,o))??o??(typeof a=="string"&&typeof o>"u"?a:r)}return l(t,"translate"),t},[e])},"useTranslate"),ao=P("react"),ys=l(()=>{let{i18nProvider:e}=(0,ao.useContext)(ft);return(0,ao.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),hs=P("react"),Es=P("papaparse"),oo=K(P("warn-once")),Ps=l(({resourceName:e,resource:t,sorter:r,sorters:a,filters:o,maxItemCount:i,pageSize:n=20,mapData:u=l(E=>E,"mapData"),exportOptions:c,unparseConfig:d,meta:p,metaData:v,dataProviderName:b,onError:s,download:g}={})=>{let[E,f]=(0,hs.useState)(!1),y=Ce(),m=ce(),{resource:C,resources:w,identifier:N}=J(U(t,e)),L=`${Wr()(N,"plural")}-${new Date().toLocaleString()}`,{getList:h}=y(V(N,b,w)),D=m({resource:C,meta:U(p,v)});return{isLoading:E,triggerExport:l(async()=>{f(!0);let F=[],q=1,O=!0;for(;O;)try{let{data:k,total:R}=await h({resource:(C==null?void 0:C.name)??"",filters:o,sort:U(a,r),sorters:U(a,r),pagination:{current:q,pageSize:n,mode:"server"},meta:D,metaData:D});q++,F.push(...k),i&&F.length>=i&&(F=F.slice(0,i),O=!1),R===F.length&&(O=!1)}catch(k){f(!1),O=!1,s==null||s(k);return}let S=typeof d<"u"&&d!==null;(0,oo.default)(S&&typeof c<"u"&&c!==null,`[useExport]: resource: "${N}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let x={filename:L,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...c};(0,oo.default)((c==null?void 0:c.decimalSeparator)!==void 0,`[useExport]: resource: "${N}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),S?d={quotes:!0,...d}:d={columns:x.useKeysAsHeaders?void 0:x.headers,delimiter:x.fieldSeparator,header:x.showLabels||x.useKeysAsHeaders,quoteChar:x.quoteStrings,quotes:!0};let T=(0,Es.unparse)(F.map(u),d);if(x.showTitle&&(T=`${x.title}\r

${T}`),typeof window<"u"&&T.length>0&&(g??!0)){let k=x.useTextFile?".txt":".csv",R=`text/${x.useTextFile?"plain":"csv"};charset=utf8;`,M=`${(x.filename??"download").replace(/ /g,"_")}${k}`;tl(M,`${x!=null&&x.useBom?"\uFEFF":""}${T}`,R)}return f(!1),T},"triggerExport")}},"useExport"),xr=K(P("react")),bs=K(P("warn-once")),Cs=K(P("lodash/debounce")),ws=l(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:o,redirect:i,successNotification:n,errorNotification:u,meta:c,metaData:d,queryMeta:p,mutationMeta:v,mutationMode:b,liveMode:s,onLiveEvent:g,liveParams:E,undoableTimeout:f,dataProviderName:y,invalidates:m,queryOptions:C,createMutationOptions:w,updateMutationOptions:N,overtimeOptions:L,autoSave:h,optimisticUpdateMap:D}={})=>{let F=Ve(),{options:q}=be(),O=ce(),{resource:S,id:x,action:T,identifier:k}=J(e),{identifier:R}=J(),M=l(()=>e&&e!==R?r:r??x,"getDefaultId")(),[W,H]=xr.default.useState(M);xr.default.useEffect(()=>{H(M)},[M]);let I=l(()=>t||(T==="edit"||T==="clone"?T:"create"),"getAction")(),B=O({resource:S,meta:U(c,d)}),{mutationMode:Q}=wt(),j=b??Q,$=I==="create",_=I==="edit",G=I==="clone";(0,bs.default)((G||_)&&!!e&&!r&&(C==null?void 0:C.enabled)!==!1,`[useForm]: action: "${I}", resource: "${k}", id: ${W} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let me=Wi({redirectFromProps:i,action:I,redirectOptions:q.redirect}),he=Zr({resource:k,id:W??"",queryOptions:{enabled:W!==void 0&&(_||G),...C},liveMode:s,onLiveEvent:g,liveParams:E,meta:{...B,...p},metaData:{...B,...p},dataProviderName:y}),{isFetching:X}=he,ae=Vr({mutationOptions:w}),{mutate:Rt,isLoading:$t}=ae,Ie=$r({mutationOptions:N}),{mutate:It,isLoading:Ye}=Ie,et=$r({}),{setWarnWhen:st}=Qr(),tt=hn(),yt=l(async ue=>{st(!1);let Ue=l(de=>{tt({redirect:me,resource:S,id:de,meta:U(c,d)})},"onSuccess");return j!=="pessimistic"&&setTimeout(()=>{Ue()}),new Promise((de,je)=>{if(j!=="pessimistic"&&de(),!!S)return Rt({values:ue,resource:k??S.name,successNotification:n,errorNotification:u,meta:{...B,...v},metaData:{...B,...v},dataProviderName:y,invalidates:m},{onSuccess:(pe,Ke,Qe)=>{var _e;a&&a(pe,ue,Qe);let Ge=(_e=pe==null?void 0:pe.data)==null?void 0:_e.id;Ue(Ge),de(pe)},onError:(pe,Ke,Qe)=>{if(o)return o(pe,ue,Qe);je()}})})},"onFinishCreate");xr.default.useEffect(()=>()=>{h!=null&&h.invalidateOnUnmount&&et.status==="success"&&F({id:W,invalidates:m||["list","many","detail"],dataProviderName:y,resource:k})},[h==null?void 0:h.invalidateOnUnmount,et.status]);let ht=l(ue=>{if(!S||!_)return;let Ue={id:W??"",values:ue,resource:k??S.name,successNotification:!1,errorNotification:!1,meta:{...B,...v},metaData:{...B,...v},dataProviderName:y,invalidates:[],mutationMode:"pessimistic"};return et.mutate(Ue,{onSuccess:(de,je,pe)=>{a&&a(de,ue,pe,!0)},onError:(de,je,pe)=>{if(o)return o(de,ue,pe,!0)}})},"onFinishAutoSaveMutation"),Ut=(0,Cs.default)(ue=>ht(ue),(h==null?void 0:h.debounce)||1e3),Ft=$||G?{formLoading:X||$t,mutationResult:ae,onFinish:yt}:{formLoading:X||Ye,mutationResult:Ie,onFinish:l(async ue=>{if(st(!1),!S)return;let Ue={id:W??"",values:ue,resource:k??S.name,mutationMode:j,undoableTimeout:f,successNotification:n,errorNotification:u,meta:{...B,...v},metaData:{...B,...v},dataProviderName:y,invalidates:m,optimisticUpdateMap:D},de=l(()=>{tt({redirect:me,resource:S,id:W,meta:U(c,d)})},"onSuccess");return j!=="pessimistic"&&setTimeout(()=>{de()}),new Promise((je,pe)=>(j!=="pessimistic"&&je(),setTimeout(()=>{It(Ue,{onSuccess:(Ke,Qe,_e)=>{a&&a(Ke,ue,_e),j==="pessimistic"&&de(),je(Ke)},onError:(Ke,Qe,_e)=>{if(o)return o(Ke,ue,_e);pe()}})})))},"onFinishUpdate")},{elapsedTime:sr}=Ee({isLoading:Ft.mutationResult.isLoading||he.isFetching,interval:L==null?void 0:L.interval,onInterval:L==null?void 0:L.onInterval});return{...Ft,queryResult:he,onFinishAutoSave:Ut,autoSaveProps:{status:et.status,data:et.data,error:et.error},id:W,setId:H,redirect:(ue,Ue)=>{tt({redirect:ue!==void 0?ue:_?"list":"edit",resource:S,id:Ue??W,meta:U(c,d)})},overtime:{elapsedTime:sr}}},"useForm"),Ls=P("react"),hn=l(()=>{let{show:e,edit:t,list:r,create:a}=$e();return(0,Ls.useCallback)(({redirect:o,resource:i,id:n,meta:u={}})=>{if(o&&i)return i.show&&o==="show"&&n?e(i,n,void 0,u):i.edit&&o==="edit"&&n?t(i,n,void 0,u):i.create&&o==="create"?a(i,void 0,u):r(i,"push",u)},[])},"useRedirectionAfterSubmission"),Sr=K(P("react")),xs=K(P("react")),ar=l(()=>{let e=ye(),{resource:t,resources:r}=J(),a=He();return xs.default.useCallback(({resource:o,action:i,meta:n})=>{var u;let c=o||t;if(!c)return;let d=(u=De(c,r,e==="legacy").find(p=>p.action===i))==null?void 0:u.route;return d?Ne(d,c==null?void 0:c.meta,a,n):void 0},[r,t,a])},"useGetToPath"),Re=l(()=>{let e=(0,Sr.useContext)(Nt),{select:t}=J(),r=ar(),a=Sr.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Sr.useCallback)(o=>{if(typeof o.to!="object")return a({...o,to:o.to});let{resource:i}=t(o.to.resource);Ss(o.to,i);let n=r({resource:i,action:o.to.action,meta:{id:o.to.id,...o.to.meta}});return a({...o,to:n})},[t,a])},"useGo"),Ss=l((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors"),no=K(P("react")),En=l(()=>{let e=(0,no.useContext)(Nt);return no.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),$e=l(()=>{let{resources:e}=J(),t=ye(),{useHistory:r}=Oe(),a=r(),o=He(),i=Re(),n=En(),u=l((s,g="push")=>{t==="legacy"?a[g](s):i({to:s,type:g})},"handleUrl"),c=l((s,g={})=>{var E;if(t==="legacy"){let m=typeof s=="string"?Pe(s,e,!0)??{name:s,route:s}:s,C=De(m,e,!0).find(w=>w.action==="create");return C?Ne(C.route,m==null?void 0:m.meta,o,g):""}let f=typeof s=="string"?Pe(s,e)??{name:s}:s,y=(E=De(f,e).find(m=>m.action==="create"))==null?void 0:E.route;return y?i({to:Ne(y,f==null?void 0:f.meta,o,g),type:"path"}):""},"createUrl"),d=l((s,g,E={})=>{var f;let y=encodeURIComponent(g);if(t==="legacy"){let w=typeof s=="string"?Pe(s,e,!0)??{name:s,route:s}:s,N=De(w,e,!0).find(L=>L.action==="edit");return N?Ne(N.route,w==null?void 0:w.meta,o,{...E,id:y}):""}let m=typeof s=="string"?Pe(s,e)??{name:s}:s,C=(f=De(m,e).find(w=>w.action==="edit"))==null?void 0:f.route;return C?i({to:Ne(C,m==null?void 0:m.meta,o,{...E,id:y}),type:"path"}):""},"editUrl"),p=l((s,g,E={})=>{var f;let y=encodeURIComponent(g);if(t==="legacy"){let w=typeof s=="string"?Pe(s,e,!0)??{name:s,route:s}:s,N=De(w,e,!0).find(L=>L.action==="clone");return N?Ne(N.route,w==null?void 0:w.meta,o,{...E,id:y}):""}let m=typeof s=="string"?Pe(s,e)??{name:s}:s,C=(f=De(m,e).find(w=>w.action==="clone"))==null?void 0:f.route;return C?i({to:Ne(C,m==null?void 0:m.meta,o,{...E,id:y}),type:"path"}):""},"cloneUrl"),v=l((s,g,E={})=>{var f;let y=encodeURIComponent(g);if(t==="legacy"){let w=typeof s=="string"?Pe(s,e,!0)??{name:s,route:s}:s,N=De(w,e,!0).find(L=>L.action==="show");return N?Ne(N.route,w==null?void 0:w.meta,o,{...E,id:y}):""}let m=typeof s=="string"?Pe(s,e)??{name:s}:s,C=(f=De(m,e).find(w=>w.action==="show"))==null?void 0:f.route;return C?i({to:Ne(C,m==null?void 0:m.meta,o,{...E,id:y}),type:"path"}):""},"showUrl"),b=l((s,g={})=>{var E;if(t==="legacy"){let m=typeof s=="string"?Pe(s,e,!0)??{name:s,route:s}:s,C=De(m,e,!0).find(w=>w.action==="list");return C?Ne(C.route,m==null?void 0:m.meta,o,g):""}let f=typeof s=="string"?Pe(s,e)??{name:s}:s,y=(E=De(f,e).find(m=>m.action==="list"))==null?void 0:E.route;return y?i({to:Ne(y,f==null?void 0:f.meta,o,g),type:"path"}):""},"listUrl");return{create:l((s,g="push",E={})=>{u(c(s,E),g)},"create"),createUrl:c,edit:l((s,g,E="push",f={})=>{u(d(s,g,f),E)},"edit"),editUrl:d,clone:l((s,g,E="push",f={})=>{u(p(s,g,f),E)},"clone"),cloneUrl:p,show:l((s,g,E="push",f={})=>{u(v(s,g,f),E)},"show"),showUrl:v,list:l((s,g="push",E={})=>{u(b(s,E),g)},"list"),listUrl:b,push:l((s,...g)=>{t==="legacy"?a.push(s,...g):i({to:s,type:"push"})},"push"),replace:l((s,...g)=>{t==="legacy"?a.replace(s,...g):i({to:s,type:"replace"})},"replace"),goBack:l(()=>{t==="legacy"?a.goBack():n()},"goBack")}},"useNavigation"),io=K(P("react")),Fs=K(P("warn-once")),qs=l(({resource:e,id:t,successNotification:r,errorNotification:a,meta:o,metaData:i,liveMode:n,onLiveEvent:u,dataProviderName:c,queryOptions:d,overtimeOptions:p}={})=>{let{resource:v,id:b,identifier:s}=J(e),{identifier:g}=J(),E=ce(),f=l(()=>e&&e!==g?t:t??b,"getDefaultId")(),[y,m]=(0,io.useState)(f);io.default.useEffect(()=>{m(f)},[f]);let C=E({resource:v,meta:U(o,i)});(0,Fs.default)(!!e&&!t,`[useShow]: resource: "${s}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let w=Zr({resource:s,id:y??"",queryOptions:{enabled:y!==void 0,...d},successNotification:r,errorNotification:a,meta:C,metaData:C,liveMode:n,onLiveEvent:u,dataProviderName:c}),{elapsedTime:N}=Ee({isLoading:w.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{queryResult:w,showId:y,setShowId:m,overtime:{elapsedTime:N}}},"useShow"),zt=P("react"),Ds=P("papaparse"),Ms=K(P("lodash/chunk")),ks=l(({resourceName:e,resource:t,mapData:r=l(p=>p,"mapData"),paparseOptions:a,batchSize:o=Number.MAX_SAFE_INTEGER,onFinish:i,meta:n,metaData:u,onProgress:c,dataProviderName:d}={})=>{let[p,v]=(0,zt.useState)(0),[b,s]=(0,zt.useState)(0),[g,E]=(0,zt.useState)(!1),{resource:f,identifier:y}=J(t??e),m=ce(),C=an(),w=Vr(),N=m({resource:f,meta:U(n,u)}),L;o===1?L=w:L=C;let h=l(()=>{s(0),v(0),E(!1)},"handleCleanup"),D=l(q=>{let O={succeeded:q.filter(S=>S.type==="success"),errored:q.filter(S=>S.type==="error")};i==null||i(O),E(!1)},"handleFinish");(0,zt.useEffect)(()=>{c==null||c({totalAmount:b,processedAmount:p})},[b,p]);let F=l(({file:q})=>(h(),new Promise(O=>{E(!0),(0,Ds.parse)(q,{complete:async({data:S})=>{let x=xo(S,r);if(s(x.length),o===1){let T=x.map(R=>l(async()=>({response:await w.mutateAsync({resource:y??"",values:R,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:N,metaData:N}),value:R}),"fn")),k=await Sa(T,({response:R,value:M})=>(v(W=>W+1),{response:[R.data],type:"success",request:[M]}),(R,M)=>({response:[R],type:"error",request:[x[M]]}));O(k)}else{let T=(0,Ms.default)(x,o),k=T.map(M=>l(async()=>({response:await C.mutateAsync({resource:y??"",values:M,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:N,metaData:N}),value:M,currentBatchLength:M.length}),"fn")),R=await Sa(k,({response:M,currentBatchLength:W,value:H})=>(v(I=>I+W),{response:M.data,type:"success",request:H}),(M,W)=>({response:[M],type:"error",request:T[W]}));O(R)}},...a})}).then(O=>(D(O),O))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:q=>{q.target.files&&q.target.files.length>0&&F({file:q.target.files[0]})}},mutationResult:L,isLoading:g,handleChange:F}},"useImport"),Fr=P("react"),Os=l(({defaultVisible:e=!1}={})=>{let[t,r]=(0,Fr.useState)(e),a=(0,Fr.useCallback)(()=>r(!0),[t]),o=(0,Fr.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:o}},"useModal"),Ns=l(({resource:e,action:t,meta:r,legacy:a})=>ar()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),lo=K(P("react")),or=l(()=>{let e=(0,lo.useContext)(Nt);return e!=null&&e.Link?e.Link:l(({to:t,...r})=>lo.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),Ts=P("react"),Pn=K(P("react")),ot={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},As=Pn.default.createContext(ot),ea=As,Rs=l(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:i,routes:n})=>Pn.default.createElement(ea.Provider,{value:{useHistory:t??ot.useHistory,useLocation:r??ot.useLocation,useParams:a??ot.useParams,Prompt:o??ot.Prompt,Link:i??ot.Link,routes:n??ot.routes}},e),"LegacyRouterContextProvider"),Oe=l(()=>{let e=(0,Ts.useContext)(ea),{useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:i,routes:n}=e??ot;return{useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:i,routes:n}},"useRouterContext"),$s=P("@tanstack/react-query"),Is=P("react"),bn=K(P("react")),At=bn.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),Us=l(({can:e,children:t,options:r})=>bn.default.createElement(At.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},t),"AccessControlContextProvider"),ta=l(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:o,show:i,clone:n,children:u,meta:c,options:d,...p}=e,{icon:v,...b}=c??{},{icon:s,...g}=d??{};return{...p,...c?{meta:b}:{},...d?{options:g}:{}}},"sanitizeResource"),Ks=te(),Cn=l(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:o,options:i}=(0,Is.useContext)(At),{keys:n,preferLegacyKeys:u}=re(),{queryOptions:c}=i||{},d={...c,...a},{resource:p,...v}=r??{},b=ta(p),s=(0,$s.useQuery)({queryKey:n().access().resource(t).action(e).params({params:{...v,resource:b},enabled:d==null?void 0:d.enabled}).get(u),queryFn:()=>(o==null?void 0:o({action:e,resource:t,params:{...v,resource:b}}))??Promise.resolve({can:!0}),enabled:typeof o<"u",...d,meta:{...d==null?void 0:d.meta,...(0,Ks.getXRay)("useCan",u)},retry:!1});return typeof o>"u"?{data:{can:!0}}:s},"useCan"),so=K(P("react")),Qs=l(()=>{let{can:e}=so.default.useContext(At);return{can:so.default.useMemo(()=>e?l(async({params:t,...r})=>{let a=t!=null&&t.resource?ta(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),rt=P("react"),Ws=K(P("lodash/uniqBy")),zs=K(P("lodash/debounce")),uo=K(P("lodash/get")),Hs=l(e=>{let[t,r]=(0,rt.useState)([]),[a,o]=(0,rt.useState)([]),[i,n]=(0,rt.useState)([]),{resource:u,sort:c,sorters:d,filters:p=[],optionLabel:v="title",optionValue:b="id",searchField:s=typeof v=="string"?v:"title",debounce:g=300,successNotification:E,errorNotification:f,defaultValueQueryOptions:y,queryOptions:m,fetchSize:C,pagination:w,hasPagination:N=!1,liveMode:L,defaultValue:h=[],onLiveEvent:D,onSearch:F,liveParams:q,meta:O,metaData:S,dataProviderName:x,overtimeOptions:T}=e,k=(0,rt.useCallback)(X=>typeof v=="string"?(0,uo.default)(X,v):v(X),[v]),R=(0,rt.useCallback)(X=>typeof b=="string"?(0,uo.default)(X,b):b(X),[b]),{resource:M,identifier:W}=J(u),H=ce()({resource:M,meta:U(O,S)}),I=Array.isArray(h)?h:[h],B=(0,rt.useCallback)(X=>{n(X.data.map(ae=>({label:k(ae),value:R(ae)})))},[v,b]),Q=y??m,j=tn({resource:W,ids:I,queryOptions:{...Q,enabled:I.length>0&&((Q==null?void 0:Q.enabled)??!0),onSuccess:X=>{var ae;B(X),(ae=Q==null?void 0:Q.onSuccess)==null||ae.call(Q,X)}},meta:H,metaData:H,liveMode:"off",dataProviderName:x}),$=(0,rt.useCallback)(X=>{o(X.data.map(ae=>({label:k(ae),value:R(ae)})))},[v,b]),_=Xr({resource:W,sorters:U(d,c),filters:p.concat(t),pagination:{current:w==null?void 0:w.current,pageSize:(w==null?void 0:w.pageSize)??C,mode:w==null?void 0:w.mode},hasPagination:N,queryOptions:{...m,onSuccess:X=>{var ae;$(X),(ae=m==null?void 0:m.onSuccess)==null||ae.call(m,X)}},successNotification:E,errorNotification:f,meta:H,metaData:H,liveMode:L,liveParams:q,onLiveEvent:D,dataProviderName:x}),G=l(X=>{if(F){r(F(X));return}if(!X){r([]);return}r([{field:s,operator:"contains",value:X}])},"onSearch"),{elapsedTime:me}=Ee({isLoading:_.isFetching||j.isFetching,interval:T==null?void 0:T.interval,onInterval:T==null?void 0:T.onInterval}),he=(0,rt.useMemo)(()=>(0,Ws.default)([...a,...i],"value"),[a,i]);return{queryResult:_,defaultValueQueryResult:j,options:he,onSearch:(0,zs.default)(G,g),overtime:{elapsedTime:me}}},"useSelect"),dt=K(P("react")),co=K(P("qs")),Ht=K(P("lodash/differenceWith")),Bt=K(P("lodash/isEqual")),Bs=K(P("warn-once")),mo=[],po=[];function wn({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:o,permanentSorter:i=po,defaultSetFilterBehavior:n,initialFilter:u,permanentFilter:c=mo,filters:d,sorters:p,syncWithLocation:v,resource:b,successNotification:s,errorNotification:g,queryOptions:E,liveMode:f,onLiveEvent:y,liveParams:m,meta:C,metaData:w,dataProviderName:N,overtimeOptions:L}={}){var h,D,F,q,O;let{syncWithLocation:S}=Zo(),x=v??S,T=vn(f),k=ye(),{useLocation:R}=Oe(),{search:M,pathname:W}=R(),H=ce(),I=He(),B=((d==null?void 0:d.mode)||"server")==="server",Q=((p==null?void 0:p.mode)||"server")==="server",j=r===!1?"off":"server",$=((a==null?void 0:a.mode)??j)!=="off",_=U(a==null?void 0:a.current,e),G=U(a==null?void 0:a.pageSize,t),me=U(C,w),{parsedCurrent:he,parsedPageSize:X,parsedSorter:ae,parsedFilters:Rt}=zr(M??"?"),$t=U(d==null?void 0:d.initial,u),Ie=U(d==null?void 0:d.permanent,c)??mo,It=U(p==null?void 0:p.initial,o),Ye=U(p==null?void 0:p.permanent,i)??po,et=U(d==null?void 0:d.defaultBehavior,n)??"merge",st,tt,yt,ht;x?(st=((h=I==null?void 0:I.params)==null?void 0:h.current)||he||_||1,tt=((D=I==null?void 0:I.params)==null?void 0:D.pageSize)||X||G||10,yt=((F=I==null?void 0:I.params)==null?void 0:F.sorters)||(ae.length?ae:It),ht=((q=I==null?void 0:I.params)==null?void 0:q.filters)||(Rt.length?Rt:$t)):(st=_||1,tt=G||10,yt=It,ht=$t);let{replace:Ut}=$e(),Ft=Re(),{resource:sr,identifier:ue}=J(b),Ue=H({resource:sr,meta:me});dt.default.useEffect(()=>{(0,Bs.default)(typeof ue>"u","useTable: `resource` is not defined.")},[ue]);let[de,je]=(0,dt.useState)(Rr(Ye,yt??[])),[pe,Ke]=(0,dt.useState)(Ar(Ie,ht??[])),[Qe,_e]=(0,dt.useState)(st),[Ge,aa]=(0,dt.useState)(tt),oa=l(()=>{if(k==="new"){let{sorters:ia,filters:Wu,pageSize:zu,current:Hu,...Wn}=(I==null?void 0:I.params)??{};return Wn}let{sorter:fe,filters:We,pageSize:dr,current:cr,...mr}=co.default.parse(M,{ignoreQueryPrefix:!0});return mr},"getCurrentQueryParams"),Rn=l(({pagination:{current:fe,pageSize:We},sorter:dr,filters:cr})=>{if(k==="new")return Ft({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...$?{current:fe,pageSize:We}:{},sorters:dr,filters:cr,...oa()}})??"";let mr=co.default.parse(M==null?void 0:M.substring(1)),ia=Nr({pagination:{pageSize:We,current:fe},sorters:de??dr,filters:cr,...mr});return`${W??""}?${ia??""}`},"createLinkForSyncWithLocation");(0,dt.useEffect)(()=>{M===""&&(_e(st),aa(tt),je(Rr(Ye,yt??[])),Ke(Ar(Ie,ht??[])))},[M]),(0,dt.useEffect)(()=>{if(x){let fe=oa();if(k==="new")Ft({type:"replace",options:{keepQuery:!0},query:{...$?{pageSize:Ge,current:Qe}:{},sorters:(0,Ht.default)(de,Ye,Bt.default),filters:(0,Ht.default)(pe,Ie,Bt.default)}});else{let We=Nr({...$?{pagination:{pageSize:Ge,current:Qe}}:{},sorters:(0,Ht.default)(de,Ye,Bt.default),filters:(0,Ht.default)(pe,Ie,Bt.default),...fe});return Ut==null?void 0:Ut(`${W}?${We}`,void 0,{shallow:!0})}}},[x,Qe,Ge,de,pe]);let ur=Xr({resource:ue,hasPagination:r,pagination:{current:Qe,pageSize:Ge,mode:a==null?void 0:a.mode},filters:B?Dt(Ie,pe):void 0,sorters:Q?Tr(Ye,de):void 0,queryOptions:E,successNotification:s,errorNotification:g,meta:Ue,metaData:Ue,liveMode:T,liveParams:m,onLiveEvent:y,dataProviderName:N}),$n=l(fe=>{Ke(We=>Dt(Ie,fe,We))},"setFiltersAsMerge"),In=l(fe=>{Ke(Dt(Ie,fe))},"setFiltersAsReplace"),Un=l(fe=>{Ke(We=>Dt(Ie,fe(We)))},"setFiltersWithSetter"),Kn=l((fe,We=et)=>{typeof fe=="function"?Un(fe):We==="replace"?In(fe):$n(fe)},"setFiltersFn"),na=l(fe=>{je(()=>Tr(Ye,fe))},"setSortWithUnion"),{elapsedTime:Qn}=Ee({isLoading:ur.isFetching,interval:L==null?void 0:L.interval,onInterval:L==null?void 0:L.onInterval});return{tableQueryResult:ur,sorters:de,setSorters:na,sorter:de,setSorter:na,filters:pe,setFilters:Kn,current:Qe,setCurrent:_e,pageSize:Ge,setPageSize:aa,pageCount:Ge?Math.ceil((((O=ur.data)==null?void 0:O.total)??0)/Ge):1,createLinkForSyncWithLocation:Rn,overtime:{elapsedTime:Qn}}}l(wn,"useTable");var fo=P("react"),qr=P("@tanstack/react-query"),Ln=K(P("react")),nr=Ln.default.createContext({}),js=l(({create:e,get:t,update:r,children:a})=>Ln.default.createElement(nr.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),vo=te(),vt=l(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,qr.useQueryClient)(),a=(0,fo.useContext)(nr),{keys:o,preferLegacyKeys:i}=re(),n=ge(),{resources:u}=(0,fo.useContext)(Ot),{data:c,refetch:d,isLoading:p}=Hr({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy),queryOptions:{enabled:!!(a!=null&&a.create)}}),v=(0,qr.useMutation)(async s=>{var g,E,f,y,m;let C=Pe(s.resource,u),w=U((g=C==null?void 0:C.meta)==null?void 0:g.audit,(E=C==null?void 0:C.options)==null?void 0:E.audit,(y=(f=C==null?void 0:C.options)==null?void 0:f.auditLog)==null?void 0:y.permissions);if(w&&!Oi(w,s.action))return;let N;return p&&a!=null&&a.create&&(N=await d()),await((m=a.create)==null?void 0:m.call(a,{...s,author:c??(N==null?void 0:N.data)}))},{mutationKey:o().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,vo.getXRay)("useLog",i)}}),b=(0,qr.useMutation)(async s=>{var g;return await((g=a.update)==null?void 0:g.call(a,s))},{onSuccess:s=>{s!=null&&s.resource&&r.invalidateQueries(o().audit().resource((s==null?void 0:s.resource)??"").action("list").get(i))},mutationKey:o().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,vo.getXRay)("useLog",i)}});return{log:v,rename:b}},"useLog"),_s=P("react"),Gs=P("@tanstack/react-query"),Xs=te(),Zs=l(({resource:e,action:t,meta:r,author:a,metaData:o,queryOptions:i})=>{let{get:n}=(0,_s.useContext)(nr),{keys:u,preferLegacyKeys:c}=re();return(0,Gs.useQuery)({queryKey:u().audit().resource(e).action("list").params(r).get(c),queryFn:()=>(n==null?void 0:n({resource:e,action:t,author:a,meta:r,metaData:o}))??Promise.resolve([]),enabled:typeof n<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...(0,Xs.getXRay)("useLogList",c)}})},"useLogList"),Vs=P("react"),Js=K(P("warn-once")),Ys=l(({meta:e={}}={})=>{let t=ye(),{i18nProvider:r}=(0,Vs.useContext)(ft),a=He(),o=oe(),{resources:i,resource:n,action:u}=J(),{options:{textTransformers:c}}=be(),d=[];if(!(n!=null&&n.name))return{breadcrumbs:d};let p=l(v=>{var b,s,g,E,f,y;let m=typeof v=="string"?Pe(v,i,t==="legacy")??{name:v}:v;if(m){let C=U((b=m==null?void 0:m.meta)==null?void 0:b.parent,m==null?void 0:m.parentName);C&&p(C);let w=De(m,i,t==="legacy").find(h=>h.action==="list"),N=(s=w==null?void 0:w.resource)!=null&&s.list?w==null?void 0:w.route:void 0,L=N?t==="legacy"?N:Ne(N,m==null?void 0:m.meta,a,e):void 0;d.push({label:U((g=m.meta)==null?void 0:g.label,(E=m.options)==null?void 0:E.label)??o(`${m.name}.${m.name}`,c.humanize(m.name)),href:L,icon:U((f=m.meta)==null?void 0:f.icon,(y=m.options)==null?void 0:y.icon,m.icon)})}},"addBreadcrumb");if(p(n),u&&u!=="list"){let v=`actions.${u}`,b=o(v);typeof r<"u"&&b===v?((0,Js.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:o(`buttons.${u}`,c.humanize(u))})):d.push({label:o(v,c.humanize(u))})}return{breadcrumbs:d}},"useBreadcrumb"),Dr=K(P("react")),Zt=l((e,t,r=!1)=>{let a=[],o=nt(e,t);for(;o;)a.push(o),o=nt(o,t);return a.reverse(),`/${[...a,e].map(i=>Xe((r?i.route:void 0)??i.identifier??i.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),eu=l((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(o=>{let i=[],n=nt(o,e);for(;n;)i.push(n),n=nt(n,e);i.reverse();let u=r;i.forEach(d=>{let p=(t?d.route:void 0)??d.identifier??d.name;u.children[p]||(u.children[p]={item:d,children:{}}),u=u.children[p]});let c=(t?o.route:void 0)??o.identifier??o.name;u.children[c]||(u.children[c]={item:o,children:{}})});let a=l(o=>{let i=[];return Object.keys(o.children).forEach(n=>{let u=Zt(o.children[n].item,e,t),c={...o.children[n].item,key:u,children:a(o.children[n])};i.push(c)}),i},"flatten");return a(r)},"createTree"),go=l(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),tu=l(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=oe(),a=ar(),o=ye(),{resource:i,resources:n}=J(),{pathname:u}=He(),{useLocation:c}=Oe(),{pathname:d}=c(),p=Wr(),v=`/${((o==="legacy"?go(d):u?go(u):void 0)??"").replace(/^\//,"")}`,b=i?Zt(i,n,o==="legacy"):v??"",s=Dr.default.useMemo(()=>{if(!i)return[];let f=nt(i,n),y=[Zt(i,n)];for(;f;)y.push(Zt(f,n)),f=nt(f,n);return y},[]),g=Dr.default.useCallback(f=>{var y,m,C,w,N,L;if((((y=f==null?void 0:f.meta)==null?void 0:y.hide)??((m=f==null?void 0:f.options)==null?void 0:m.hide))||!(f!=null&&f.list)&&f.children.length===0)return;let h=f.list?a({resource:f,action:"list",legacy:o==="legacy",meta:e}):void 0;if(!(t&&h&&h.match(/(\/|^):(.+?)(\/|$){1}/)))return{...f,route:h,icon:U((C=f.meta)==null?void 0:C.icon,(w=f.options)==null?void 0:w.icon,f.icon),label:U((N=f==null?void 0:f.meta)==null?void 0:N.label,(L=f==null?void 0:f.options)==null?void 0:L.label)??r(`${f.name}.${f.name}`,p(f.name,"plural"))}},[o,e,a,r,t]),E=Dr.default.useMemo(()=>{let f=eu(n,o==="legacy"),y=l(m=>m.flatMap(C=>{let w=y(C.children),N=g({...C,children:w});return N?[N]:[]}),"prepare");return y(f)},[n,o,g]);return{defaultOpenKeys:s,selectedKey:b,menuItems:E}},"useMenu"),ce=l(()=>{let{params:e}=He();return l(({resource:t,meta:r}={})=>{let{meta:a}=ta(t)??{meta:{}},{filters:o,sorters:i,current:n,pageSize:u,...c}=e??{};return{...a,...c,...r}},"getMetaFn")},"useMeta"),ru=l(()=>{let[e,t]=(0,ut.useState)(),r=oe(),{push:a}=$e(),o=Re(),i=ye(),{resource:n,action:u}=J();return(0,ut.useEffect)(()=>{n&&u&&t(r("pages.error.info",{action:u,resource:n.name},`You may have forgotten to add the "${u}" component to "${n.name}" resource.`))},[n,u]),ut.default.createElement(ut.default.Fragment,null,ut.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&ut.default.createElement("p",null,e),ut.default.createElement("button",{onClick:()=>{i==="legacy"?a("/"):o({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),ve=K(P("react")),xn=l(()=>{let[e,t]=(0,ve.useState)(""),[r,a]=(0,ve.useState)(""),o=oe(),i=ge(),{mutate:n}=tr({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return ve.default.createElement(ve.default.Fragment,null,ve.default.createElement("h1",null,o("pages.login.title","Sign in your account")),ve.default.createElement("form",{onSubmit:u=>{u.preventDefault(),n({username:e,password:r})}},ve.default.createElement("table",null,ve.default.createElement("tbody",null,ve.default.createElement("tr",null,ve.default.createElement("td",null,o("pages.login.username",void 0,"username"),":"),ve.default.createElement("td",null,ve.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),ve.default.createElement("tr",null,ve.default.createElement("td",null,o("pages.login.password",void 0,"password"),":"),ve.default.createElement("td",null,ve.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>a(u.target.value)}))))),ve.default.createElement("br",null),ve.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Pt=K(P("react")),ee=K(P("react")),au=l(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:o,wrapperProps:i,renderContent:n,formProps:u,title:c=void 0,hideForm:d})=>{let p=ye(),v=or(),{Link:b}=Oe(),s=p==="legacy"?b:v,[g,E]=(0,ee.useState)(""),[f,y]=(0,ee.useState)(""),[m,C]=(0,ee.useState)(!1),w=oe(),N=ge(),{mutate:L}=tr({v3LegacyAuthProviderCompatible:!!(N!=null&&N.isLegacy)}),h=l((q,O)=>ee.default.createElement(s,{to:q},O),"renderLink"),D=l(()=>e?e.map(q=>ee.default.createElement("div",{key:q.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ee.default.createElement("button",{onClick:()=>L({providerName:q.name}),style:{display:"flex",alignItems:"center"}},q==null?void 0:q.icon,q.label??ee.default.createElement("label",null,q.label)))):null,"renderProviders"),F=ee.default.createElement("div",{...o},ee.default.createElement("h1",{style:{textAlign:"center"}},w("pages.login.title","Sign in to your account")),D(),!d&&ee.default.createElement(ee.default.Fragment,null,ee.default.createElement("hr",null),ee.default.createElement("form",{onSubmit:q=>{q.preventDefault(),L({email:g,password:f,remember:m})},...u},ee.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ee.default.createElement("label",{htmlFor:"email-input"},w("pages.login.fields.email","Email")),ee.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:q=>E(q.target.value)}),ee.default.createElement("label",{htmlFor:"password-input"},w("pages.login.fields.password","Password")),ee.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:f,onChange:q=>y(q.target.value)}),a??ee.default.createElement(ee.default.Fragment,null,ee.default.createElement("label",{htmlFor:"remember-me-input"},w("pages.login.buttons.rememberMe","Remember me"),ee.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:m,value:m.toString(),onChange:()=>{C(!m)}}))),ee.default.createElement("br",null),r??h("/forgot-password",w("pages.login.buttons.forgotPassword","Forgot password?")),ee.default.createElement("input",{type:"submit",value:w("pages.login.signin","Sign in")}),t??ee.default.createElement("span",null,w("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",h("/register",w("pages.login.register","Sign up")))))),t!==!1&&d&&ee.default.createElement("div",{style:{textAlign:"center"}},w("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",h("/register",w("pages.login.register","Sign up"))));return ee.default.createElement("div",{...i},n?n(F,c):F)},"LoginPage"),ie=K(P("react")),ou=l(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:o,formProps:i,title:n=void 0,hideForm:u})=>{let c=ye(),d=or(),{Link:p}=Oe(),v=c==="legacy"?p:d,[b,s]=(0,ie.useState)(""),[g,E]=(0,ie.useState)(""),f=oe(),y=ge(),{mutate:m,isLoading:C}=jr({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),w=l((h,D)=>ie.default.createElement(v,{to:h},D),"renderLink"),N=l(()=>e?e.map(h=>ie.default.createElement("div",{key:h.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ie.default.createElement("button",{onClick:()=>m({providerName:h.name}),style:{display:"flex",alignItems:"center"}},h==null?void 0:h.icon,h.label??ie.default.createElement("label",null,h.label)))):null,"renderProviders"),L=ie.default.createElement("div",{...a},ie.default.createElement("h1",{style:{textAlign:"center"}},f("pages.register.title","Sign up for your account")),N(),!u&&ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("hr",null),ie.default.createElement("form",{onSubmit:h=>{h.preventDefault(),m({email:b,password:g})},...i},ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ie.default.createElement("label",{htmlFor:"email-input"},f("pages.register.fields.email","Email")),ie.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:b,onChange:h=>s(h.target.value)}),ie.default.createElement("label",{htmlFor:"password-input"},f("pages.register.fields.password","Password")),ie.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:g,onChange:h=>E(h.target.value)}),ie.default.createElement("input",{type:"submit",value:f("pages.register.buttons.submit","Sign up"),disabled:C}),t??ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("span",null,f("pages.login.buttons.haveAccount","Have an account?")," ",w("/login",f("pages.login.signin","Sign in"))))))),t!==!1&&u&&ie.default.createElement("div",{style:{textAlign:"center"}},f("pages.login.buttons.haveAccount","Have an account?")," ",w("/login",f("pages.login.signin","Sign in"))));return ie.default.createElement("div",{...r},o?o(L,n):L)},"RegisterPage"),Se=K(P("react")),nu=l(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:o,title:i=void 0})=>{let n=oe(),u=ye(),c=or(),{Link:d}=Oe(),p=u==="legacy"?d:c,[v,b]=(0,Se.useState)(""),{mutate:s,isLoading:g}=_r(),E=l((y,m)=>Se.default.createElement(p,{to:y},m),"renderLink"),f=Se.default.createElement("div",{...r},Se.default.createElement("h1",{style:{textAlign:"center"}},n("pages.forgotPassword.title","Forgot your password?")),Se.default.createElement("hr",null),Se.default.createElement("form",{onSubmit:y=>{y.preventDefault(),s({email:v})},...o},Se.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Se.default.createElement("label",{htmlFor:"email-input"},n("pages.forgotPassword.fields.email","Email")),Se.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:y=>b(y.target.value)}),Se.default.createElement("input",{type:"submit",disabled:g,value:n("pages.forgotPassword.buttons.submit","Send reset instructions")}),Se.default.createElement("br",null),e??Se.default.createElement("span",null,n("pages.register.buttons.haveAccount","Have an account? ")," ",E("/login",n("pages.login.signin","Sign in"))))));return Se.default.createElement("div",{...t},a?a(f,i):f)},"ForgotPasswordPage"),Fe=K(P("react")),iu=l(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:o=void 0})=>{let i=oe(),n=ge(),{mutate:u,isLoading:c}=Gr({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)}),[d,p]=(0,Fe.useState)(""),[v,b]=(0,Fe.useState)(""),s=Fe.default.createElement("div",{...t},Fe.default.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),Fe.default.createElement("hr",null),Fe.default.createElement("form",{onSubmit:g=>{g.preventDefault(),u({password:d,confirmPassword:v})},...a},Fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Fe.default.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),Fe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:g=>p(g.target.value)}),Fe.default.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Fe.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:v,onChange:g=>b(g.target.value)}),Fe.default.createElement("input",{type:"submit",disabled:c,value:i("pages.updatePassword.buttons.submit","Update")}))));return Fe.default.createElement("div",{...e},r?r(s,o):s)},"UpdatePasswordPage"),lu=l(e=>{let{type:t}=e;return Pt.default.createElement(Pt.default.Fragment,null,l(()=>{switch(t){case"register":return Pt.default.createElement(ou,{...e});case"forgotPassword":return Pt.default.createElement(nu,{...e});case"updatePassword":return Pt.default.createElement(iu,{...e});default:return Pt.default.createElement(au,{...e})}},"renderView")())},"AuthPage"),we=K(P("react")),Sn=l(()=>we.default.createElement(we.default.Fragment,null,we.default.createElement("h1",null,"Welcome on board"),we.default.createElement("p",null,"Your configuration is completed."),we.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",we.default.createElement("code",null,"`resources`")," property of ",we.default.createElement("code",null,"`<Refine>`")),we.default.createElement("div",{style:{display:"flex",gap:8}},we.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},we.default.createElement("button",null,"Documentation")),we.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},we.default.createElement("button",null,"Examples")),we.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},we.default.createElement("button",null,"Community")))),"ReadyPage"),jt=K(P("react")),se=K(P("react")),su=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],uu=l(()=>{let e=qa("(max-width: 1010px)"),t=qa("(max-width: 650px)"),r=l(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),a=l(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),o=l(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return se.default.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},se.default.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},se.default.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),se.default.createElement("div",{style:{height:t?"40px":"80px"}}),se.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},se.default.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),se.default.createElement("div",{style:{height:t?"120px":e?"200px":"30vh",minHeight:t?"120px":"200px"}}),se.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},se.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),se.default.createElement("h4",{style:{fontSize:o(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),se.default.createElement("div",{style:{height:"64px"}}),se.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},su.map(i=>se.default.createElement(du,{key:`welcome-page-${i.title}`,card:i})))))},"ConfigSuccessPage"),du=l(({card:e})=>{let{title:t,description:r,iconUrl:a,link:o}=e,[i,n]=(0,se.useState)(!1);return se.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},se.default.createElement("div",{style:{display:"flex",alignItems:"center"}},se.default.createElement("a",{onPointerEnter:()=>n(!0),onPointerLeave:()=>n(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:o},se.default.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${a})`}}),se.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),se.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},se.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),se.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),A=K(P("react")),cu=l(()=>A.default.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},A.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},A.default.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},A.default.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},A.default.createElement(pu,{style:{position:"absolute",left:0,top:0}}),A.default.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},A.default.createElement(fu,null),A.default.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),A.default.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},A.default.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},A.default.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),A.default.createElement("div",null,A.default.createElement(mu,null)))))),"ConfigErrorPage"),mu=l(()=>A.default.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},A.default.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage"," ","}"," ",A.default.createElement("span",{style:{color:"#FF7B72"}},"from")," ",A.default.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,A.default.createElement("span",{style:{color:"#FF7B72"}},"export")," ",A.default.createElement("span",{style:{color:"#FF7B72"}},"default")," ",A.default.createElement("span",null,A.default.createElement("span",{style:{color:"#FF7B72"}},"function")," ",A.default.createElement("span",{style:{color:"#FFA657"}},"App"),"(",A.default.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",A.default.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",A.default.createElement("span",null,A.default.createElement("span",{style:{color:"#79C0FF"}},"<",A.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",A.default.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",A.default.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",A.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",A.default.createElement("span",{style:{color:"#79C0FF"}},"<",A.default.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",A.default.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",A.default.createElement("span",{style:{color:"#79C0FF"}},"</",A.default.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),pu=l(e=>A.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...e},A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),A.default.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),A.default.createElement("defs",null,A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.default.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.default.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.default.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),fu=l(e=>A.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},A.default.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),A.default.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon"),vu=l(()=>{let{__initialized:e}=be();return jt.default.createElement(jt.default.Fragment,null,jt.default.createElement(uu,null),!e&&jt.default.createElement(cu,null))},"WelcomePage"),le=K(P("react")),Mr=P("@tanstack/react-query"),gu=te(),yo=K(P("react")),ct=P("react"),yu="4.48.0",hu=l(()=>{var e;let t=en(),r=(0,ct.useContext)(nr),a=(0,ct.useContext)(kt),o=(0,ct.useContext)(ea),i=(0,ct.useContext)(Jr),{i18nProvider:n}=(0,ct.useContext)(ft),u=(0,ct.useContext)(Yr),c=(0,ct.useContext)(At),{resources:d}=J(),p=be(),v=!!r.create||!!r.get||!!r.update,b=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),s=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,g=!!i,E=!!(n!=null&&n.changeLocale)||!!(n!=null&&n.getLocale)||!!(n!=null&&n.translate),f=!!u.close||!!u.open,y=!!c.can,m=(e=p==null?void 0:p.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:v,live:b,router:s,data:g,i18n:E,notification:f,accessControl:y},version:yu,resourceCount:d.length,projectId:m}},"useTelemetryData"),Eu=l(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Pu=l(e=>{let t=new Image;t.src=e},"throughImage"),bu=l(e=>{fetch(e)},"throughFetch"),Cu=l(e=>{typeof Image<"u"?Pu(e):typeof fetch<"u"&&bu(e)},"transport"),wu=l(()=>{let e=hu(),t=yo.default.useRef(!1);return yo.default.useEffect(()=>{if(t.current)return;let r=Eu(e);r&&(Cu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),Lu=l(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),ho=K(P("react")),xu=l(e=>{let t=ho.default.useRef(!1);ho.default.useEffect(()=>{t.current===!1&&e&&Lu(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),Su=l(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:o,notificationProvider:i,accessControlProvider:n,auditLogProvider:u,resources:c,DashboardPage:d,ReadyPage:p,LoginPage:v,catchAll:b,children:s,liveProvider:g,i18nProvider:E,Title:f,Layout:y,Sider:m,Header:C,Footer:w,OffLayoutArea:N,onLiveEvent:L,options:h})=>{let{optionsWithDefaults:D,disableTelemetryWithDefault:F,reactQueryWithDefaults:q}=Qi({options:h}),O=sn(()=>{var T;return q.clientConfig instanceof Mr.QueryClient?q.clientConfig:new Mr.QueryClient({...q.clientConfig,defaultOptions:{...q.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(T=q.clientConfig.defaultOptions)==null?void 0:T.queries}}})},[q.clientConfig]);(0,gu.useQuerySubscription)(O);let S=le.default.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(xu(o),a&&!o&&(c??[]).length===0)return p?le.default.createElement(p,null):le.default.createElement(Sn,null);let{RouterComponent:x=le.default.Fragment}=o?{}:a??{};return le.default.createElement(Mr.QueryClientProvider,{client:O},le.default.createElement(ps,{...S},le.default.createElement(Bi,{...e??{},isProvided:!!e},le.default.createElement(ji,{...t??{},isProvided:!!t},le.default.createElement(jl,{...r},le.default.createElement(Zl,{liveProvider:g},le.default.createElement(ns,{value:a&&!o?"legacy":"new"},le.default.createElement(ls,{router:o},le.default.createElement(Rs,{...a},le.default.createElement(os,{resources:c??[]},le.default.createElement(vs,{i18nProvider:E},le.default.createElement(Us,{...n??{}},le.default.createElement(js,{...u??{}},le.default.createElement(Fl,null,le.default.createElement(Ki,{mutationMode:D.mutationMode,warnWhenUnsavedChanges:D.warnWhenUnsavedChanges,syncWithLocation:D.syncWithLocation,Title:f,undoableTimeout:D.undoableTimeout,catchAll:b,DashboardPage:d,LoginPage:v,Layout:y,Sider:m,Footer:w,Header:C,OffLayoutArea:N,hasDashboard:!!d,liveMode:D.liveMode,onLiveEvent:L,options:D},le.default.createElement(Gi,null,le.default.createElement(x,null,s,!F&&le.default.createElement(wu,null),le.default.createElement(Dn,null))))))))))))))))))},"Refine"),Eo=P("react"),Fn=l(({notification:e})=>{let t=oe(),{notificationDispatch:r}=Lt(),{open:a}=lt(),[o,i]=(0,Eo.useState)(),n=l(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:vr(e.seconds)},`You have ${vr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:vr(e.seconds)}),e.seconds>0)){o&&clearTimeout(o);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(u)}},"cancelNotification");return(0,Eo.useEffect)(()=>{n()},[e]),null},"UndoableQueue"),Jt=K(P("react")),Fu=l(({children:e,Layout:t,Sider:r,Header:a,Title:o,Footer:i,OffLayoutArea:n})=>{let{Layout:u,Footer:c,Header:d,Sider:p,Title:v,OffLayoutArea:b}=be();return Jt.default.createElement(t??u,{Sider:r??p,Header:a??d,Footer:i??c,Title:o??v,OffLayoutArea:n??b},e,Jt.default.createElement(qu,null))},"LayoutWrapper"),qu=l(()=>{let{Prompt:e}=Oe(),t=oe(),{warnWhen:r,setWarnWhen:a}=Qr(),o=l(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return(0,Jt.useEffect)(()=>(r&&window.addEventListener("beforeunload",o),window.removeEventListener("beforeunload",o)),[r]),Jt.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),Te=K(P("react"));function qn({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:o}){var i;let n=ge(),u=ye(),c=!!(n!=null&&n.isProvided),d=!!(n!=null&&n.isLegacy),p=u==="legacy",v=He(),b=Re(),{useLocation:s}=Oe(),g=s(),{isFetching:E,isSuccess:f,data:{authenticated:y,redirectTo:m}={}}=rr({v3LegacyAuthProviderCompatible:d}),C=c?d?f:y:!0;if(!c)return Te.default.createElement(Te.default.Fragment,null,r??null);if(E)return Te.default.createElement(Te.default.Fragment,null,o??null);if(C)return Te.default.createElement(Te.default.Fragment,null,r??null);if(typeof a<"u")return Te.default.createElement(Te.default.Fragment,null,a??null);let w=d?typeof e=="string"?e:"/login":typeof e=="string"?e:m,N=`${p?g==null?void 0:g.pathname:v.pathname}`.replace(/(\?.*|#.*)$/,"");if(w){if(p){let L=t?`?to=${encodeURIComponent(N)}`:"";return Te.default.createElement(Mu,{to:`${w}${L}`})}return Te.default.createElement(Du,{config:{to:w,query:t?{to:(i=v.params)!=null&&i.to?v.params.to:b({to:N,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}})}return null}l(qn,"Authenticated");var Du=l(({config:e})=>{let t=Re();return Te.default.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),Mu=l(({to:e})=>{let{replace:t}=$e();return Te.default.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy"),ku=P("react"),Dn=l(()=>{let{useLocation:e}=Oe(),{checkAuth:t}=Ae(),r=e();return(0,ku.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),mt=K(P("react")),Ou=l(({resource:e,action:t,params:r,fallback:a,onUnauthorized:o,children:i,queryOptions:n,...u})=>{let{resource:c,id:d,action:p}=J(e),{identifier:v}=J(),b=l(()=>{let y=(r==null?void 0:r.id)??d;return e&&e!==v?r==null?void 0:r.id:y},"getDefaultId")(),s=e??(c==null?void 0:c.name),g=t??p??"",E=r??{id:b,resource:c},{data:f}=Cn({resource:s,action:g,params:E,queryOptions:n});return(0,mt.useEffect)(()=>{o&&(f==null?void 0:f.can)===!1&&o({resource:s,action:g,reason:f==null?void 0:f.reason,params:E})},[f==null?void 0:f.can]),f!=null&&f.can?mt.default.isValidElement(i)?mt.default.cloneElement(i,u):mt.default.createElement(mt.default.Fragment,null,i):(f==null?void 0:f.can)===!1?mt.default.createElement(mt.default.Fragment,null,a??null):null},"CanAccess"),Y=K(P("react")),Nu=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `],Tu="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",Au=l(()=>((0,Y.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Nu.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Y.default.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},Y.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},Y.default.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},Y.default.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},Y.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},Y.default.createElement(_t,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),Y.default.createElement(_t,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),Y.default.createElement(Po,{style:{position:"absolute",right:"10px"},id:"3"})),Y.default.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},Y.default.createElement(_t,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),Y.default.createElement(_t,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),Y.default.createElement(Po,{style:{position:"absolute",right:"-70px"},id:"6"})))),Y.default.createElement(Ru,{text:Tu})))),"GitHubBanner"),Ru=l(({text:e})=>Y.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},Y.default.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Y.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),Y.default.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),Y.default.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),_t=l(({style:e,...t})=>Y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},Y.default.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),Y.default.createElement("defs",null,Y.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},Y.default.createElement("stop",{stopColor:"#47EBEB"}),Y.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),Po=l(({style:e,...t})=>Y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},Y.default.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),Y.default.createElement("defs",null,Y.default.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},Y.default.createElement("stop",{stopColor:"#47EBEB"}),Y.default.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig"),qe=K(P("react")),$u=l(({status:e,elements:{success:t=qe.default.createElement(Gt,{key:"autoSave.success",defaultMessage:"saved"}),error:r=qe.default.createElement(Gt,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:a=qe.default.createElement(Gt,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:o=qe.default.createElement(Gt,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return qe.default.createElement(qe.default.Fragment,null,t);case"error":return qe.default.createElement(qe.default.Fragment,null,r);case"loading":return qe.default.createElement(qe.default.Fragment,null,a);default:return qe.default.createElement(qe.default.Fragment,null,o)}},"AutoSaveIndicator"),Gt=l(({key:e,defaultMessage:t})=>{let r=oe();return qe.default.createElement("span",null,r(e,t))},"Message")});var An=qt(ra()),Je=P("react-router-dom");var gt=qt(P("react")),xt=P("react-router-dom");var z=qt(P("react")),ne=P("react-router-dom"),Z=qt(ra()),ir=({route:e})=>{let{catchAll:t}=(0,Z.useRefineContext)(),{useParams:r}=(0,Z.useRouterContext)(),{resources:a}=(0,Z.useResource)(),{action:o,id:i}=r(),n=a.find(u=>u.route===e);if(n){let{list:u,create:c,edit:d,show:p,name:v,canCreate:b,canEdit:s,canShow:g,canDelete:E,options:f}=n,y=()=>console.error("`string` resource routes are not supported in legacy router. Please switch to the new router or assign Components to the resource routes."),m=()=>console.error("`Object` resource routes are not supported in legacy router. Please switch to the new router or assign Components to the resource routes."),C=(typeof u=="string"?y():typeof u=="object"?m():u)??(()=>null),w=(typeof c=="string"?y():typeof c=="object"?m():c)??(()=>null),N=(typeof d=="string"?y():typeof d=="object"?m():d)??(()=>null),L=(typeof p=="string"?y():typeof p=="object"?m():p)??(()=>null);return(()=>{switch(o){case void 0:return z.default.createElement(Z.CanAccess,{resource:v,action:"list",fallback:t??z.default.createElement(Z.ErrorComponent,null),params:{resource:n}},u?z.default.createElement(C,{name:v,canCreate:b,canEdit:s,canDelete:E,canShow:g,options:f}):t??z.default.createElement(Z.ErrorComponent,null));case"create":case"clone":return z.default.createElement(Z.CanAccess,{resource:v,action:"create",fallback:t??z.default.createElement(Z.ErrorComponent,null),params:{id:i?decodeURIComponent(i):void 0,resource:n}},c?z.default.createElement(w,{name:v,canCreate:b,canEdit:s,canDelete:E,canShow:g,options:f}):t??z.default.createElement(Z.ErrorComponent,null));case"edit":return z.default.createElement(Z.CanAccess,{resource:v,action:"edit",params:{id:i?decodeURIComponent(i):void 0,resource:n},fallback:t??z.default.createElement(Z.ErrorComponent,null)},d?z.default.createElement(N,{name:v,canCreate:b,canEdit:s,canDelete:E,canShow:g,options:f}):t??z.default.createElement(Z.ErrorComponent,null));case"show":return z.default.createElement(Z.CanAccess,{resource:v,action:"show",params:{id:i?decodeURIComponent(i):void 0,resource:n},fallback:t??z.default.createElement(Z.ErrorComponent,null)},p?z.default.createElement(L,{name:v,canCreate:b,canEdit:s,canDelete:E,canShow:g,options:f}):t??z.default.createElement(Z.ErrorComponent,null));default:return z.default.createElement(z.default.Fragment,null,t??z.default.createElement(Z.ErrorComponent,null))}})()}return z.default.createElement(z.default.Fragment,null,t??z.default.createElement(Z.ErrorComponent,null))},lr=({initialRoute:e})=>{let{resources:t}=(0,Z.useResource)(),{catchAll:r,DashboardPage:a,LoginPage:o}=(0,Z.useRefineContext)(),{routes:i}=(0,Z.useRouterContext)(),n=(0,Z.useActiveAuthProvider)(),{isFetching:u,isError:c,data:d}=(0,Z.useIsAuthenticated)({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy),params:{type:"routeProvider"}}),p=(0,z.useMemo)(()=>n!=null&&n.isProvided?n!=null&&n.isLegacy?!(c||(d==null?void 0:d.error)):d==null?void 0:d.authenticated:!0,[d,c,n==null?void 0:n.isLegacy]);if(u)return z.default.createElement(ne.Routes,null,z.default.createElement(ne.Route,{path:"*",element:null}));let v=()=>{let{pathname:f,search:y}=location,m=`${f}${y}`;return z.default.createElement(ne.Navigate,{to:`/login?to=${encodeURIComponent(m)}`})},b=[];t.map(f=>{let y=z.default.createElement(ne.Route,{key:`${f.route}`,path:`${f.route}`,element:z.default.createElement(ir,{route:f.route})},z.default.createElement(ne.Route,{path:":action",element:z.default.createElement(ir,{route:f.route})},z.default.createElement(ne.Route,{path:":id",element:z.default.createElement(ir,{route:f.route})})));b.push(y)});let s=()=>{var f,y;return z.default.createElement(ne.Routes,null,[...i||[]].filter(m=>!m.layout).map((m,C)=>z.default.createElement(ne.Route,{key:`custom-route-${C}`,...m,element:m.element})),z.default.createElement(ne.Route,{path:"/",element:z.default.createElement(Z.LayoutWrapper,null,z.default.createElement(ne.Outlet,null))},[...i||[]].filter(m=>m.layout).map((m,C)=>z.default.createElement(ne.Route,{key:`custom-route-${C}`,...m,element:m.element})),a?z.default.createElement(ne.Route,{index:!0,element:z.default.createElement(Z.CanAccess,{resource:"dashboard",action:"list",fallback:r??z.default.createElement(Z.ErrorComponent,null)},z.default.createElement(a,null))}):z.default.createElement(ne.Route,{index:!0,element:z.default.createElement(ne.Navigate,{to:e??`/${(y=(f=t.find(m=>m.list))==null?void 0:f.route)==null?void 0:y.replace(/^\//,"")}`})}),...[...b||[]],z.default.createElement(ne.Route,{path:"*",element:z.default.createElement(ir,{route:""})})))},g=()=>o?z.default.createElement(o,null):z.default.createElement(Z.LoginPage,null);return p?s():(()=>z.default.createElement(ne.Routes,null,[...i||[]].map((f,y)=>z.default.createElement(ne.Route,{key:`custom-route-${y}`,...f})),z.default.createElement(ne.Route,{path:"/",element:g()}),z.default.createElement(ne.Route,{path:"/login",element:g()}),z.default.createElement(ne.Route,{path:"*",element:z.default.createElement(v,null)})))()};function kn({children:e,...t}){return gt.default.createElement(xt.BrowserRouter,{...t},gt.default.createElement(lr,{initialRoute:typeof this<"u"?this.initialRoute:void 0}),e)}function Iu({children:e,...t}){return gt.default.createElement(xt.MemoryRouter,{...t},gt.default.createElement(lr,{initialRoute:typeof this<"u"?this.initialRoute:void 0}),e)}function Uu({children:e,...t}){return gt.default.createElement(xt.HashRouter,{...t},gt.default.createElement(lr,{initialRoute:typeof this<"u"?this.initialRoute:void 0}),e)}var St=qt(P("react")),On=P("react-router-dom");function Ku(e,t=!0){let{navigator:r}=St.default.useContext(On.UNSAFE_NavigationContext);St.default.useEffect(()=>{if(!t)return;let a=r.go,o=r.push;return r.push=(...i)=>{e()!==!1&&o(...i)},r.go=(...i)=>{e()!==!1&&a(...i)},()=>{r.push=o,r.go=a}},[r,e,t])}function Nn(e,t=!0,r,a=!1){let o=St.default.useCallback(n=>(n.preventDefault(),n.returnValue=e,n.returnValue),[e]);St.default.useEffect(()=>(t&&!a&&window.addEventListener("beforeunload",o),()=>{window.removeEventListener("beforeunload",o)}),[o,t,a]);let i=St.default.useCallback(()=>{let n=window.confirm(e);return n&&r&&r(),n},[e]);Ku(i,t)}var Tn=({message:e,when:t,setWarnWhen:r})=>(Nn(e,t,()=>{r==null||r(!1)},!0),null);var Qu={useHistory:()=>{let e=(0,Je.useNavigate)();return{push:e,replace:t=>{e(t,{replace:!0})},goBack:()=>{e(-1)}}},useLocation:Je.useLocation,useParams:()=>{let e=(0,Je.useParams)(),{pathname:t}=(0,Je.useLocation)(),r=`/${Object.values(e).join("/")}`;return(0,An.handleUseParams)({...e,resource:Object.keys(e).length===0?t.substring(1):decodeURIComponent(t.substring(1)).replace(r,"")})},Prompt:Tn,Link:Je.Link,RouterComponent:kn},xd=Qu;})();
//# sourceMappingURL=legacy.js.map